(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const d of document.querySelectorAll('link[rel="modulepreload"]'))l(d);new MutationObserver(d=>{for(const f of d)if(f.type==="childList")for(const h of f.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&l(h)}).observe(document,{childList:!0,subtree:!0});function r(d){const f={};return d.integrity&&(f.integrity=d.integrity),d.referrerPolicy&&(f.referrerPolicy=d.referrerPolicy),d.crossOrigin==="use-credentials"?f.credentials="include":d.crossOrigin==="anonymous"?f.credentials="omit":f.credentials="same-origin",f}function l(d){if(d.ep)return;d.ep=!0;const f=r(d);fetch(d.href,f)}})();function Vm(s){return s&&s.__esModule&&Object.prototype.hasOwnProperty.call(s,"default")?s.default:s}var Iu={exports:{}},Ur={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var im;function vb(){if(im)return Ur;im=1;var s=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function r(l,d,f){var h=null;if(f!==void 0&&(h=""+f),d.key!==void 0&&(h=""+d.key),"key"in d){f={};for(var b in d)b!=="key"&&(f[b]=d[b])}else f=d;return d=f.ref,{$$typeof:s,type:l,key:h,ref:d!==void 0?d:null,props:f}}return Ur.Fragment=n,Ur.jsx=r,Ur.jsxs=r,Ur}var rm;function yb(){return rm||(rm=1,Iu.exports=vb()),Iu.exports}var c=yb(),$u={exports:{}},Oe={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lm;function xb(){if(lm)return Oe;lm=1;var s=Symbol.for("react.transitional.element"),n=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),l=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),f=Symbol.for("react.consumer"),h=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),S=Symbol.for("react.activity"),j=Symbol.iterator;function E(k){return k===null||typeof k!="object"?null:(k=j&&k[j]||k["@@iterator"],typeof k=="function"?k:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},B=Object.assign,P={};function Y(k,L,W){this.props=k,this.context=L,this.refs=P,this.updater=W||x}Y.prototype.isReactComponent={},Y.prototype.setState=function(k,L){if(typeof k!="object"&&typeof k!="function"&&k!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,k,L,"setState")},Y.prototype.forceUpdate=function(k){this.updater.enqueueForceUpdate(this,k,"forceUpdate")};function H(){}H.prototype=Y.prototype;function D(k,L,W){this.props=k,this.context=L,this.refs=P,this.updater=W||x}var Z=D.prototype=new H;Z.constructor=D,B(Z,Y.prototype),Z.isPureReactComponent=!0;var ke=Array.isArray;function oe(){}var se={H:null,A:null,T:null,S:null},te=Object.prototype.hasOwnProperty;function Me(k,L,W){var ae=W.ref;return{$$typeof:s,type:k,key:L,ref:ae!==void 0?ae:null,props:W}}function Ft(k,L){return Me(k.type,L,k.props)}function yt(k){return typeof k=="object"&&k!==null&&k.$$typeof===s}function dt(k){var L={"=":"=0",":":"=2"};return"$"+k.replace(/[=:]/g,function(W){return L[W]})}var ot=/\/+/g;function Ze(k,L){return typeof k=="object"&&k!==null&&k.key!=null?dt(""+k.key):L.toString(36)}function ft(k){switch(k.status){case"fulfilled":return k.value;case"rejected":throw k.reason;default:switch(typeof k.status=="string"?k.then(oe,oe):(k.status="pending",k.then(function(L){k.status==="pending"&&(k.status="fulfilled",k.value=L)},function(L){k.status==="pending"&&(k.status="rejected",k.reason=L)})),k.status){case"fulfilled":return k.value;case"rejected":throw k.reason}}throw k}function q(k,L,W,ae,Se){var Ne=typeof k;(Ne==="undefined"||Ne==="boolean")&&(k=null);var He=!1;if(k===null)He=!0;else switch(Ne){case"bigint":case"string":case"number":He=!0;break;case"object":switch(k.$$typeof){case s:case n:He=!0;break;case w:return He=k._init,q(He(k._payload),L,W,ae,Se)}}if(He)return Se=Se(k),He=ae===""?"."+Ze(k,0):ae,ke(Se)?(W="",He!=null&&(W=He.replace(ot,"$&/")+"/"),q(Se,L,W,"",function(ve){return ve})):Se!=null&&(yt(Se)&&(Se=Ft(Se,W+(Se.key==null||k&&k.key===Se.key?"":(""+Se.key).replace(ot,"$&/")+"/")+He)),L.push(Se)),1;He=0;var G=ae===""?".":ae+":";if(ke(k))for(var X=0;X<k.length;X++)ae=k[X],Ne=G+Ze(ae,X),He+=q(ae,L,W,Ne,Se);else if(X=E(k),typeof X=="function")for(k=X.call(k),X=0;!(ae=k.next()).done;)ae=ae.value,Ne=G+Ze(ae,X++),He+=q(ae,L,W,Ne,Se);else if(Ne==="object"){if(typeof k.then=="function")return q(ft(k),L,W,ae,Se);throw L=String(k),Error("Objects are not valid as a React child (found: "+(L==="[object Object]"?"object with keys {"+Object.keys(k).join(", ")+"}":L)+"). If you meant to render a collection of children, use an array instead.")}return He}function ee(k,L,W){if(k==null)return k;var ae=[],Se=0;return q(k,ae,"","",function(Ne){return L.call(W,Ne,Se++)}),ae}function xe(k){if(k._status===-1){var L=k._result;L=L(),L.then(function(W){(k._status===0||k._status===-1)&&(k._status=1,k._result=W)},function(W){(k._status===0||k._status===-1)&&(k._status=2,k._result=W)}),k._status===-1&&(k._status=0,k._result=L)}if(k._status===1)return k._result.default;throw k._result}var De=typeof reportError=="function"?reportError:function(k){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var L=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof k=="object"&&k!==null&&typeof k.message=="string"?String(k.message):String(k),error:k});if(!window.dispatchEvent(L))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",k);return}console.error(k)},Be={map:ee,forEach:function(k,L,W){ee(k,function(){L.apply(this,arguments)},W)},count:function(k){var L=0;return ee(k,function(){L++}),L},toArray:function(k){return ee(k,function(L){return L})||[]},only:function(k){if(!yt(k))throw Error("React.Children.only expected to receive a single React element child.");return k}};return Oe.Activity=S,Oe.Children=Be,Oe.Component=Y,Oe.Fragment=r,Oe.Profiler=d,Oe.PureComponent=D,Oe.StrictMode=l,Oe.Suspense=g,Oe.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=se,Oe.__COMPILER_RUNTIME={__proto__:null,c:function(k){return se.H.useMemoCache(k)}},Oe.cache=function(k){return function(){return k.apply(null,arguments)}},Oe.cacheSignal=function(){return null},Oe.cloneElement=function(k,L,W){if(k==null)throw Error("The argument must be a React element, but you passed "+k+".");var ae=B({},k.props),Se=k.key;if(L!=null)for(Ne in L.key!==void 0&&(Se=""+L.key),L)!te.call(L,Ne)||Ne==="key"||Ne==="__self"||Ne==="__source"||Ne==="ref"&&L.ref===void 0||(ae[Ne]=L[Ne]);var Ne=arguments.length-2;if(Ne===1)ae.children=W;else if(1<Ne){for(var He=Array(Ne),G=0;G<Ne;G++)He[G]=arguments[G+2];ae.children=He}return Me(k.type,Se,ae)},Oe.createContext=function(k){return k={$$typeof:h,_currentValue:k,_currentValue2:k,_threadCount:0,Provider:null,Consumer:null},k.Provider=k,k.Consumer={$$typeof:f,_context:k},k},Oe.createElement=function(k,L,W){var ae,Se={},Ne=null;if(L!=null)for(ae in L.key!==void 0&&(Ne=""+L.key),L)te.call(L,ae)&&ae!=="key"&&ae!=="__self"&&ae!=="__source"&&(Se[ae]=L[ae]);var He=arguments.length-2;if(He===1)Se.children=W;else if(1<He){for(var G=Array(He),X=0;X<He;X++)G[X]=arguments[X+2];Se.children=G}if(k&&k.defaultProps)for(ae in He=k.defaultProps,He)Se[ae]===void 0&&(Se[ae]=He[ae]);return Me(k,Ne,Se)},Oe.createRef=function(){return{current:null}},Oe.forwardRef=function(k){return{$$typeof:b,render:k}},Oe.isValidElement=yt,Oe.lazy=function(k){return{$$typeof:w,_payload:{_status:-1,_result:k},_init:xe}},Oe.memo=function(k,L){return{$$typeof:p,type:k,compare:L===void 0?null:L}},Oe.startTransition=function(k){var L=se.T,W={};se.T=W;try{var ae=k(),Se=se.S;Se!==null&&Se(W,ae),typeof ae=="object"&&ae!==null&&typeof ae.then=="function"&&ae.then(oe,De)}catch(Ne){De(Ne)}finally{L!==null&&W.types!==null&&(L.types=W.types),se.T=L}},Oe.unstable_useCacheRefresh=function(){return se.H.useCacheRefresh()},Oe.use=function(k){return se.H.use(k)},Oe.useActionState=function(k,L,W){return se.H.useActionState(k,L,W)},Oe.useCallback=function(k,L){return se.H.useCallback(k,L)},Oe.useContext=function(k){return se.H.useContext(k)},Oe.useDebugValue=function(){},Oe.useDeferredValue=function(k,L){return se.H.useDeferredValue(k,L)},Oe.useEffect=function(k,L){return se.H.useEffect(k,L)},Oe.useEffectEvent=function(k){return se.H.useEffectEvent(k)},Oe.useId=function(){return se.H.useId()},Oe.useImperativeHandle=function(k,L,W){return se.H.useImperativeHandle(k,L,W)},Oe.useInsertionEffect=function(k,L){return se.H.useInsertionEffect(k,L)},Oe.useLayoutEffect=function(k,L){return se.H.useLayoutEffect(k,L)},Oe.useMemo=function(k,L){return se.H.useMemo(k,L)},Oe.useOptimistic=function(k,L){return se.H.useOptimistic(k,L)},Oe.useReducer=function(k,L,W){return se.H.useReducer(k,L,W)},Oe.useRef=function(k){return se.H.useRef(k)},Oe.useState=function(k){return se.H.useState(k)},Oe.useSyncExternalStore=function(k,L,W){return se.H.useSyncExternalStore(k,L,W)},Oe.useTransition=function(){return se.H.useTransition()},Oe.version="19.2.3",Oe}var om;function Sd(){return om||(om=1,$u.exports=xb()),$u.exports}var M=Sd();const Oo=Vm(M);var Hu={exports:{}},Br={},Gu={exports:{}},Vu={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cm;function wb(){return cm||(cm=1,(function(s){function n(q,ee){var xe=q.length;q.push(ee);e:for(;0<xe;){var De=xe-1>>>1,Be=q[De];if(0<d(Be,ee))q[De]=ee,q[xe]=Be,xe=De;else break e}}function r(q){return q.length===0?null:q[0]}function l(q){if(q.length===0)return null;var ee=q[0],xe=q.pop();if(xe!==ee){q[0]=xe;e:for(var De=0,Be=q.length,k=Be>>>1;De<k;){var L=2*(De+1)-1,W=q[L],ae=L+1,Se=q[ae];if(0>d(W,xe))ae<Be&&0>d(Se,W)?(q[De]=Se,q[ae]=xe,De=ae):(q[De]=W,q[L]=xe,De=L);else if(ae<Be&&0>d(Se,xe))q[De]=Se,q[ae]=xe,De=ae;else break e}}return ee}function d(q,ee){var xe=q.sortIndex-ee.sortIndex;return xe!==0?xe:q.id-ee.id}if(s.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var f=performance;s.unstable_now=function(){return f.now()}}else{var h=Date,b=h.now();s.unstable_now=function(){return h.now()-b}}var g=[],p=[],w=1,S=null,j=3,E=!1,x=!1,B=!1,P=!1,Y=typeof setTimeout=="function"?setTimeout:null,H=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;function Z(q){for(var ee=r(p);ee!==null;){if(ee.callback===null)l(p);else if(ee.startTime<=q)l(p),ee.sortIndex=ee.expirationTime,n(g,ee);else break;ee=r(p)}}function ke(q){if(B=!1,Z(q),!x)if(r(g)!==null)x=!0,oe||(oe=!0,dt());else{var ee=r(p);ee!==null&&ft(ke,ee.startTime-q)}}var oe=!1,se=-1,te=5,Me=-1;function Ft(){return P?!0:!(s.unstable_now()-Me<te)}function yt(){if(P=!1,oe){var q=s.unstable_now();Me=q;var ee=!0;try{e:{x=!1,B&&(B=!1,H(se),se=-1),E=!0;var xe=j;try{t:{for(Z(q),S=r(g);S!==null&&!(S.expirationTime>q&&Ft());){var De=S.callback;if(typeof De=="function"){S.callback=null,j=S.priorityLevel;var Be=De(S.expirationTime<=q);if(q=s.unstable_now(),typeof Be=="function"){S.callback=Be,Z(q),ee=!0;break t}S===r(g)&&l(g),Z(q)}else l(g);S=r(g)}if(S!==null)ee=!0;else{var k=r(p);k!==null&&ft(ke,k.startTime-q),ee=!1}}break e}finally{S=null,j=xe,E=!1}ee=void 0}}finally{ee?dt():oe=!1}}}var dt;if(typeof D=="function")dt=function(){D(yt)};else if(typeof MessageChannel<"u"){var ot=new MessageChannel,Ze=ot.port2;ot.port1.onmessage=yt,dt=function(){Ze.postMessage(null)}}else dt=function(){Y(yt,0)};function ft(q,ee){se=Y(function(){q(s.unstable_now())},ee)}s.unstable_IdlePriority=5,s.unstable_ImmediatePriority=1,s.unstable_LowPriority=4,s.unstable_NormalPriority=3,s.unstable_Profiling=null,s.unstable_UserBlockingPriority=2,s.unstable_cancelCallback=function(q){q.callback=null},s.unstable_forceFrameRate=function(q){0>q||125<q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):te=0<q?Math.floor(1e3/q):5},s.unstable_getCurrentPriorityLevel=function(){return j},s.unstable_next=function(q){switch(j){case 1:case 2:case 3:var ee=3;break;default:ee=j}var xe=j;j=ee;try{return q()}finally{j=xe}},s.unstable_requestPaint=function(){P=!0},s.unstable_runWithPriority=function(q,ee){switch(q){case 1:case 2:case 3:case 4:case 5:break;default:q=3}var xe=j;j=q;try{return ee()}finally{j=xe}},s.unstable_scheduleCallback=function(q,ee,xe){var De=s.unstable_now();switch(typeof xe=="object"&&xe!==null?(xe=xe.delay,xe=typeof xe=="number"&&0<xe?De+xe:De):xe=De,q){case 1:var Be=-1;break;case 2:Be=250;break;case 5:Be=1073741823;break;case 4:Be=1e4;break;default:Be=5e3}return Be=xe+Be,q={id:w++,callback:ee,priorityLevel:q,startTime:xe,expirationTime:Be,sortIndex:-1},xe>De?(q.sortIndex=xe,n(p,q),r(g)===null&&q===r(p)&&(B?(H(se),se=-1):B=!0,ft(ke,xe-De))):(q.sortIndex=Be,n(g,q),x||E||(x=!0,oe||(oe=!0,dt()))),q},s.unstable_shouldYield=Ft,s.unstable_wrapCallback=function(q){var ee=j;return function(){var xe=j;j=ee;try{return q.apply(this,arguments)}finally{j=xe}}}})(Vu)),Vu}var um;function _b(){return um||(um=1,Gu.exports=wb()),Gu.exports}var Pu={exports:{}},na={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var dm;function Sb(){if(dm)return na;dm=1;var s=Sd();function n(g){var p="https://react.dev/errors/"+g;if(1<arguments.length){p+="?args[]="+encodeURIComponent(arguments[1]);for(var w=2;w<arguments.length;w++)p+="&args[]="+encodeURIComponent(arguments[w])}return"Minified React error #"+g+"; visit "+p+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var l={d:{f:r,r:function(){throw Error(n(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},d=Symbol.for("react.portal");function f(g,p,w){var S=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:d,key:S==null?null:""+S,children:g,containerInfo:p,implementation:w}}var h=s.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function b(g,p){if(g==="font")return"";if(typeof p=="string")return p==="use-credentials"?p:""}return na.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=l,na.createPortal=function(g,p){var w=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!p||p.nodeType!==1&&p.nodeType!==9&&p.nodeType!==11)throw Error(n(299));return f(g,p,null,w)},na.flushSync=function(g){var p=h.T,w=l.p;try{if(h.T=null,l.p=2,g)return g()}finally{h.T=p,l.p=w,l.d.f()}},na.preconnect=function(g,p){typeof g=="string"&&(p?(p=p.crossOrigin,p=typeof p=="string"?p==="use-credentials"?p:"":void 0):p=null,l.d.C(g,p))},na.prefetchDNS=function(g){typeof g=="string"&&l.d.D(g)},na.preinit=function(g,p){if(typeof g=="string"&&p&&typeof p.as=="string"){var w=p.as,S=b(w,p.crossOrigin),j=typeof p.integrity=="string"?p.integrity:void 0,E=typeof p.fetchPriority=="string"?p.fetchPriority:void 0;w==="style"?l.d.S(g,typeof p.precedence=="string"?p.precedence:void 0,{crossOrigin:S,integrity:j,fetchPriority:E}):w==="script"&&l.d.X(g,{crossOrigin:S,integrity:j,fetchPriority:E,nonce:typeof p.nonce=="string"?p.nonce:void 0})}},na.preinitModule=function(g,p){if(typeof g=="string")if(typeof p=="object"&&p!==null){if(p.as==null||p.as==="script"){var w=b(p.as,p.crossOrigin);l.d.M(g,{crossOrigin:w,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0})}}else p==null&&l.d.M(g)},na.preload=function(g,p){if(typeof g=="string"&&typeof p=="object"&&p!==null&&typeof p.as=="string"){var w=p.as,S=b(w,p.crossOrigin);l.d.L(g,w,{crossOrigin:S,integrity:typeof p.integrity=="string"?p.integrity:void 0,nonce:typeof p.nonce=="string"?p.nonce:void 0,type:typeof p.type=="string"?p.type:void 0,fetchPriority:typeof p.fetchPriority=="string"?p.fetchPriority:void 0,referrerPolicy:typeof p.referrerPolicy=="string"?p.referrerPolicy:void 0,imageSrcSet:typeof p.imageSrcSet=="string"?p.imageSrcSet:void 0,imageSizes:typeof p.imageSizes=="string"?p.imageSizes:void 0,media:typeof p.media=="string"?p.media:void 0})}},na.preloadModule=function(g,p){if(typeof g=="string")if(p){var w=b(p.as,p.crossOrigin);l.d.m(g,{as:typeof p.as=="string"&&p.as!=="script"?p.as:void 0,crossOrigin:w,integrity:typeof p.integrity=="string"?p.integrity:void 0})}else l.d.m(g)},na.requestFormReset=function(g){l.d.r(g)},na.unstable_batchedUpdates=function(g,p){return g(p)},na.useFormState=function(g,p,w){return h.H.useFormState(g,p,w)},na.useFormStatus=function(){return h.H.useHostTransitionStatus()},na.version="19.2.3",na}var fm;function jb(){if(fm)return Pu.exports;fm=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(n){console.error(n)}}return s(),Pu.exports=Sb(),Pu.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hm;function Nb(){if(hm)return Br;hm=1;var s=_b(),n=Sd(),r=jb();function l(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function d(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function f(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function h(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function b(e){if(e.tag===31){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function g(e){if(f(e)!==e)throw Error(l(188))}function p(e){var t=e.alternate;if(!t){if(t=f(e),t===null)throw Error(l(188));return t!==e?null:e}for(var a=e,i=t;;){var o=a.return;if(o===null)break;var u=o.alternate;if(u===null){if(i=o.return,i!==null){a=i;continue}break}if(o.child===u.child){for(u=o.child;u;){if(u===a)return g(o),e;if(u===i)return g(o),t;u=u.sibling}throw Error(l(188))}if(a.return!==i.return)a=o,i=u;else{for(var m=!1,y=o.child;y;){if(y===a){m=!0,a=o,i=u;break}if(y===i){m=!0,i=o,a=u;break}y=y.sibling}if(!m){for(y=u.child;y;){if(y===a){m=!0,a=u,i=o;break}if(y===i){m=!0,i=u,a=o;break}y=y.sibling}if(!m)throw Error(l(189))}}if(a.alternate!==i)throw Error(l(190))}if(a.tag!==3)throw Error(l(188));return a.stateNode.current===a?e:t}function w(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=w(e),t!==null)return t;e=e.sibling}return null}var S=Object.assign,j=Symbol.for("react.element"),E=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),B=Symbol.for("react.fragment"),P=Symbol.for("react.strict_mode"),Y=Symbol.for("react.profiler"),H=Symbol.for("react.consumer"),D=Symbol.for("react.context"),Z=Symbol.for("react.forward_ref"),ke=Symbol.for("react.suspense"),oe=Symbol.for("react.suspense_list"),se=Symbol.for("react.memo"),te=Symbol.for("react.lazy"),Me=Symbol.for("react.activity"),Ft=Symbol.for("react.memo_cache_sentinel"),yt=Symbol.iterator;function dt(e){return e===null||typeof e!="object"?null:(e=yt&&e[yt]||e["@@iterator"],typeof e=="function"?e:null)}var ot=Symbol.for("react.client.reference");function Ze(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===ot?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case B:return"Fragment";case Y:return"Profiler";case P:return"StrictMode";case ke:return"Suspense";case oe:return"SuspenseList";case Me:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case x:return"Portal";case D:return e.displayName||"Context";case H:return(e._context.displayName||"Context")+".Consumer";case Z:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case se:return t=e.displayName||null,t!==null?t:Ze(e.type)||"Memo";case te:t=e._payload,e=e._init;try{return Ze(e(t))}catch{}}return null}var ft=Array.isArray,q=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,ee=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,xe={pending:!1,data:null,method:null,action:null},De=[],Be=-1;function k(e){return{current:e}}function L(e){0>Be||(e.current=De[Be],De[Be]=null,Be--)}function W(e,t){Be++,De[Be]=e.current,e.current=t}var ae=k(null),Se=k(null),Ne=k(null),He=k(null);function G(e,t){switch(W(Ne,t),W(Se,e),W(ae,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?k0(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=k0(t),e=A0(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}L(ae),W(ae,e)}function X(){L(ae),L(Se),L(Ne)}function ve(e){e.memoizedState!==null&&W(He,e);var t=ae.current,a=A0(t,e.type);t!==a&&(W(Se,e),W(ae,a))}function re(e){Se.current===e&&(L(ae),L(Se)),He.current===e&&(L(He),Cr._currentValue=xe)}var ht,Nt;function ta(e){if(ht===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);ht=t&&t[1]||"",Nt=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+ht+e+Nt}var Da=!1;function ls(e,t){if(!e||Da)return"";Da=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var i={DetermineComponentFrameRoot:function(){try{if(t){var F=function(){throw Error()};if(Object.defineProperty(F.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(F,[])}catch(U){var z=U}Reflect.construct(e,[],F)}else{try{F.call()}catch(U){z=U}e.call(F.prototype)}}else{try{throw Error()}catch(U){z=U}(F=e())&&typeof F.catch=="function"&&F.catch(function(){})}}catch(U){if(U&&z&&typeof U.stack=="string")return[U.stack,z.stack]}return[null,null]}};i.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var o=Object.getOwnPropertyDescriptor(i.DetermineComponentFrameRoot,"name");o&&o.configurable&&Object.defineProperty(i.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var u=i.DetermineComponentFrameRoot(),m=u[0],y=u[1];if(m&&y){var N=m.split(`
`),C=y.split(`
`);for(o=i=0;i<N.length&&!N[i].includes("DetermineComponentFrameRoot");)i++;for(;o<C.length&&!C[o].includes("DetermineComponentFrameRoot");)o++;if(i===N.length||o===C.length)for(i=N.length-1,o=C.length-1;1<=i&&0<=o&&N[i]!==C[o];)o--;for(;1<=i&&0<=o;i--,o--)if(N[i]!==C[o]){if(i!==1||o!==1)do if(i--,o--,0>o||N[i]!==C[o]){var I=`
`+N[i].replace(" at new "," at ");return e.displayName&&I.includes("<anonymous>")&&(I=I.replace("<anonymous>",e.displayName)),I}while(1<=i&&0<=o);break}}}finally{Da=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?ta(a):""}function mt(e,t){switch(e.tag){case 26:case 27:case 5:return ta(e.type);case 16:return ta("Lazy");case 13:return e.child!==t&&t!==null?ta("Suspense Fallback"):ta("Suspense");case 19:return ta("SuspenseList");case 0:case 15:return ls(e.type,!1);case 11:return ls(e.type.render,!1);case 1:return ls(e.type,!0);case 31:return ta("Activity");default:return""}}function qs(e){try{var t="",a=null;do t+=mt(e,a),a=e,e=e.return;while(e);return t}catch(i){return`
Error generating stack: `+i.message+`
`+i.stack}}var K=Object.prototype.hasOwnProperty,Ya=s.unstable_scheduleCallback,Le=s.unstable_cancelCallback,os=s.unstable_shouldYield,Ii=s.unstable_requestPaint,zt=s.unstable_now,Mo=s.unstable_getCurrentPriorityLevel,$i=s.unstable_ImmediatePriority,ne=s.unstable_UserBlockingPriority,Xe=s.unstable_NormalPriority,sn=s.unstable_LowPriority,Ea=s.unstable_IdlePriority,Is=s.log,rn=s.unstable_setDisableYieldValue,cs=null,Re=null;function ra(e){if(typeof Is=="function"&&rn(e),Re&&typeof Re.setStrictMode=="function")try{Re.setStrictMode(cs,e)}catch{}}var rt=Math.clz32?Math.clz32:us,Do=Math.log,Uo=Math.LN2;function us(e){return e>>>=0,e===0?32:31-(Do(e)/Uo|0)|0}var $s=256,ln=262144,Hs=4194304;function Qa(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return e&261888;case 262144:case 524288:case 1048576:case 2097152:return e&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function la(e,t,a){var i=e.pendingLanes;if(i===0)return 0;var o=0,u=e.suspendedLanes,m=e.pingedLanes;e=e.warmLanes;var y=i&134217727;return y!==0?(i=y&~u,i!==0?o=Qa(i):(m&=y,m!==0?o=Qa(m):a||(a=y&~e,a!==0&&(o=Qa(a))))):(y=i&~u,y!==0?o=Qa(y):m!==0?o=Qa(m):a||(a=i&~e,a!==0&&(o=Qa(a)))),o===0?0:t!==0&&t!==o&&(t&u)===0&&(u=o&-o,a=t&-t,u>=a||u===32&&(a&4194048)!==0)?t:o}function Xa(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Ad(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xt(){var e=Hs;return Hs<<=1,(Hs&62914560)===0&&(Hs=4194304),e}function kn(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function Kt(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Fe(e,t,a,i,o,u){var m=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var y=e.entanglements,N=e.expirationTimes,C=e.hiddenUpdates;for(a=m&~a;0<a;){var I=31-rt(a),F=1<<I;y[I]=0,N[I]=-1;var z=C[I];if(z!==null)for(C[I]=null,I=0;I<z.length;I++){var U=z[I];U!==null&&(U.lane&=-536870913)}a&=~F}i!==0&&Gs(e,i,0),u!==0&&o===0&&e.tag!==0&&(e.suspendedLanes|=u&~(m&~t))}function Gs(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var i=31-rt(t);e.entangledLanes|=t,e.entanglements[i]=e.entanglements[i]|1073741824|a&261930}function Vs(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var i=31-rt(a),o=1<<i;o&t|e[i]&t&&(e[i]|=t),a&=~o}}function Hi(e,t){var a=t&-t;return a=(a&42)!==0?1:Gi(a),(a&(e.suspendedLanes|t))!==0?0:a}function Gi(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function Ps(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function ds(){var e=ee.p;return e!==0?e:(e=window.event,e===void 0?32:Z0(e.type))}function An(e,t){var a=ee.p;try{return ee.p=e,t()}finally{ee.p=a}}var Ua=Math.random().toString(36).slice(2),Ot="__reactFiber$"+Ua,We="__reactProps$"+Ua,Ae="__reactContainer$"+Ua,Vi="__reactEvents$"+Ua,Bo="__reactListeners$"+Ua,Lo="__reactHandles$"+Ua,Pi="__reactResources$"+Ua,fs="__reactMarker$"+Ua;function On(e){delete e[Ot],delete e[We],delete e[Vi],delete e[Bo],delete e[Lo]}function Ba(e){var t=e[Ot];if(t)return t;for(var a=e.parentNode;a;){if(t=a[Ae]||a[Ot]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=U0(e);e!==null;){if(a=e[Ot])return a;e=U0(e)}return t}e=a,a=e.parentNode}return null}function Rn(e){if(e=e[Ot]||e[Ae]){var t=e.tag;if(t===5||t===6||t===13||t===31||t===26||t===27||t===3)return e}return null}function Cn(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(l(33))}function Yt(e){var t=e[Pi];return t||(t=e[Pi]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function wt(e){e[fs]=!0}var Fi=new Set,$t={};function on(e,t){zn(e,t),zn(e+"Capture",t)}function zn(e,t){for($t[e]=t,e=0;e<t.length;e++)Fi.add(t[e])}var Zr=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Fs={},Wr={};function qo(e){return K.call(Wr,e)?!0:K.call(Fs,e)?!1:Zr.test(e)?Wr[e]=!0:(Fs[e]=!0,!1)}function Mn(e,t,a){if(qo(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var i=t.toLowerCase().slice(0,5);if(i!=="data-"&&i!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function La(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function qa(e,t,a,i){if(i===null)e.removeAttribute(a);else{switch(typeof i){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+i)}}function oa(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function el(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Io(e,t,a){var i=Object.getOwnPropertyDescriptor(e.constructor.prototype,t);if(!e.hasOwnProperty(t)&&typeof i<"u"&&typeof i.get=="function"&&typeof i.set=="function"){var o=i.get,u=i.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return o.call(this)},set:function(m){a=""+m,u.call(this,m)}}),Object.defineProperty(e,t,{enumerable:i.enumerable}),{getValue:function(){return a},setValue:function(m){a=""+m},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ki(e){if(!e._valueTracker){var t=el(e)?"checked":"value";e._valueTracker=Io(e,t,""+e[t])}}function tl(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),i="";return e&&(i=el(e)?e.checked?"true":"false":e.value),e=i,e!==a?(t.setValue(e),!0):!1}function Ks(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var $o=/[\n"\\]/g;function ca(e){return e.replace($o,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function Ys(e,t,a,i,o,u,m,y){e.name="",m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"?e.type=m:e.removeAttribute("type"),t!=null?m==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+oa(t)):e.value!==""+oa(t)&&(e.value=""+oa(t)):m!=="submit"&&m!=="reset"||e.removeAttribute("value"),t!=null?Yi(e,m,oa(t)):a!=null?Yi(e,m,oa(a)):i!=null&&e.removeAttribute("value"),o==null&&u!=null&&(e.defaultChecked=!!u),o!=null&&(e.checked=o&&typeof o!="function"&&typeof o!="symbol"),y!=null&&typeof y!="function"&&typeof y!="symbol"&&typeof y!="boolean"?e.name=""+oa(y):e.removeAttribute("name")}function al(e,t,a,i,o,u,m,y){if(u!=null&&typeof u!="function"&&typeof u!="symbol"&&typeof u!="boolean"&&(e.type=u),t!=null||a!=null){if(!(u!=="submit"&&u!=="reset"||t!=null)){Ki(e);return}a=a!=null?""+oa(a):"",t=t!=null?""+oa(t):a,y||t===e.value||(e.value=t),e.defaultValue=t}i=i??o,i=typeof i!="function"&&typeof i!="symbol"&&!!i,e.checked=y?e.checked:!!i,e.defaultChecked=!!i,m!=null&&typeof m!="function"&&typeof m!="symbol"&&typeof m!="boolean"&&(e.name=m),Ki(e)}function Yi(e,t,a){t==="number"&&Ks(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function Dn(e,t,a,i){if(e=e.options,t){t={};for(var o=0;o<a.length;o++)t["$"+a[o]]=!0;for(a=0;a<e.length;a++)o=t.hasOwnProperty("$"+e[a].value),e[a].selected!==o&&(e[a].selected=o),o&&i&&(e[a].defaultSelected=!0)}else{for(a=""+oa(a),t=null,o=0;o<e.length;o++){if(e[o].value===a){e[o].selected=!0,i&&(e[o].defaultSelected=!0);return}t!==null||e[o].disabled||(t=e[o])}t!==null&&(t.selected=!0)}}function Qi(e,t,a){if(t!=null&&(t=""+oa(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+oa(a):""}function Qs(e,t,a,i){if(t==null){if(i!=null){if(a!=null)throw Error(l(92));if(ft(i)){if(1<i.length)throw Error(l(93));i=i[0]}a=i}a==null&&(a=""),t=a}a=oa(t),e.defaultValue=a,i=e.textContent,i===a&&i!==""&&i!==null&&(e.value=i),Ki(e)}function Ja(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var Xi=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Xs(e,t,a){var i=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?i?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":i?e.setProperty(t,a):typeof a!="number"||a===0||Xi.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function Ji(e,t,a){if(t!=null&&typeof t!="object")throw Error(l(62));if(e=e.style,a!=null){for(var i in a)!a.hasOwnProperty(i)||t!=null&&t.hasOwnProperty(i)||(i.indexOf("--")===0?e.setProperty(i,""):i==="float"?e.cssFloat="":e[i]="");for(var o in t)i=t[o],t.hasOwnProperty(o)&&a[o]!==i&&Xs(e,o,i)}else for(var u in t)t.hasOwnProperty(u)&&Xs(e,u,t[u])}function v(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var _=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),A=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function $(e){return A.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}function Q(){}var ce=null;function pe(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var de=null,we=null;function Ke(e){var t=Rn(e);if(t&&(e=t.stateNode)){var a=e[We]||null;e:switch(e=t.stateNode,t.type){case"input":if(Ys(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+ca(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var i=a[t];if(i!==e&&i.form===e.form){var o=i[We]||null;if(!o)throw Error(l(90));Ys(i,o.value,o.defaultValue,o.defaultValue,o.checked,o.defaultChecked,o.type,o.name)}}for(t=0;t<a.length;t++)i=a[t],i.form===e.form&&tl(i)}break e;case"textarea":Qi(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&Dn(e,!!a.multiple,t,!1)}}}var ct=!1;function _t(e,t,a){if(ct)return e(t,a);ct=!0;try{var i=e(t);return i}finally{if(ct=!1,(de!==null||we!==null)&&(ql(),de&&(t=de,e=we,we=de=null,Ke(t),e)))for(t=0;t<e.length;t++)Ke(e[t])}}function ye(e,t){var a=e.stateNode;if(a===null)return null;var i=a[We]||null;if(i===null)return null;a=i[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(i=!i.disabled)||(e=e.type,i=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!i;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(l(231,t,typeof a));return a}var Ce=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),at=!1;if(Ce)try{var St={};Object.defineProperty(St,"passive",{get:function(){at=!0}}),window.addEventListener("test",St,St),window.removeEventListener("test",St,St)}catch{at=!1}var ie=null,me=null,fe=null;function pt(){if(fe)return fe;var e,t=me,a=t.length,i,o="value"in ie?ie.value:ie.textContent,u=o.length;for(e=0;e<a&&t[e]===o[e];e++);var m=a-e;for(i=1;i<=m&&t[a-i]===o[u-i];i++);return fe=o.slice(e,1<i?1-i:void 0)}function Et(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Vt(){return!0}function aa(){return!1}function Mt(e){function t(a,i,o,u,m){this._reactName=a,this._targetInst=o,this.type=i,this.nativeEvent=u,this.target=m,this.currentTarget=null;for(var y in e)e.hasOwnProperty(y)&&(a=e[y],this[y]=a?a(u):u[y]);return this.isDefaultPrevented=(u.defaultPrevented!=null?u.defaultPrevented:u.returnValue===!1)?Vt:aa,this.isPropagationStopped=aa,this}return S(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Vt)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Vt)},persist:function(){},isPersistent:Vt}),t}var ua={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Za=Mt(ua),Wa=S({},ua,{view:0,detail:0}),gp=Mt(Wa),Ho,Go,Zi,nl=S({},Wa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Po,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Zi&&(Zi&&e.type==="mousemove"?(Ho=e.screenX-Zi.screenX,Go=e.screenY-Zi.screenY):Go=Ho=0,Zi=e),Ho)},movementY:function(e){return"movementY"in e?e.movementY:Go}}),Od=Mt(nl),bp=S({},nl,{dataTransfer:0}),vp=Mt(bp),yp=S({},Wa,{relatedTarget:0}),Vo=Mt(yp),xp=S({},ua,{animationName:0,elapsedTime:0,pseudoElement:0}),wp=Mt(xp),_p=S({},ua,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Sp=Mt(_p),jp=S({},ua,{data:0}),Rd=Mt(jp),Np={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ep={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Tp={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function kp(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=Tp[e])?!!t[e]:!1}function Po(){return kp}var Ap=S({},Wa,{key:function(e){if(e.key){var t=Np[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Et(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?Ep[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Po,charCode:function(e){return e.type==="keypress"?Et(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Et(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Op=Mt(Ap),Rp=S({},nl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Cd=Mt(Rp),Cp=S({},Wa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Po}),zp=Mt(Cp),Mp=S({},ua,{propertyName:0,elapsedTime:0,pseudoElement:0}),Dp=Mt(Mp),Up=S({},nl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Bp=Mt(Up),Lp=S({},ua,{newState:0,oldState:0}),qp=Mt(Lp),Ip=[9,13,27,32],Fo=Ce&&"CompositionEvent"in window,Wi=null;Ce&&"documentMode"in document&&(Wi=document.documentMode);var $p=Ce&&"TextEvent"in window&&!Wi,zd=Ce&&(!Fo||Wi&&8<Wi&&11>=Wi),Md=" ",Dd=!1;function Ud(e,t){switch(e){case"keyup":return Ip.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bd(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Js=!1;function Hp(e,t){switch(e){case"compositionend":return Bd(t);case"keypress":return t.which!==32?null:(Dd=!0,Md);case"textInput":return e=t.data,e===Md&&Dd?null:e;default:return null}}function Gp(e,t){if(Js)return e==="compositionend"||!Fo&&Ud(e,t)?(e=pt(),fe=me=ie=null,Js=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return zd&&t.locale!=="ko"?null:t.data;default:return null}}var Vp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ld(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!Vp[e.type]:t==="textarea"}function qd(e,t,a,i){de?we?we.push(i):we=[i]:de=i,t=Fl(t,"onChange"),0<t.length&&(a=new Za("onChange","change",null,a,i),e.push({event:a,listeners:t}))}var er=null,tr=null;function Pp(e){_0(e,0)}function sl(e){var t=Cn(e);if(tl(t))return e}function Id(e,t){if(e==="change")return t}var $d=!1;if(Ce){var Ko;if(Ce){var Yo="oninput"in document;if(!Yo){var Hd=document.createElement("div");Hd.setAttribute("oninput","return;"),Yo=typeof Hd.oninput=="function"}Ko=Yo}else Ko=!1;$d=Ko&&(!document.documentMode||9<document.documentMode)}function Gd(){er&&(er.detachEvent("onpropertychange",Vd),tr=er=null)}function Vd(e){if(e.propertyName==="value"&&sl(tr)){var t=[];qd(t,tr,e,pe(e)),_t(Pp,t)}}function Fp(e,t,a){e==="focusin"?(Gd(),er=t,tr=a,er.attachEvent("onpropertychange",Vd)):e==="focusout"&&Gd()}function Kp(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return sl(tr)}function Yp(e,t){if(e==="click")return sl(t)}function Qp(e,t){if(e==="input"||e==="change")return sl(t)}function Xp(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var ga=typeof Object.is=="function"?Object.is:Xp;function ar(e,t){if(ga(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),i=Object.keys(t);if(a.length!==i.length)return!1;for(i=0;i<a.length;i++){var o=a[i];if(!K.call(t,o)||!ga(e[o],t[o]))return!1}return!0}function Pd(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Fd(e,t){var a=Pd(e);e=0;for(var i;a;){if(a.nodeType===3){if(i=e+a.textContent.length,e<=t&&i>=t)return{node:a,offset:t-e};e=i}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=Pd(a)}}function Kd(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Kd(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function Yd(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Ks(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=Ks(e.document)}return t}function Qo(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Jp=Ce&&"documentMode"in document&&11>=document.documentMode,Zs=null,Xo=null,nr=null,Jo=!1;function Qd(e,t,a){var i=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;Jo||Zs==null||Zs!==Ks(i)||(i=Zs,"selectionStart"in i&&Qo(i)?i={start:i.selectionStart,end:i.selectionEnd}:(i=(i.ownerDocument&&i.ownerDocument.defaultView||window).getSelection(),i={anchorNode:i.anchorNode,anchorOffset:i.anchorOffset,focusNode:i.focusNode,focusOffset:i.focusOffset}),nr&&ar(nr,i)||(nr=i,i=Fl(Xo,"onSelect"),0<i.length&&(t=new Za("onSelect","select",null,t,a),e.push({event:t,listeners:i}),t.target=Zs)))}function hs(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var Ws={animationend:hs("Animation","AnimationEnd"),animationiteration:hs("Animation","AnimationIteration"),animationstart:hs("Animation","AnimationStart"),transitionrun:hs("Transition","TransitionRun"),transitionstart:hs("Transition","TransitionStart"),transitioncancel:hs("Transition","TransitionCancel"),transitionend:hs("Transition","TransitionEnd")},Zo={},Xd={};Ce&&(Xd=document.createElement("div").style,"AnimationEvent"in window||(delete Ws.animationend.animation,delete Ws.animationiteration.animation,delete Ws.animationstart.animation),"TransitionEvent"in window||delete Ws.transitionend.transition);function ms(e){if(Zo[e])return Zo[e];if(!Ws[e])return e;var t=Ws[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in Xd)return Zo[e]=t[a];return e}var Jd=ms("animationend"),Zd=ms("animationiteration"),Wd=ms("animationstart"),Zp=ms("transitionrun"),Wp=ms("transitionstart"),eg=ms("transitioncancel"),ef=ms("transitionend"),tf=new Map,Wo="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Wo.push("scrollEnd");function Ia(e,t){tf.set(e,t),on(t,[e])}var il=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)},Ta=[],ei=0,ec=0;function rl(){for(var e=ei,t=ec=ei=0;t<e;){var a=Ta[t];Ta[t++]=null;var i=Ta[t];Ta[t++]=null;var o=Ta[t];Ta[t++]=null;var u=Ta[t];if(Ta[t++]=null,i!==null&&o!==null){var m=i.pending;m===null?o.next=o:(o.next=m.next,m.next=o),i.pending=o}u!==0&&af(a,o,u)}}function ll(e,t,a,i){Ta[ei++]=e,Ta[ei++]=t,Ta[ei++]=a,Ta[ei++]=i,ec|=i,e.lanes|=i,e=e.alternate,e!==null&&(e.lanes|=i)}function tc(e,t,a,i){return ll(e,t,a,i),ol(e)}function ps(e,t){return ll(e,null,null,t),ol(e)}function af(e,t,a){e.lanes|=a;var i=e.alternate;i!==null&&(i.lanes|=a);for(var o=!1,u=e.return;u!==null;)u.childLanes|=a,i=u.alternate,i!==null&&(i.childLanes|=a),u.tag===22&&(e=u.stateNode,e===null||e._visibility&1||(o=!0)),e=u,u=u.return;return e.tag===3?(u=e.stateNode,o&&t!==null&&(o=31-rt(a),e=u.hiddenUpdates,i=e[o],i===null?e[o]=[t]:i.push(t),t.lane=a|536870912),u):null}function ol(e){if(50<Nr)throw Nr=0,uu=null,Error(l(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var ti={};function tg(e,t,a,i){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=i,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ba(e,t,a,i){return new tg(e,t,a,i)}function ac(e){return e=e.prototype,!(!e||!e.isReactComponent)}function cn(e,t){var a=e.alternate;return a===null?(a=ba(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function nf(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function cl(e,t,a,i,o,u){var m=0;if(i=e,typeof e=="function")ac(e)&&(m=1);else if(typeof e=="string")m=rb(e,a,ae.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case Me:return e=ba(31,a,t,o),e.elementType=Me,e.lanes=u,e;case B:return gs(a.children,o,u,t);case P:m=8,o|=24;break;case Y:return e=ba(12,a,t,o|2),e.elementType=Y,e.lanes=u,e;case ke:return e=ba(13,a,t,o),e.elementType=ke,e.lanes=u,e;case oe:return e=ba(19,a,t,o),e.elementType=oe,e.lanes=u,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case D:m=10;break e;case H:m=9;break e;case Z:m=11;break e;case se:m=14;break e;case te:m=16,i=null;break e}m=29,a=Error(l(130,e===null?"null":typeof e,"")),i=null}return t=ba(m,a,t,o),t.elementType=e,t.type=i,t.lanes=u,t}function gs(e,t,a,i){return e=ba(7,e,i,t),e.lanes=a,e}function nc(e,t,a){return e=ba(6,e,null,t),e.lanes=a,e}function sf(e){var t=ba(18,null,null,0);return t.stateNode=e,t}function sc(e,t,a){return t=ba(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var rf=new WeakMap;function ka(e,t){if(typeof e=="object"&&e!==null){var a=rf.get(e);return a!==void 0?a:(t={value:e,source:t,stack:qs(t)},rf.set(e,t),t)}return{value:e,source:t,stack:qs(t)}}var ai=[],ni=0,ul=null,sr=0,Aa=[],Oa=0,Un=null,en=1,tn="";function un(e,t){ai[ni++]=sr,ai[ni++]=ul,ul=e,sr=t}function lf(e,t,a){Aa[Oa++]=en,Aa[Oa++]=tn,Aa[Oa++]=Un,Un=e;var i=en;e=tn;var o=32-rt(i)-1;i&=~(1<<o),a+=1;var u=32-rt(t)+o;if(30<u){var m=o-o%5;u=(i&(1<<m)-1).toString(32),i>>=m,o-=m,en=1<<32-rt(t)+o|a<<o|i,tn=u+e}else en=1<<u|a<<o|i,tn=e}function ic(e){e.return!==null&&(un(e,1),lf(e,1,0))}function rc(e){for(;e===ul;)ul=ai[--ni],ai[ni]=null,sr=ai[--ni],ai[ni]=null;for(;e===Un;)Un=Aa[--Oa],Aa[Oa]=null,tn=Aa[--Oa],Aa[Oa]=null,en=Aa[--Oa],Aa[Oa]=null}function of(e,t){Aa[Oa++]=en,Aa[Oa++]=tn,Aa[Oa++]=Un,en=t.id,tn=t.overflow,Un=e}var Qt=null,gt=null,Pe=!1,Bn=null,Ra=!1,lc=Error(l(519));function Ln(e){var t=Error(l(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ir(ka(t,e)),lc}function cf(e){var t=e.stateNode,a=e.type,i=e.memoizedProps;switch(t[Ot]=e,t[We]=i,a){case"dialog":Ie("cancel",t),Ie("close",t);break;case"iframe":case"object":case"embed":Ie("load",t);break;case"video":case"audio":for(a=0;a<Tr.length;a++)Ie(Tr[a],t);break;case"source":Ie("error",t);break;case"img":case"image":case"link":Ie("error",t),Ie("load",t);break;case"details":Ie("toggle",t);break;case"input":Ie("invalid",t),al(t,i.value,i.defaultValue,i.checked,i.defaultChecked,i.type,i.name,!0);break;case"select":Ie("invalid",t);break;case"textarea":Ie("invalid",t),Qs(t,i.value,i.defaultValue,i.children)}a=i.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||i.suppressHydrationWarning===!0||E0(t.textContent,a)?(i.popover!=null&&(Ie("beforetoggle",t),Ie("toggle",t)),i.onScroll!=null&&Ie("scroll",t),i.onScrollEnd!=null&&Ie("scrollend",t),i.onClick!=null&&(t.onclick=Q),t=!0):t=!1,t||Ln(e,!0)}function uf(e){for(Qt=e.return;Qt;)switch(Qt.tag){case 5:case 31:case 13:Ra=!1;return;case 27:case 3:Ra=!0;return;default:Qt=Qt.return}}function si(e){if(e!==Qt)return!1;if(!Pe)return uf(e),Pe=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||Nu(e.type,e.memoizedProps)),a=!a),a&&gt&&Ln(e),uf(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));gt=D0(e)}else if(t===31){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(317));gt=D0(e)}else t===27?(t=gt,Zn(e.type)?(e=Ou,Ou=null,gt=e):gt=t):gt=Qt?za(e.stateNode.nextSibling):null;return!0}function bs(){gt=Qt=null,Pe=!1}function oc(){var e=Bn;return e!==null&&(ma===null?ma=e:ma.push.apply(ma,e),Bn=null),e}function ir(e){Bn===null?Bn=[e]:Bn.push(e)}var cc=k(null),vs=null,dn=null;function qn(e,t,a){W(cc,t._currentValue),t._currentValue=a}function fn(e){e._currentValue=cc.current,L(cc)}function uc(e,t,a){for(;e!==null;){var i=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,i!==null&&(i.childLanes|=t)):i!==null&&(i.childLanes&t)!==t&&(i.childLanes|=t),e===a)break;e=e.return}}function dc(e,t,a,i){var o=e.child;for(o!==null&&(o.return=e);o!==null;){var u=o.dependencies;if(u!==null){var m=o.child;u=u.firstContext;e:for(;u!==null;){var y=u;u=o;for(var N=0;N<t.length;N++)if(y.context===t[N]){u.lanes|=a,y=u.alternate,y!==null&&(y.lanes|=a),uc(u.return,a,e),i||(m=null);break e}u=y.next}}else if(o.tag===18){if(m=o.return,m===null)throw Error(l(341));m.lanes|=a,u=m.alternate,u!==null&&(u.lanes|=a),uc(m,a,e),m=null}else m=o.child;if(m!==null)m.return=o;else for(m=o;m!==null;){if(m===e){m=null;break}if(o=m.sibling,o!==null){o.return=m.return,m=o;break}m=m.return}o=m}}function ii(e,t,a,i){e=null;for(var o=t,u=!1;o!==null;){if(!u){if((o.flags&524288)!==0)u=!0;else if((o.flags&262144)!==0)break}if(o.tag===10){var m=o.alternate;if(m===null)throw Error(l(387));if(m=m.memoizedProps,m!==null){var y=o.type;ga(o.pendingProps.value,m.value)||(e!==null?e.push(y):e=[y])}}else if(o===He.current){if(m=o.alternate,m===null)throw Error(l(387));m.memoizedState.memoizedState!==o.memoizedState.memoizedState&&(e!==null?e.push(Cr):e=[Cr])}o=o.return}e!==null&&dc(t,e,a,i),t.flags|=262144}function dl(e){for(e=e.firstContext;e!==null;){if(!ga(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function ys(e){vs=e,dn=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function Xt(e){return df(vs,e)}function fl(e,t){return vs===null&&ys(e),df(e,t)}function df(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},dn===null){if(e===null)throw Error(l(308));dn=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else dn=dn.next=t;return a}var ag=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,i){e.push(i)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},ng=s.unstable_scheduleCallback,sg=s.unstable_NormalPriority,Dt={$$typeof:D,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function fc(){return{controller:new ag,data:new Map,refCount:0}}function rr(e){e.refCount--,e.refCount===0&&ng(sg,function(){e.controller.abort()})}var lr=null,hc=0,ri=0,li=null;function ig(e,t){if(lr===null){var a=lr=[];hc=0,ri=gu(),li={status:"pending",value:void 0,then:function(i){a.push(i)}}}return hc++,t.then(ff,ff),t}function ff(){if(--hc===0&&lr!==null){li!==null&&(li.status="fulfilled");var e=lr;lr=null,ri=0,li=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function rg(e,t){var a=[],i={status:"pending",value:null,reason:null,then:function(o){a.push(o)}};return e.then(function(){i.status="fulfilled",i.value=t;for(var o=0;o<a.length;o++)(0,a[o])(t)},function(o){for(i.status="rejected",i.reason=o,o=0;o<a.length;o++)(0,a[o])(void 0)}),i}var hf=q.S;q.S=function(e,t){Xh=zt(),typeof t=="object"&&t!==null&&typeof t.then=="function"&&ig(e,t),hf!==null&&hf(e,t)};var xs=k(null);function mc(){var e=xs.current;return e!==null?e:lt.pooledCache}function hl(e,t){t===null?W(xs,xs.current):W(xs,t.pool)}function mf(){var e=mc();return e===null?null:{parent:Dt._currentValue,pool:e}}var oi=Error(l(460)),pc=Error(l(474)),ml=Error(l(542)),pl={then:function(){}};function pf(e){return e=e.status,e==="fulfilled"||e==="rejected"}function gf(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(Q,Q),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,vf(e),e;default:if(typeof t.status=="string")t.then(Q,Q);else{if(e=lt,e!==null&&100<e.shellSuspendCounter)throw Error(l(482));e=t,e.status="pending",e.then(function(i){if(t.status==="pending"){var o=t;o.status="fulfilled",o.value=i}},function(i){if(t.status==="pending"){var o=t;o.status="rejected",o.reason=i}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,vf(e),e}throw _s=t,oi}}function ws(e){try{var t=e._init;return t(e._payload)}catch(a){throw a!==null&&typeof a=="object"&&typeof a.then=="function"?(_s=a,oi):a}}var _s=null;function bf(){if(_s===null)throw Error(l(459));var e=_s;return _s=null,e}function vf(e){if(e===oi||e===ml)throw Error(l(483))}var ci=null,or=0;function gl(e){var t=or;return or+=1,ci===null&&(ci=[]),gf(ci,e,t)}function cr(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function bl(e,t){throw t.$$typeof===j?Error(l(525)):(e=Object.prototype.toString.call(t),Error(l(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function yf(e){function t(O,T){if(e){var R=O.deletions;R===null?(O.deletions=[T],O.flags|=16):R.push(T)}}function a(O,T){if(!e)return null;for(;T!==null;)t(O,T),T=T.sibling;return null}function i(O){for(var T=new Map;O!==null;)O.key!==null?T.set(O.key,O):T.set(O.index,O),O=O.sibling;return T}function o(O,T){return O=cn(O,T),O.index=0,O.sibling=null,O}function u(O,T,R){return O.index=R,e?(R=O.alternate,R!==null?(R=R.index,R<T?(O.flags|=67108866,T):R):(O.flags|=67108866,T)):(O.flags|=1048576,T)}function m(O){return e&&O.alternate===null&&(O.flags|=67108866),O}function y(O,T,R,V){return T===null||T.tag!==6?(T=nc(R,O.mode,V),T.return=O,T):(T=o(T,R),T.return=O,T)}function N(O,T,R,V){var _e=R.type;return _e===B?I(O,T,R.props.children,V,R.key):T!==null&&(T.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===te&&ws(_e)===T.type)?(T=o(T,R.props),cr(T,R),T.return=O,T):(T=cl(R.type,R.key,R.props,null,O.mode,V),cr(T,R),T.return=O,T)}function C(O,T,R,V){return T===null||T.tag!==4||T.stateNode.containerInfo!==R.containerInfo||T.stateNode.implementation!==R.implementation?(T=sc(R,O.mode,V),T.return=O,T):(T=o(T,R.children||[]),T.return=O,T)}function I(O,T,R,V,_e){return T===null||T.tag!==7?(T=gs(R,O.mode,V,_e),T.return=O,T):(T=o(T,R),T.return=O,T)}function F(O,T,R){if(typeof T=="string"&&T!==""||typeof T=="number"||typeof T=="bigint")return T=nc(""+T,O.mode,R),T.return=O,T;if(typeof T=="object"&&T!==null){switch(T.$$typeof){case E:return R=cl(T.type,T.key,T.props,null,O.mode,R),cr(R,T),R.return=O,R;case x:return T=sc(T,O.mode,R),T.return=O,T;case te:return T=ws(T),F(O,T,R)}if(ft(T)||dt(T))return T=gs(T,O.mode,R,null),T.return=O,T;if(typeof T.then=="function")return F(O,gl(T),R);if(T.$$typeof===D)return F(O,fl(O,T),R);bl(O,T)}return null}function z(O,T,R,V){var _e=T!==null?T.key:null;if(typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint")return _e!==null?null:y(O,T,""+R,V);if(typeof R=="object"&&R!==null){switch(R.$$typeof){case E:return R.key===_e?N(O,T,R,V):null;case x:return R.key===_e?C(O,T,R,V):null;case te:return R=ws(R),z(O,T,R,V)}if(ft(R)||dt(R))return _e!==null?null:I(O,T,R,V,null);if(typeof R.then=="function")return z(O,T,gl(R),V);if(R.$$typeof===D)return z(O,T,fl(O,R),V);bl(O,R)}return null}function U(O,T,R,V,_e){if(typeof V=="string"&&V!==""||typeof V=="number"||typeof V=="bigint")return O=O.get(R)||null,y(T,O,""+V,_e);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case E:return O=O.get(V.key===null?R:V.key)||null,N(T,O,V,_e);case x:return O=O.get(V.key===null?R:V.key)||null,C(T,O,V,_e);case te:return V=ws(V),U(O,T,R,V,_e)}if(ft(V)||dt(V))return O=O.get(R)||null,I(T,O,V,_e,null);if(typeof V.then=="function")return U(O,T,R,gl(V),_e);if(V.$$typeof===D)return U(O,T,R,fl(T,V),_e);bl(T,V)}return null}function ue(O,T,R,V){for(var _e=null,Ye=null,he=T,Ue=T=0,Ve=null;he!==null&&Ue<R.length;Ue++){he.index>Ue?(Ve=he,he=null):Ve=he.sibling;var Qe=z(O,he,R[Ue],V);if(Qe===null){he===null&&(he=Ve);break}e&&he&&Qe.alternate===null&&t(O,he),T=u(Qe,T,Ue),Ye===null?_e=Qe:Ye.sibling=Qe,Ye=Qe,he=Ve}if(Ue===R.length)return a(O,he),Pe&&un(O,Ue),_e;if(he===null){for(;Ue<R.length;Ue++)he=F(O,R[Ue],V),he!==null&&(T=u(he,T,Ue),Ye===null?_e=he:Ye.sibling=he,Ye=he);return Pe&&un(O,Ue),_e}for(he=i(he);Ue<R.length;Ue++)Ve=U(he,O,Ue,R[Ue],V),Ve!==null&&(e&&Ve.alternate!==null&&he.delete(Ve.key===null?Ue:Ve.key),T=u(Ve,T,Ue),Ye===null?_e=Ve:Ye.sibling=Ve,Ye=Ve);return e&&he.forEach(function(ns){return t(O,ns)}),Pe&&un(O,Ue),_e}function je(O,T,R,V){if(R==null)throw Error(l(151));for(var _e=null,Ye=null,he=T,Ue=T=0,Ve=null,Qe=R.next();he!==null&&!Qe.done;Ue++,Qe=R.next()){he.index>Ue?(Ve=he,he=null):Ve=he.sibling;var ns=z(O,he,Qe.value,V);if(ns===null){he===null&&(he=Ve);break}e&&he&&ns.alternate===null&&t(O,he),T=u(ns,T,Ue),Ye===null?_e=ns:Ye.sibling=ns,Ye=ns,he=Ve}if(Qe.done)return a(O,he),Pe&&un(O,Ue),_e;if(he===null){for(;!Qe.done;Ue++,Qe=R.next())Qe=F(O,Qe.value,V),Qe!==null&&(T=u(Qe,T,Ue),Ye===null?_e=Qe:Ye.sibling=Qe,Ye=Qe);return Pe&&un(O,Ue),_e}for(he=i(he);!Qe.done;Ue++,Qe=R.next())Qe=U(he,O,Ue,Qe.value,V),Qe!==null&&(e&&Qe.alternate!==null&&he.delete(Qe.key===null?Ue:Qe.key),T=u(Qe,T,Ue),Ye===null?_e=Qe:Ye.sibling=Qe,Ye=Qe);return e&&he.forEach(function(bb){return t(O,bb)}),Pe&&un(O,Ue),_e}function it(O,T,R,V){if(typeof R=="object"&&R!==null&&R.type===B&&R.key===null&&(R=R.props.children),typeof R=="object"&&R!==null){switch(R.$$typeof){case E:e:{for(var _e=R.key;T!==null;){if(T.key===_e){if(_e=R.type,_e===B){if(T.tag===7){a(O,T.sibling),V=o(T,R.props.children),V.return=O,O=V;break e}}else if(T.elementType===_e||typeof _e=="object"&&_e!==null&&_e.$$typeof===te&&ws(_e)===T.type){a(O,T.sibling),V=o(T,R.props),cr(V,R),V.return=O,O=V;break e}a(O,T);break}else t(O,T);T=T.sibling}R.type===B?(V=gs(R.props.children,O.mode,V,R.key),V.return=O,O=V):(V=cl(R.type,R.key,R.props,null,O.mode,V),cr(V,R),V.return=O,O=V)}return m(O);case x:e:{for(_e=R.key;T!==null;){if(T.key===_e)if(T.tag===4&&T.stateNode.containerInfo===R.containerInfo&&T.stateNode.implementation===R.implementation){a(O,T.sibling),V=o(T,R.children||[]),V.return=O,O=V;break e}else{a(O,T);break}else t(O,T);T=T.sibling}V=sc(R,O.mode,V),V.return=O,O=V}return m(O);case te:return R=ws(R),it(O,T,R,V)}if(ft(R))return ue(O,T,R,V);if(dt(R)){if(_e=dt(R),typeof _e!="function")throw Error(l(150));return R=_e.call(R),je(O,T,R,V)}if(typeof R.then=="function")return it(O,T,gl(R),V);if(R.$$typeof===D)return it(O,T,fl(O,R),V);bl(O,R)}return typeof R=="string"&&R!==""||typeof R=="number"||typeof R=="bigint"?(R=""+R,T!==null&&T.tag===6?(a(O,T.sibling),V=o(T,R),V.return=O,O=V):(a(O,T),V=nc(R,O.mode,V),V.return=O,O=V),m(O)):a(O,T)}return function(O,T,R,V){try{or=0;var _e=it(O,T,R,V);return ci=null,_e}catch(he){if(he===oi||he===ml)throw he;var Ye=ba(29,he,null,O.mode);return Ye.lanes=V,Ye.return=O,Ye}finally{}}}var Ss=yf(!0),xf=yf(!1),In=!1;function gc(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function bc(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function $n(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Hn(e,t,a){var i=e.updateQueue;if(i===null)return null;if(i=i.shared,(Je&2)!==0){var o=i.pending;return o===null?t.next=t:(t.next=o.next,o.next=t),i.pending=t,t=ol(e),af(e,null,a),t}return ll(e,i,t,a),ol(e)}function ur(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var i=t.lanes;i&=e.pendingLanes,a|=i,t.lanes=a,Vs(e,a)}}function vc(e,t){var a=e.updateQueue,i=e.alternate;if(i!==null&&(i=i.updateQueue,a===i)){var o=null,u=null;if(a=a.firstBaseUpdate,a!==null){do{var m={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};u===null?o=u=m:u=u.next=m,a=a.next}while(a!==null);u===null?o=u=t:u=u.next=t}else o=u=t;a={baseState:i.baseState,firstBaseUpdate:o,lastBaseUpdate:u,shared:i.shared,callbacks:i.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var yc=!1;function dr(){if(yc){var e=li;if(e!==null)throw e}}function fr(e,t,a,i){yc=!1;var o=e.updateQueue;In=!1;var u=o.firstBaseUpdate,m=o.lastBaseUpdate,y=o.shared.pending;if(y!==null){o.shared.pending=null;var N=y,C=N.next;N.next=null,m===null?u=C:m.next=C,m=N;var I=e.alternate;I!==null&&(I=I.updateQueue,y=I.lastBaseUpdate,y!==m&&(y===null?I.firstBaseUpdate=C:y.next=C,I.lastBaseUpdate=N))}if(u!==null){var F=o.baseState;m=0,I=C=N=null,y=u;do{var z=y.lane&-536870913,U=z!==y.lane;if(U?(Ge&z)===z:(i&z)===z){z!==0&&z===ri&&(yc=!0),I!==null&&(I=I.next={lane:0,tag:y.tag,payload:y.payload,callback:null,next:null});e:{var ue=e,je=y;z=t;var it=a;switch(je.tag){case 1:if(ue=je.payload,typeof ue=="function"){F=ue.call(it,F,z);break e}F=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=je.payload,z=typeof ue=="function"?ue.call(it,F,z):ue,z==null)break e;F=S({},F,z);break e;case 2:In=!0}}z=y.callback,z!==null&&(e.flags|=64,U&&(e.flags|=8192),U=o.callbacks,U===null?o.callbacks=[z]:U.push(z))}else U={lane:z,tag:y.tag,payload:y.payload,callback:y.callback,next:null},I===null?(C=I=U,N=F):I=I.next=U,m|=z;if(y=y.next,y===null){if(y=o.shared.pending,y===null)break;U=y,y=U.next,U.next=null,o.lastBaseUpdate=U,o.shared.pending=null}}while(!0);I===null&&(N=F),o.baseState=N,o.firstBaseUpdate=C,o.lastBaseUpdate=I,u===null&&(o.shared.lanes=0),Kn|=m,e.lanes=m,e.memoizedState=F}}function wf(e,t){if(typeof e!="function")throw Error(l(191,e));e.call(t)}function _f(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)wf(a[e],t)}var ui=k(null),vl=k(0);function Sf(e,t){e=wn,W(vl,e),W(ui,t),wn=e|t.baseLanes}function xc(){W(vl,wn),W(ui,ui.current)}function wc(){wn=vl.current,L(ui),L(vl)}var va=k(null),Ca=null;function Gn(e){var t=e.alternate;W(Rt,Rt.current&1),W(va,e),Ca===null&&(t===null||ui.current!==null||t.memoizedState!==null)&&(Ca=e)}function _c(e){W(Rt,Rt.current),W(va,e),Ca===null&&(Ca=e)}function jf(e){e.tag===22?(W(Rt,Rt.current),W(va,e),Ca===null&&(Ca=e)):Vn()}function Vn(){W(Rt,Rt.current),W(va,va.current)}function ya(e){L(va),Ca===e&&(Ca=null),L(Rt)}var Rt=k(0);function yl(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||ku(a)||Au(a)))return t}else if(t.tag===19&&(t.memoizedProps.revealOrder==="forwards"||t.memoizedProps.revealOrder==="backwards"||t.memoizedProps.revealOrder==="unstable_legacy-backwards"||t.memoizedProps.revealOrder==="together")){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var hn=0,ze=null,nt=null,Ut=null,xl=!1,di=!1,js=!1,wl=0,hr=0,fi=null,lg=0;function Tt(){throw Error(l(321))}function Sc(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!ga(e[a],t[a]))return!1;return!0}function jc(e,t,a,i,o,u){return hn=u,ze=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,q.H=e===null||e.memoizedState===null?lh:qc,js=!1,u=a(i,o),js=!1,di&&(u=Ef(t,a,i,o)),Nf(e),u}function Nf(e){q.H=gr;var t=nt!==null&&nt.next!==null;if(hn=0,Ut=nt=ze=null,xl=!1,hr=0,fi=null,t)throw Error(l(300));e===null||Bt||(e=e.dependencies,e!==null&&dl(e)&&(Bt=!0))}function Ef(e,t,a,i){ze=e;var o=0;do{if(di&&(fi=null),hr=0,di=!1,25<=o)throw Error(l(301));if(o+=1,Ut=nt=null,e.updateQueue!=null){var u=e.updateQueue;u.lastEffect=null,u.events=null,u.stores=null,u.memoCache!=null&&(u.memoCache.index=0)}q.H=oh,u=t(a,i)}while(di);return u}function og(){var e=q.H,t=e.useState()[0];return t=typeof t.then=="function"?mr(t):t,e=e.useState()[0],(nt!==null?nt.memoizedState:null)!==e&&(ze.flags|=1024),t}function Nc(){var e=wl!==0;return wl=0,e}function Ec(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function Tc(e){if(xl){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}xl=!1}hn=0,Ut=nt=ze=null,di=!1,hr=wl=0,fi=null}function sa(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ut===null?ze.memoizedState=Ut=e:Ut=Ut.next=e,Ut}function Ct(){if(nt===null){var e=ze.alternate;e=e!==null?e.memoizedState:null}else e=nt.next;var t=Ut===null?ze.memoizedState:Ut.next;if(t!==null)Ut=t,nt=e;else{if(e===null)throw ze.alternate===null?Error(l(467)):Error(l(310));nt=e,e={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},Ut===null?ze.memoizedState=Ut=e:Ut=Ut.next=e}return Ut}function _l(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function mr(e){var t=hr;return hr+=1,fi===null&&(fi=[]),e=gf(fi,e,t),t=ze,(Ut===null?t.memoizedState:Ut.next)===null&&(t=t.alternate,q.H=t===null||t.memoizedState===null?lh:qc),e}function Sl(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return mr(e);if(e.$$typeof===D)return Xt(e)}throw Error(l(438,String(e)))}function kc(e){var t=null,a=ze.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var i=ze.alternate;i!==null&&(i=i.updateQueue,i!==null&&(i=i.memoCache,i!=null&&(t={data:i.data.map(function(o){return o.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=_l(),ze.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),i=0;i<e;i++)a[i]=Ft;return t.index++,a}function mn(e,t){return typeof t=="function"?t(e):t}function jl(e){var t=Ct();return Ac(t,nt,e)}function Ac(e,t,a){var i=e.queue;if(i===null)throw Error(l(311));i.lastRenderedReducer=a;var o=e.baseQueue,u=i.pending;if(u!==null){if(o!==null){var m=o.next;o.next=u.next,u.next=m}t.baseQueue=o=u,i.pending=null}if(u=e.baseState,o===null)e.memoizedState=u;else{t=o.next;var y=m=null,N=null,C=t,I=!1;do{var F=C.lane&-536870913;if(F!==C.lane?(Ge&F)===F:(hn&F)===F){var z=C.revertLane;if(z===0)N!==null&&(N=N.next={lane:0,revertLane:0,gesture:null,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null}),F===ri&&(I=!0);else if((hn&z)===z){C=C.next,z===ri&&(I=!0);continue}else F={lane:0,revertLane:C.revertLane,gesture:null,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null},N===null?(y=N=F,m=u):N=N.next=F,ze.lanes|=z,Kn|=z;F=C.action,js&&a(u,F),u=C.hasEagerState?C.eagerState:a(u,F)}else z={lane:F,revertLane:C.revertLane,gesture:C.gesture,action:C.action,hasEagerState:C.hasEagerState,eagerState:C.eagerState,next:null},N===null?(y=N=z,m=u):N=N.next=z,ze.lanes|=F,Kn|=F;C=C.next}while(C!==null&&C!==t);if(N===null?m=u:N.next=y,!ga(u,e.memoizedState)&&(Bt=!0,I&&(a=li,a!==null)))throw a;e.memoizedState=u,e.baseState=m,e.baseQueue=N,i.lastRenderedState=u}return o===null&&(i.lanes=0),[e.memoizedState,i.dispatch]}function Oc(e){var t=Ct(),a=t.queue;if(a===null)throw Error(l(311));a.lastRenderedReducer=e;var i=a.dispatch,o=a.pending,u=t.memoizedState;if(o!==null){a.pending=null;var m=o=o.next;do u=e(u,m.action),m=m.next;while(m!==o);ga(u,t.memoizedState)||(Bt=!0),t.memoizedState=u,t.baseQueue===null&&(t.baseState=u),a.lastRenderedState=u}return[u,i]}function Tf(e,t,a){var i=ze,o=Ct(),u=Pe;if(u){if(a===void 0)throw Error(l(407));a=a()}else a=t();var m=!ga((nt||o).memoizedState,a);if(m&&(o.memoizedState=a,Bt=!0),o=o.queue,zc(Of.bind(null,i,o,e),[e]),o.getSnapshot!==t||m||Ut!==null&&Ut.memoizedState.tag&1){if(i.flags|=2048,hi(9,{destroy:void 0},Af.bind(null,i,o,a,t),null),lt===null)throw Error(l(349));u||(hn&127)!==0||kf(i,t,a)}return a}function kf(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=ze.updateQueue,t===null?(t=_l(),ze.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function Af(e,t,a,i){t.value=a,t.getSnapshot=i,Rf(t)&&Cf(e)}function Of(e,t,a){return a(function(){Rf(t)&&Cf(e)})}function Rf(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!ga(e,a)}catch{return!0}}function Cf(e){var t=ps(e,2);t!==null&&pa(t,e,2)}function Rc(e){var t=sa();if(typeof e=="function"){var a=e;if(e=a(),js){ra(!0);try{a()}finally{ra(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:mn,lastRenderedState:e},t}function zf(e,t,a,i){return e.baseState=a,Ac(e,nt,typeof i=="function"?i:mn)}function cg(e,t,a,i,o){if(Tl(e))throw Error(l(485));if(e=t.action,e!==null){var u={payload:o,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(m){u.listeners.push(m)}};q.T!==null?a(!0):u.isTransition=!1,i(u),a=t.pending,a===null?(u.next=t.pending=u,Mf(t,u)):(u.next=a.next,t.pending=a.next=u)}}function Mf(e,t){var a=t.action,i=t.payload,o=e.state;if(t.isTransition){var u=q.T,m={};q.T=m;try{var y=a(o,i),N=q.S;N!==null&&N(m,y),Df(e,t,y)}catch(C){Cc(e,t,C)}finally{u!==null&&m.types!==null&&(u.types=m.types),q.T=u}}else try{u=a(o,i),Df(e,t,u)}catch(C){Cc(e,t,C)}}function Df(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(i){Uf(e,t,i)},function(i){return Cc(e,t,i)}):Uf(e,t,a)}function Uf(e,t,a){t.status="fulfilled",t.value=a,Bf(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,Mf(e,a)))}function Cc(e,t,a){var i=e.pending;if(e.pending=null,i!==null){i=i.next;do t.status="rejected",t.reason=a,Bf(t),t=t.next;while(t!==i)}e.action=null}function Bf(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Lf(e,t){return t}function qf(e,t){if(Pe){var a=lt.formState;if(a!==null){e:{var i=ze;if(Pe){if(gt){t:{for(var o=gt,u=Ra;o.nodeType!==8;){if(!u){o=null;break t}if(o=za(o.nextSibling),o===null){o=null;break t}}u=o.data,o=u==="F!"||u==="F"?o:null}if(o){gt=za(o.nextSibling),i=o.data==="F!";break e}}Ln(i)}i=!1}i&&(t=a[0])}}return a=sa(),a.memoizedState=a.baseState=t,i={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Lf,lastRenderedState:t},a.queue=i,a=sh.bind(null,ze,i),i.dispatch=a,i=Rc(!1),u=Lc.bind(null,ze,!1,i.queue),i=sa(),o={state:t,dispatch:null,action:e,pending:null},i.queue=o,a=cg.bind(null,ze,o,u,a),o.dispatch=a,i.memoizedState=e,[t,a,!1]}function If(e){var t=Ct();return $f(t,nt,e)}function $f(e,t,a){if(t=Ac(e,t,Lf)[0],e=jl(mn)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var i=mr(t)}catch(m){throw m===oi?ml:m}else i=t;t=Ct();var o=t.queue,u=o.dispatch;return a!==t.memoizedState&&(ze.flags|=2048,hi(9,{destroy:void 0},ug.bind(null,o,a),null)),[i,u,e]}function ug(e,t){e.action=t}function Hf(e){var t=Ct(),a=nt;if(a!==null)return $f(t,a,e);Ct(),t=t.memoizedState,a=Ct();var i=a.queue.dispatch;return a.memoizedState=e,[t,i,!1]}function hi(e,t,a,i){return e={tag:e,create:a,deps:i,inst:t,next:null},t=ze.updateQueue,t===null&&(t=_l(),ze.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(i=a.next,a.next=e,e.next=i,t.lastEffect=e),e}function Gf(){return Ct().memoizedState}function Nl(e,t,a,i){var o=sa();ze.flags|=e,o.memoizedState=hi(1|t,{destroy:void 0},a,i===void 0?null:i)}function El(e,t,a,i){var o=Ct();i=i===void 0?null:i;var u=o.memoizedState.inst;nt!==null&&i!==null&&Sc(i,nt.memoizedState.deps)?o.memoizedState=hi(t,u,a,i):(ze.flags|=e,o.memoizedState=hi(1|t,u,a,i))}function Vf(e,t){Nl(8390656,8,e,t)}function zc(e,t){El(2048,8,e,t)}function dg(e){ze.flags|=4;var t=ze.updateQueue;if(t===null)t=_l(),ze.updateQueue=t,t.events=[e];else{var a=t.events;a===null?t.events=[e]:a.push(e)}}function Pf(e){var t=Ct().memoizedState;return dg({ref:t,nextImpl:e}),function(){if((Je&2)!==0)throw Error(l(440));return t.impl.apply(void 0,arguments)}}function Ff(e,t){return El(4,2,e,t)}function Kf(e,t){return El(4,4,e,t)}function Yf(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Qf(e,t,a){a=a!=null?a.concat([e]):null,El(4,4,Yf.bind(null,t,e),a)}function Mc(){}function Xf(e,t){var a=Ct();t=t===void 0?null:t;var i=a.memoizedState;return t!==null&&Sc(t,i[1])?i[0]:(a.memoizedState=[e,t],e)}function Jf(e,t){var a=Ct();t=t===void 0?null:t;var i=a.memoizedState;if(t!==null&&Sc(t,i[1]))return i[0];if(i=e(),js){ra(!0);try{e()}finally{ra(!1)}}return a.memoizedState=[i,t],i}function Dc(e,t,a){return a===void 0||(hn&1073741824)!==0&&(Ge&261930)===0?e.memoizedState=t:(e.memoizedState=a,e=Zh(),ze.lanes|=e,Kn|=e,a)}function Zf(e,t,a,i){return ga(a,t)?a:ui.current!==null?(e=Dc(e,a,i),ga(e,t)||(Bt=!0),e):(hn&42)===0||(hn&1073741824)!==0&&(Ge&261930)===0?(Bt=!0,e.memoizedState=a):(e=Zh(),ze.lanes|=e,Kn|=e,t)}function Wf(e,t,a,i,o){var u=ee.p;ee.p=u!==0&&8>u?u:8;var m=q.T,y={};q.T=y,Lc(e,!1,t,a);try{var N=o(),C=q.S;if(C!==null&&C(y,N),N!==null&&typeof N=="object"&&typeof N.then=="function"){var I=rg(N,i);pr(e,t,I,_a(e))}else pr(e,t,i,_a(e))}catch(F){pr(e,t,{then:function(){},status:"rejected",reason:F},_a())}finally{ee.p=u,m!==null&&y.types!==null&&(m.types=y.types),q.T=m}}function fg(){}function Uc(e,t,a,i){if(e.tag!==5)throw Error(l(476));var o=eh(e).queue;Wf(e,o,t,xe,a===null?fg:function(){return th(e),a(i)})}function eh(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:xe,baseState:xe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mn,lastRenderedState:xe},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:mn,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function th(e){var t=eh(e);t.next===null&&(t=e.alternate.memoizedState),pr(e,t.next.queue,{},_a())}function Bc(){return Xt(Cr)}function ah(){return Ct().memoizedState}function nh(){return Ct().memoizedState}function hg(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=_a();e=$n(a);var i=Hn(t,e,a);i!==null&&(pa(i,t,a),ur(i,t,a)),t={cache:fc()},e.payload=t;return}t=t.return}}function mg(e,t,a){var i=_a();a={lane:i,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null},Tl(e)?ih(t,a):(a=tc(e,t,a,i),a!==null&&(pa(a,e,i),rh(a,t,i)))}function sh(e,t,a){var i=_a();pr(e,t,a,i)}function pr(e,t,a,i){var o={lane:i,revertLane:0,gesture:null,action:a,hasEagerState:!1,eagerState:null,next:null};if(Tl(e))ih(t,o);else{var u=e.alternate;if(e.lanes===0&&(u===null||u.lanes===0)&&(u=t.lastRenderedReducer,u!==null))try{var m=t.lastRenderedState,y=u(m,a);if(o.hasEagerState=!0,o.eagerState=y,ga(y,m))return ll(e,t,o,0),lt===null&&rl(),!1}catch{}finally{}if(a=tc(e,t,o,i),a!==null)return pa(a,e,i),rh(a,t,i),!0}return!1}function Lc(e,t,a,i){if(i={lane:2,revertLane:gu(),gesture:null,action:i,hasEagerState:!1,eagerState:null,next:null},Tl(e)){if(t)throw Error(l(479))}else t=tc(e,a,i,2),t!==null&&pa(t,e,2)}function Tl(e){var t=e.alternate;return e===ze||t!==null&&t===ze}function ih(e,t){di=xl=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function rh(e,t,a){if((a&4194048)!==0){var i=t.lanes;i&=e.pendingLanes,a|=i,t.lanes=a,Vs(e,a)}}var gr={readContext:Xt,use:Sl,useCallback:Tt,useContext:Tt,useEffect:Tt,useImperativeHandle:Tt,useLayoutEffect:Tt,useInsertionEffect:Tt,useMemo:Tt,useReducer:Tt,useRef:Tt,useState:Tt,useDebugValue:Tt,useDeferredValue:Tt,useTransition:Tt,useSyncExternalStore:Tt,useId:Tt,useHostTransitionStatus:Tt,useFormState:Tt,useActionState:Tt,useOptimistic:Tt,useMemoCache:Tt,useCacheRefresh:Tt};gr.useEffectEvent=Tt;var lh={readContext:Xt,use:Sl,useCallback:function(e,t){return sa().memoizedState=[e,t===void 0?null:t],e},useContext:Xt,useEffect:Vf,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,Nl(4194308,4,Yf.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Nl(4194308,4,e,t)},useInsertionEffect:function(e,t){Nl(4,2,e,t)},useMemo:function(e,t){var a=sa();t=t===void 0?null:t;var i=e();if(js){ra(!0);try{e()}finally{ra(!1)}}return a.memoizedState=[i,t],i},useReducer:function(e,t,a){var i=sa();if(a!==void 0){var o=a(t);if(js){ra(!0);try{a(t)}finally{ra(!1)}}}else o=t;return i.memoizedState=i.baseState=o,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:o},i.queue=e,e=e.dispatch=mg.bind(null,ze,e),[i.memoizedState,e]},useRef:function(e){var t=sa();return e={current:e},t.memoizedState=e},useState:function(e){e=Rc(e);var t=e.queue,a=sh.bind(null,ze,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:Mc,useDeferredValue:function(e,t){var a=sa();return Dc(a,e,t)},useTransition:function(){var e=Rc(!1);return e=Wf.bind(null,ze,e.queue,!0,!1),sa().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var i=ze,o=sa();if(Pe){if(a===void 0)throw Error(l(407));a=a()}else{if(a=t(),lt===null)throw Error(l(349));(Ge&127)!==0||kf(i,t,a)}o.memoizedState=a;var u={value:a,getSnapshot:t};return o.queue=u,Vf(Of.bind(null,i,u,e),[e]),i.flags|=2048,hi(9,{destroy:void 0},Af.bind(null,i,u,a,t),null),a},useId:function(){var e=sa(),t=lt.identifierPrefix;if(Pe){var a=tn,i=en;a=(i&~(1<<32-rt(i)-1)).toString(32)+a,t="_"+t+"R_"+a,a=wl++,0<a&&(t+="H"+a.toString(32)),t+="_"}else a=lg++,t="_"+t+"r_"+a.toString(32)+"_";return e.memoizedState=t},useHostTransitionStatus:Bc,useFormState:qf,useActionState:qf,useOptimistic:function(e){var t=sa();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=Lc.bind(null,ze,!0,a),a.dispatch=t,[e,t]},useMemoCache:kc,useCacheRefresh:function(){return sa().memoizedState=hg.bind(null,ze)},useEffectEvent:function(e){var t=sa(),a={impl:e};return t.memoizedState=a,function(){if((Je&2)!==0)throw Error(l(440));return a.impl.apply(void 0,arguments)}}},qc={readContext:Xt,use:Sl,useCallback:Xf,useContext:Xt,useEffect:zc,useImperativeHandle:Qf,useInsertionEffect:Ff,useLayoutEffect:Kf,useMemo:Jf,useReducer:jl,useRef:Gf,useState:function(){return jl(mn)},useDebugValue:Mc,useDeferredValue:function(e,t){var a=Ct();return Zf(a,nt.memoizedState,e,t)},useTransition:function(){var e=jl(mn)[0],t=Ct().memoizedState;return[typeof e=="boolean"?e:mr(e),t]},useSyncExternalStore:Tf,useId:ah,useHostTransitionStatus:Bc,useFormState:If,useActionState:If,useOptimistic:function(e,t){var a=Ct();return zf(a,nt,e,t)},useMemoCache:kc,useCacheRefresh:nh};qc.useEffectEvent=Pf;var oh={readContext:Xt,use:Sl,useCallback:Xf,useContext:Xt,useEffect:zc,useImperativeHandle:Qf,useInsertionEffect:Ff,useLayoutEffect:Kf,useMemo:Jf,useReducer:Oc,useRef:Gf,useState:function(){return Oc(mn)},useDebugValue:Mc,useDeferredValue:function(e,t){var a=Ct();return nt===null?Dc(a,e,t):Zf(a,nt.memoizedState,e,t)},useTransition:function(){var e=Oc(mn)[0],t=Ct().memoizedState;return[typeof e=="boolean"?e:mr(e),t]},useSyncExternalStore:Tf,useId:ah,useHostTransitionStatus:Bc,useFormState:Hf,useActionState:Hf,useOptimistic:function(e,t){var a=Ct();return nt!==null?zf(a,nt,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:kc,useCacheRefresh:nh};oh.useEffectEvent=Pf;function Ic(e,t,a,i){t=e.memoizedState,a=a(i,t),a=a==null?t:S({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var $c={enqueueSetState:function(e,t,a){e=e._reactInternals;var i=_a(),o=$n(i);o.payload=t,a!=null&&(o.callback=a),t=Hn(e,o,i),t!==null&&(pa(t,e,i),ur(t,e,i))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var i=_a(),o=$n(i);o.tag=1,o.payload=t,a!=null&&(o.callback=a),t=Hn(e,o,i),t!==null&&(pa(t,e,i),ur(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=_a(),i=$n(a);i.tag=2,t!=null&&(i.callback=t),t=Hn(e,i,a),t!==null&&(pa(t,e,a),ur(t,e,a))}};function ch(e,t,a,i,o,u,m){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(i,u,m):t.prototype&&t.prototype.isPureReactComponent?!ar(a,i)||!ar(o,u):!0}function uh(e,t,a,i){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,i),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,i),t.state!==e&&$c.enqueueReplaceState(t,t.state,null)}function Ns(e,t){var a=t;if("ref"in t){a={};for(var i in t)i!=="ref"&&(a[i]=t[i])}if(e=e.defaultProps){a===t&&(a=S({},a));for(var o in e)a[o]===void 0&&(a[o]=e[o])}return a}function dh(e){il(e)}function fh(e){console.error(e)}function hh(e){il(e)}function kl(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(i){setTimeout(function(){throw i})}}function mh(e,t,a){try{var i=e.onCaughtError;i(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(o){setTimeout(function(){throw o})}}function Hc(e,t,a){return a=$n(a),a.tag=3,a.payload={element:null},a.callback=function(){kl(e,t)},a}function ph(e){return e=$n(e),e.tag=3,e}function gh(e,t,a,i){var o=a.type.getDerivedStateFromError;if(typeof o=="function"){var u=i.value;e.payload=function(){return o(u)},e.callback=function(){mh(t,a,i)}}var m=a.stateNode;m!==null&&typeof m.componentDidCatch=="function"&&(e.callback=function(){mh(t,a,i),typeof o!="function"&&(Yn===null?Yn=new Set([this]):Yn.add(this));var y=i.stack;this.componentDidCatch(i.value,{componentStack:y!==null?y:""})})}function pg(e,t,a,i,o){if(a.flags|=32768,i!==null&&typeof i=="object"&&typeof i.then=="function"){if(t=a.alternate,t!==null&&ii(t,a,o,!0),a=va.current,a!==null){switch(a.tag){case 31:case 13:return Ca===null?Il():a.alternate===null&&kt===0&&(kt=3),a.flags&=-257,a.flags|=65536,a.lanes=o,i===pl?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([i]):t.add(i),hu(e,i,o)),!1;case 22:return a.flags|=65536,i===pl?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([i])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([i]):a.add(i)),hu(e,i,o)),!1}throw Error(l(435,a.tag))}return hu(e,i,o),Il(),!1}if(Pe)return t=va.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=o,i!==lc&&(e=Error(l(422),{cause:i}),ir(ka(e,a)))):(i!==lc&&(t=Error(l(423),{cause:i}),ir(ka(t,a))),e=e.current.alternate,e.flags|=65536,o&=-o,e.lanes|=o,i=ka(i,a),o=Hc(e.stateNode,i,o),vc(e,o),kt!==4&&(kt=2)),!1;var u=Error(l(520),{cause:i});if(u=ka(u,a),jr===null?jr=[u]:jr.push(u),kt!==4&&(kt=2),t===null)return!0;i=ka(i,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=o&-o,a.lanes|=e,e=Hc(a.stateNode,i,e),vc(a,e),!1;case 1:if(t=a.type,u=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||u!==null&&typeof u.componentDidCatch=="function"&&(Yn===null||!Yn.has(u))))return a.flags|=65536,o&=-o,a.lanes|=o,o=ph(o),gh(o,e,a,i),vc(a,o),!1}a=a.return}while(a!==null);return!1}var Gc=Error(l(461)),Bt=!1;function Jt(e,t,a,i){t.child=e===null?xf(t,null,a,i):Ss(t,e.child,a,i)}function bh(e,t,a,i,o){a=a.render;var u=t.ref;if("ref"in i){var m={};for(var y in i)y!=="ref"&&(m[y]=i[y])}else m=i;return ys(t),i=jc(e,t,a,m,u,o),y=Nc(),e!==null&&!Bt?(Ec(e,t,o),pn(e,t,o)):(Pe&&y&&ic(t),t.flags|=1,Jt(e,t,i,o),t.child)}function vh(e,t,a,i,o){if(e===null){var u=a.type;return typeof u=="function"&&!ac(u)&&u.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=u,yh(e,t,u,i,o)):(e=cl(a.type,null,i,t,t.mode,o),e.ref=t.ref,e.return=t,t.child=e)}if(u=e.child,!Jc(e,o)){var m=u.memoizedProps;if(a=a.compare,a=a!==null?a:ar,a(m,i)&&e.ref===t.ref)return pn(e,t,o)}return t.flags|=1,e=cn(u,i),e.ref=t.ref,e.return=t,t.child=e}function yh(e,t,a,i,o){if(e!==null){var u=e.memoizedProps;if(ar(u,i)&&e.ref===t.ref)if(Bt=!1,t.pendingProps=i=u,Jc(e,o))(e.flags&131072)!==0&&(Bt=!0);else return t.lanes=e.lanes,pn(e,t,o)}return Vc(e,t,a,i,o)}function xh(e,t,a,i){var o=i.children,u=e!==null?e.memoizedState:null;if(e===null&&t.stateNode===null&&(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),i.mode==="hidden"){if((t.flags&128)!==0){if(u=u!==null?u.baseLanes|a:a,e!==null){for(i=t.child=e.child,o=0;i!==null;)o=o|i.lanes|i.childLanes,i=i.sibling;i=o&~u}else i=0,t.child=null;return wh(e,t,u,a,i)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&hl(t,u!==null?u.cachePool:null),u!==null?Sf(t,u):xc(),jf(t);else return i=t.lanes=536870912,wh(e,t,u!==null?u.baseLanes|a:a,a,i)}else u!==null?(hl(t,u.cachePool),Sf(t,u),Vn(),t.memoizedState=null):(e!==null&&hl(t,null),xc(),Vn());return Jt(e,t,o,a),t.child}function br(e,t){return e!==null&&e.tag===22||t.stateNode!==null||(t.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),t.sibling}function wh(e,t,a,i,o){var u=mc();return u=u===null?null:{parent:Dt._currentValue,pool:u},t.memoizedState={baseLanes:a,cachePool:u},e!==null&&hl(t,null),xc(),jf(t),e!==null&&ii(e,t,i,!0),t.childLanes=o,null}function Al(e,t){return t=Rl({mode:t.mode,children:t.children},e.mode),t.ref=e.ref,e.child=t,t.return=e,t}function _h(e,t,a){return Ss(t,e.child,null,a),e=Al(t,t.pendingProps),e.flags|=2,ya(t),t.memoizedState=null,e}function gg(e,t,a){var i=t.pendingProps,o=(t.flags&128)!==0;if(t.flags&=-129,e===null){if(Pe){if(i.mode==="hidden")return e=Al(t,i),t.lanes=536870912,br(null,e);if(_c(t),(e=gt)?(e=M0(e,Ra),e=e!==null&&e.data==="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Un!==null?{id:en,overflow:tn}:null,retryLane:536870912,hydrationErrors:null},a=sf(e),a.return=t,t.child=a,Qt=t,gt=null)):e=null,e===null)throw Ln(t);return t.lanes=536870912,null}return Al(t,i)}var u=e.memoizedState;if(u!==null){var m=u.dehydrated;if(_c(t),o)if(t.flags&256)t.flags&=-257,t=_h(e,t,a);else if(t.memoizedState!==null)t.child=e.child,t.flags|=128,t=null;else throw Error(l(558));else if(Bt||ii(e,t,a,!1),o=(a&e.childLanes)!==0,Bt||o){if(i=lt,i!==null&&(m=Hi(i,a),m!==0&&m!==u.retryLane))throw u.retryLane=m,ps(e,m),pa(i,e,m),Gc;Il(),t=_h(e,t,a)}else e=u.treeContext,gt=za(m.nextSibling),Qt=t,Pe=!0,Bn=null,Ra=!1,e!==null&&of(t,e),t=Al(t,i),t.flags|=4096;return t}return e=cn(e.child,{mode:i.mode,children:i.children}),e.ref=t.ref,t.child=e,e.return=t,e}function Ol(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(l(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function Vc(e,t,a,i,o){return ys(t),a=jc(e,t,a,i,void 0,o),i=Nc(),e!==null&&!Bt?(Ec(e,t,o),pn(e,t,o)):(Pe&&i&&ic(t),t.flags|=1,Jt(e,t,a,o),t.child)}function Sh(e,t,a,i,o,u){return ys(t),t.updateQueue=null,a=Ef(t,i,a,o),Nf(e),i=Nc(),e!==null&&!Bt?(Ec(e,t,u),pn(e,t,u)):(Pe&&i&&ic(t),t.flags|=1,Jt(e,t,a,u),t.child)}function jh(e,t,a,i,o){if(ys(t),t.stateNode===null){var u=ti,m=a.contextType;typeof m=="object"&&m!==null&&(u=Xt(m)),u=new a(i,u),t.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=$c,t.stateNode=u,u._reactInternals=t,u=t.stateNode,u.props=i,u.state=t.memoizedState,u.refs={},gc(t),m=a.contextType,u.context=typeof m=="object"&&m!==null?Xt(m):ti,u.state=t.memoizedState,m=a.getDerivedStateFromProps,typeof m=="function"&&(Ic(t,a,m,i),u.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof u.getSnapshotBeforeUpdate=="function"||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(m=u.state,typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount(),m!==u.state&&$c.enqueueReplaceState(u,u.state,null),fr(t,i,u,o),dr(),u.state=t.memoizedState),typeof u.componentDidMount=="function"&&(t.flags|=4194308),i=!0}else if(e===null){u=t.stateNode;var y=t.memoizedProps,N=Ns(a,y);u.props=N;var C=u.context,I=a.contextType;m=ti,typeof I=="object"&&I!==null&&(m=Xt(I));var F=a.getDerivedStateFromProps;I=typeof F=="function"||typeof u.getSnapshotBeforeUpdate=="function",y=t.pendingProps!==y,I||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(y||C!==m)&&uh(t,u,i,m),In=!1;var z=t.memoizedState;u.state=z,fr(t,i,u,o),dr(),C=t.memoizedState,y||z!==C||In?(typeof F=="function"&&(Ic(t,a,F,i),C=t.memoizedState),(N=In||ch(t,a,N,i,z,C,m))?(I||typeof u.UNSAFE_componentWillMount!="function"&&typeof u.componentWillMount!="function"||(typeof u.componentWillMount=="function"&&u.componentWillMount(),typeof u.UNSAFE_componentWillMount=="function"&&u.UNSAFE_componentWillMount()),typeof u.componentDidMount=="function"&&(t.flags|=4194308)):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=i,t.memoizedState=C),u.props=i,u.state=C,u.context=m,i=N):(typeof u.componentDidMount=="function"&&(t.flags|=4194308),i=!1)}else{u=t.stateNode,bc(e,t),m=t.memoizedProps,I=Ns(a,m),u.props=I,F=t.pendingProps,z=u.context,C=a.contextType,N=ti,typeof C=="object"&&C!==null&&(N=Xt(C)),y=a.getDerivedStateFromProps,(C=typeof y=="function"||typeof u.getSnapshotBeforeUpdate=="function")||typeof u.UNSAFE_componentWillReceiveProps!="function"&&typeof u.componentWillReceiveProps!="function"||(m!==F||z!==N)&&uh(t,u,i,N),In=!1,z=t.memoizedState,u.state=z,fr(t,i,u,o),dr();var U=t.memoizedState;m!==F||z!==U||In||e!==null&&e.dependencies!==null&&dl(e.dependencies)?(typeof y=="function"&&(Ic(t,a,y,i),U=t.memoizedState),(I=In||ch(t,a,I,i,z,U,N)||e!==null&&e.dependencies!==null&&dl(e.dependencies))?(C||typeof u.UNSAFE_componentWillUpdate!="function"&&typeof u.componentWillUpdate!="function"||(typeof u.componentWillUpdate=="function"&&u.componentWillUpdate(i,U,N),typeof u.UNSAFE_componentWillUpdate=="function"&&u.UNSAFE_componentWillUpdate(i,U,N)),typeof u.componentDidUpdate=="function"&&(t.flags|=4),typeof u.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof u.componentDidUpdate!="function"||m===e.memoizedProps&&z===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&z===e.memoizedState||(t.flags|=1024),t.memoizedProps=i,t.memoizedState=U),u.props=i,u.state=U,u.context=N,i=I):(typeof u.componentDidUpdate!="function"||m===e.memoizedProps&&z===e.memoizedState||(t.flags|=4),typeof u.getSnapshotBeforeUpdate!="function"||m===e.memoizedProps&&z===e.memoizedState||(t.flags|=1024),i=!1)}return u=i,Ol(e,t),i=(t.flags&128)!==0,u||i?(u=t.stateNode,a=i&&typeof a.getDerivedStateFromError!="function"?null:u.render(),t.flags|=1,e!==null&&i?(t.child=Ss(t,e.child,null,o),t.child=Ss(t,null,a,o)):Jt(e,t,a,o),t.memoizedState=u.state,e=t.child):e=pn(e,t,o),e}function Nh(e,t,a,i){return bs(),t.flags|=256,Jt(e,t,a,i),t.child}var Pc={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Fc(e){return{baseLanes:e,cachePool:mf()}}function Kc(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=wa),e}function Eh(e,t,a){var i=t.pendingProps,o=!1,u=(t.flags&128)!==0,m;if((m=u)||(m=e!==null&&e.memoizedState===null?!1:(Rt.current&2)!==0),m&&(o=!0,t.flags&=-129),m=(t.flags&32)!==0,t.flags&=-33,e===null){if(Pe){if(o?Gn(t):Vn(),(e=gt)?(e=M0(e,Ra),e=e!==null&&e.data!=="&"?e:null,e!==null&&(t.memoizedState={dehydrated:e,treeContext:Un!==null?{id:en,overflow:tn}:null,retryLane:536870912,hydrationErrors:null},a=sf(e),a.return=t,t.child=a,Qt=t,gt=null)):e=null,e===null)throw Ln(t);return Au(e)?t.lanes=32:t.lanes=536870912,null}var y=i.children;return i=i.fallback,o?(Vn(),o=t.mode,y=Rl({mode:"hidden",children:y},o),i=gs(i,o,a,null),y.return=t,i.return=t,y.sibling=i,t.child=y,i=t.child,i.memoizedState=Fc(a),i.childLanes=Kc(e,m,a),t.memoizedState=Pc,br(null,i)):(Gn(t),Yc(t,y))}var N=e.memoizedState;if(N!==null&&(y=N.dehydrated,y!==null)){if(u)t.flags&256?(Gn(t),t.flags&=-257,t=Qc(e,t,a)):t.memoizedState!==null?(Vn(),t.child=e.child,t.flags|=128,t=null):(Vn(),y=i.fallback,o=t.mode,i=Rl({mode:"visible",children:i.children},o),y=gs(y,o,a,null),y.flags|=2,i.return=t,y.return=t,i.sibling=y,t.child=i,Ss(t,e.child,null,a),i=t.child,i.memoizedState=Fc(a),i.childLanes=Kc(e,m,a),t.memoizedState=Pc,t=br(null,i));else if(Gn(t),Au(y)){if(m=y.nextSibling&&y.nextSibling.dataset,m)var C=m.dgst;m=C,i=Error(l(419)),i.stack="",i.digest=m,ir({value:i,source:null,stack:null}),t=Qc(e,t,a)}else if(Bt||ii(e,t,a,!1),m=(a&e.childLanes)!==0,Bt||m){if(m=lt,m!==null&&(i=Hi(m,a),i!==0&&i!==N.retryLane))throw N.retryLane=i,ps(e,i),pa(m,e,i),Gc;ku(y)||Il(),t=Qc(e,t,a)}else ku(y)?(t.flags|=192,t.child=e.child,t=null):(e=N.treeContext,gt=za(y.nextSibling),Qt=t,Pe=!0,Bn=null,Ra=!1,e!==null&&of(t,e),t=Yc(t,i.children),t.flags|=4096);return t}return o?(Vn(),y=i.fallback,o=t.mode,N=e.child,C=N.sibling,i=cn(N,{mode:"hidden",children:i.children}),i.subtreeFlags=N.subtreeFlags&65011712,C!==null?y=cn(C,y):(y=gs(y,o,a,null),y.flags|=2),y.return=t,i.return=t,i.sibling=y,t.child=i,br(null,i),i=t.child,y=e.child.memoizedState,y===null?y=Fc(a):(o=y.cachePool,o!==null?(N=Dt._currentValue,o=o.parent!==N?{parent:N,pool:N}:o):o=mf(),y={baseLanes:y.baseLanes|a,cachePool:o}),i.memoizedState=y,i.childLanes=Kc(e,m,a),t.memoizedState=Pc,br(e.child,i)):(Gn(t),a=e.child,e=a.sibling,a=cn(a,{mode:"visible",children:i.children}),a.return=t,a.sibling=null,e!==null&&(m=t.deletions,m===null?(t.deletions=[e],t.flags|=16):m.push(e)),t.child=a,t.memoizedState=null,a)}function Yc(e,t){return t=Rl({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function Rl(e,t){return e=ba(22,e,null,t),e.lanes=0,e}function Qc(e,t,a){return Ss(t,e.child,null,a),e=Yc(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function Th(e,t,a){e.lanes|=t;var i=e.alternate;i!==null&&(i.lanes|=t),uc(e.return,t,a)}function Xc(e,t,a,i,o,u){var m=e.memoizedState;m===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:i,tail:a,tailMode:o,treeForkCount:u}:(m.isBackwards=t,m.rendering=null,m.renderingStartTime=0,m.last=i,m.tail=a,m.tailMode=o,m.treeForkCount=u)}function kh(e,t,a){var i=t.pendingProps,o=i.revealOrder,u=i.tail;i=i.children;var m=Rt.current,y=(m&2)!==0;if(y?(m=m&1|2,t.flags|=128):m&=1,W(Rt,m),Jt(e,t,i,a),i=Pe?sr:0,!y&&e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Th(e,a,t);else if(e.tag===19)Th(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}switch(o){case"forwards":for(a=t.child,o=null;a!==null;)e=a.alternate,e!==null&&yl(e)===null&&(o=a),a=a.sibling;a=o,a===null?(o=t.child,t.child=null):(o=a.sibling,a.sibling=null),Xc(t,!1,o,a,u,i);break;case"backwards":case"unstable_legacy-backwards":for(a=null,o=t.child,t.child=null;o!==null;){if(e=o.alternate,e!==null&&yl(e)===null){t.child=o;break}e=o.sibling,o.sibling=a,a=o,o=e}Xc(t,!0,a,null,u,i);break;case"together":Xc(t,!1,null,null,void 0,i);break;default:t.memoizedState=null}return t.child}function pn(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),Kn|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(ii(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(l(153));if(t.child!==null){for(e=t.child,a=cn(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=cn(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function Jc(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&dl(e)))}function bg(e,t,a){switch(t.tag){case 3:G(t,t.stateNode.containerInfo),qn(t,Dt,e.memoizedState.cache),bs();break;case 27:case 5:ve(t);break;case 4:G(t,t.stateNode.containerInfo);break;case 10:qn(t,t.type,t.memoizedProps.value);break;case 31:if(t.memoizedState!==null)return t.flags|=128,_c(t),null;break;case 13:var i=t.memoizedState;if(i!==null)return i.dehydrated!==null?(Gn(t),t.flags|=128,null):(a&t.child.childLanes)!==0?Eh(e,t,a):(Gn(t),e=pn(e,t,a),e!==null?e.sibling:null);Gn(t);break;case 19:var o=(e.flags&128)!==0;if(i=(a&t.childLanes)!==0,i||(ii(e,t,a,!1),i=(a&t.childLanes)!==0),o){if(i)return kh(e,t,a);t.flags|=128}if(o=t.memoizedState,o!==null&&(o.rendering=null,o.tail=null,o.lastEffect=null),W(Rt,Rt.current),i)break;return null;case 22:return t.lanes=0,xh(e,t,a,t.pendingProps);case 24:qn(t,Dt,e.memoizedState.cache)}return pn(e,t,a)}function Ah(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)Bt=!0;else{if(!Jc(e,a)&&(t.flags&128)===0)return Bt=!1,bg(e,t,a);Bt=(e.flags&131072)!==0}else Bt=!1,Pe&&(t.flags&1048576)!==0&&lf(t,sr,t.index);switch(t.lanes=0,t.tag){case 16:e:{var i=t.pendingProps;if(e=ws(t.elementType),t.type=e,typeof e=="function")ac(e)?(i=Ns(e,i),t.tag=1,t=jh(null,t,e,i,a)):(t.tag=0,t=Vc(null,t,e,i,a));else{if(e!=null){var o=e.$$typeof;if(o===Z){t.tag=11,t=bh(null,t,e,i,a);break e}else if(o===se){t.tag=14,t=vh(null,t,e,i,a);break e}}throw t=Ze(e)||e,Error(l(306,t,""))}}return t;case 0:return Vc(e,t,t.type,t.pendingProps,a);case 1:return i=t.type,o=Ns(i,t.pendingProps),jh(e,t,i,o,a);case 3:e:{if(G(t,t.stateNode.containerInfo),e===null)throw Error(l(387));i=t.pendingProps;var u=t.memoizedState;o=u.element,bc(e,t),fr(t,i,null,a);var m=t.memoizedState;if(i=m.cache,qn(t,Dt,i),i!==u.cache&&dc(t,[Dt],a,!0),dr(),i=m.element,u.isDehydrated)if(u={element:i,isDehydrated:!1,cache:m.cache},t.updateQueue.baseState=u,t.memoizedState=u,t.flags&256){t=Nh(e,t,i,a);break e}else if(i!==o){o=ka(Error(l(424)),t),ir(o),t=Nh(e,t,i,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(gt=za(e.firstChild),Qt=t,Pe=!0,Bn=null,Ra=!0,a=xf(t,null,i,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(bs(),i===o){t=pn(e,t,a);break e}Jt(e,t,i,a)}t=t.child}return t;case 26:return Ol(e,t),e===null?(a=I0(t.type,null,t.pendingProps,null))?t.memoizedState=a:Pe||(a=t.type,e=t.pendingProps,i=Kl(Ne.current).createElement(a),i[Ot]=t,i[We]=e,Zt(i,a,e),wt(i),t.stateNode=i):t.memoizedState=I0(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return ve(t),e===null&&Pe&&(i=t.stateNode=B0(t.type,t.pendingProps,Ne.current),Qt=t,Ra=!0,o=gt,Zn(t.type)?(Ou=o,gt=za(i.firstChild)):gt=o),Jt(e,t,t.pendingProps.children,a),Ol(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&Pe&&((o=i=gt)&&(i=Kg(i,t.type,t.pendingProps,Ra),i!==null?(t.stateNode=i,Qt=t,gt=za(i.firstChild),Ra=!1,o=!0):o=!1),o||Ln(t)),ve(t),o=t.type,u=t.pendingProps,m=e!==null?e.memoizedProps:null,i=u.children,Nu(o,u)?i=null:m!==null&&Nu(o,m)&&(t.flags|=32),t.memoizedState!==null&&(o=jc(e,t,og,null,null,a),Cr._currentValue=o),Ol(e,t),Jt(e,t,i,a),t.child;case 6:return e===null&&Pe&&((e=a=gt)&&(a=Yg(a,t.pendingProps,Ra),a!==null?(t.stateNode=a,Qt=t,gt=null,e=!0):e=!1),e||Ln(t)),null;case 13:return Eh(e,t,a);case 4:return G(t,t.stateNode.containerInfo),i=t.pendingProps,e===null?t.child=Ss(t,null,i,a):Jt(e,t,i,a),t.child;case 11:return bh(e,t,t.type,t.pendingProps,a);case 7:return Jt(e,t,t.pendingProps,a),t.child;case 8:return Jt(e,t,t.pendingProps.children,a),t.child;case 12:return Jt(e,t,t.pendingProps.children,a),t.child;case 10:return i=t.pendingProps,qn(t,t.type,i.value),Jt(e,t,i.children,a),t.child;case 9:return o=t.type._context,i=t.pendingProps.children,ys(t),o=Xt(o),i=i(o),t.flags|=1,Jt(e,t,i,a),t.child;case 14:return vh(e,t,t.type,t.pendingProps,a);case 15:return yh(e,t,t.type,t.pendingProps,a);case 19:return kh(e,t,a);case 31:return gg(e,t,a);case 22:return xh(e,t,a,t.pendingProps);case 24:return ys(t),i=Xt(Dt),e===null?(o=mc(),o===null&&(o=lt,u=fc(),o.pooledCache=u,u.refCount++,u!==null&&(o.pooledCacheLanes|=a),o=u),t.memoizedState={parent:i,cache:o},gc(t),qn(t,Dt,o)):((e.lanes&a)!==0&&(bc(e,t),fr(t,null,null,a),dr()),o=e.memoizedState,u=t.memoizedState,o.parent!==i?(o={parent:i,cache:i},t.memoizedState=o,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=o),qn(t,Dt,i)):(i=u.cache,qn(t,Dt,i),i!==o.cache&&dc(t,[Dt],a,!0))),Jt(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(l(156,t.tag))}function gn(e){e.flags|=4}function Zc(e,t,a,i,o){if((t=(e.mode&32)!==0)&&(t=!1),t){if(e.flags|=16777216,(o&335544128)===o)if(e.stateNode.complete)e.flags|=8192;else if(a0())e.flags|=8192;else throw _s=pl,pc}else e.flags&=-16777217}function Oh(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!P0(t))if(a0())e.flags|=8192;else throw _s=pl,pc}function Cl(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?xt():536870912,e.lanes|=t,bi|=t)}function vr(e,t){if(!Pe)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var i=null;a!==null;)a.alternate!==null&&(i=a),a=a.sibling;i===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:i.sibling=null}}function bt(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,i=0;if(t)for(var o=e.child;o!==null;)a|=o.lanes|o.childLanes,i|=o.subtreeFlags&65011712,i|=o.flags&65011712,o.return=e,o=o.sibling;else for(o=e.child;o!==null;)a|=o.lanes|o.childLanes,i|=o.subtreeFlags,i|=o.flags,o.return=e,o=o.sibling;return e.subtreeFlags|=i,e.childLanes=a,t}function vg(e,t,a){var i=t.pendingProps;switch(rc(t),t.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return bt(t),null;case 1:return bt(t),null;case 3:return a=t.stateNode,i=null,e!==null&&(i=e.memoizedState.cache),t.memoizedState.cache!==i&&(t.flags|=2048),fn(Dt),X(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&(si(t)?gn(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,oc())),bt(t),null;case 26:var o=t.type,u=t.memoizedState;return e===null?(gn(t),u!==null?(bt(t),Oh(t,u)):(bt(t),Zc(t,o,null,i,a))):u?u!==e.memoizedState?(gn(t),bt(t),Oh(t,u)):(bt(t),t.flags&=-16777217):(e=e.memoizedProps,e!==i&&gn(t),bt(t),Zc(t,o,e,i,a)),null;case 27:if(re(t),a=Ne.current,o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&gn(t);else{if(!i){if(t.stateNode===null)throw Error(l(166));return bt(t),null}e=ae.current,si(t)?cf(t):(e=B0(o,i,a),t.stateNode=e,gn(t))}return bt(t),null;case 5:if(re(t),o=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==i&&gn(t);else{if(!i){if(t.stateNode===null)throw Error(l(166));return bt(t),null}if(u=ae.current,si(t))cf(t);else{var m=Kl(Ne.current);switch(u){case 1:u=m.createElementNS("http://www.w3.org/2000/svg",o);break;case 2:u=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;default:switch(o){case"svg":u=m.createElementNS("http://www.w3.org/2000/svg",o);break;case"math":u=m.createElementNS("http://www.w3.org/1998/Math/MathML",o);break;case"script":u=m.createElement("div"),u.innerHTML="<script><\/script>",u=u.removeChild(u.firstChild);break;case"select":u=typeof i.is=="string"?m.createElement("select",{is:i.is}):m.createElement("select"),i.multiple?u.multiple=!0:i.size&&(u.size=i.size);break;default:u=typeof i.is=="string"?m.createElement(o,{is:i.is}):m.createElement(o)}}u[Ot]=t,u[We]=i;e:for(m=t.child;m!==null;){if(m.tag===5||m.tag===6)u.appendChild(m.stateNode);else if(m.tag!==4&&m.tag!==27&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===t)break e;for(;m.sibling===null;){if(m.return===null||m.return===t)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}t.stateNode=u;e:switch(Zt(u,o,i),o){case"button":case"input":case"select":case"textarea":i=!!i.autoFocus;break e;case"img":i=!0;break e;default:i=!1}i&&gn(t)}}return bt(t),Zc(t,t.type,e===null?null:e.memoizedProps,t.pendingProps,a),null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==i&&gn(t);else{if(typeof i!="string"&&t.stateNode===null)throw Error(l(166));if(e=Ne.current,si(t)){if(e=t.stateNode,a=t.memoizedProps,i=null,o=Qt,o!==null)switch(o.tag){case 27:case 5:i=o.memoizedProps}e[Ot]=t,e=!!(e.nodeValue===a||i!==null&&i.suppressHydrationWarning===!0||E0(e.nodeValue,a)),e||Ln(t,!0)}else e=Kl(e).createTextNode(i),e[Ot]=t,t.stateNode=e}return bt(t),null;case 31:if(a=t.memoizedState,e===null||e.memoizedState!==null){if(i=si(t),a!==null){if(e===null){if(!i)throw Error(l(318));if(e=t.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(l(557));e[Ot]=t}else bs(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;bt(t),e=!1}else a=oc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=a),e=!0;if(!e)return t.flags&256?(ya(t),t):(ya(t),null);if((t.flags&128)!==0)throw Error(l(558))}return bt(t),null;case 13:if(i=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(o=si(t),i!==null&&i.dehydrated!==null){if(e===null){if(!o)throw Error(l(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(l(317));o[Ot]=t}else bs(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;bt(t),o=!1}else o=oc(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=o),o=!0;if(!o)return t.flags&256?(ya(t),t):(ya(t),null)}return ya(t),(t.flags&128)!==0?(t.lanes=a,t):(a=i!==null,e=e!==null&&e.memoizedState!==null,a&&(i=t.child,o=null,i.alternate!==null&&i.alternate.memoizedState!==null&&i.alternate.memoizedState.cachePool!==null&&(o=i.alternate.memoizedState.cachePool.pool),u=null,i.memoizedState!==null&&i.memoizedState.cachePool!==null&&(u=i.memoizedState.cachePool.pool),u!==o&&(i.flags|=2048)),a!==e&&a&&(t.child.flags|=8192),Cl(t,t.updateQueue),bt(t),null);case 4:return X(),e===null&&xu(t.stateNode.containerInfo),bt(t),null;case 10:return fn(t.type),bt(t),null;case 19:if(L(Rt),i=t.memoizedState,i===null)return bt(t),null;if(o=(t.flags&128)!==0,u=i.rendering,u===null)if(o)vr(i,!1);else{if(kt!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(u=yl(e),u!==null){for(t.flags|=128,vr(i,!1),e=u.updateQueue,t.updateQueue=e,Cl(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)nf(a,e),a=a.sibling;return W(Rt,Rt.current&1|2),Pe&&un(t,i.treeForkCount),t.child}e=e.sibling}i.tail!==null&&zt()>Bl&&(t.flags|=128,o=!0,vr(i,!1),t.lanes=4194304)}else{if(!o)if(e=yl(u),e!==null){if(t.flags|=128,o=!0,e=e.updateQueue,t.updateQueue=e,Cl(t,e),vr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!u.alternate&&!Pe)return bt(t),null}else 2*zt()-i.renderingStartTime>Bl&&a!==536870912&&(t.flags|=128,o=!0,vr(i,!1),t.lanes=4194304);i.isBackwards?(u.sibling=t.child,t.child=u):(e=i.last,e!==null?e.sibling=u:t.child=u,i.last=u)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=zt(),e.sibling=null,a=Rt.current,W(Rt,o?a&1|2:a&1),Pe&&un(t,i.treeForkCount),e):(bt(t),null);case 22:case 23:return ya(t),wc(),i=t.memoizedState!==null,e!==null?e.memoizedState!==null!==i&&(t.flags|=8192):i&&(t.flags|=8192),i?(a&536870912)!==0&&(t.flags&128)===0&&(bt(t),t.subtreeFlags&6&&(t.flags|=8192)):bt(t),a=t.updateQueue,a!==null&&Cl(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),i=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(i=t.memoizedState.cachePool.pool),i!==a&&(t.flags|=2048),e!==null&&L(xs),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),fn(Dt),bt(t),null;case 25:return null;case 30:return null}throw Error(l(156,t.tag))}function yg(e,t){switch(rc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return fn(Dt),X(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return re(t),null;case 31:if(t.memoizedState!==null){if(ya(t),t.alternate===null)throw Error(l(340));bs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 13:if(ya(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(l(340));bs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return L(Rt),null;case 4:return X(),null;case 10:return fn(t.type),null;case 22:case 23:return ya(t),wc(),e!==null&&L(xs),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return fn(Dt),null;case 25:return null;default:return null}}function Rh(e,t){switch(rc(t),t.tag){case 3:fn(Dt),X();break;case 26:case 27:case 5:re(t);break;case 4:X();break;case 31:t.memoizedState!==null&&ya(t);break;case 13:ya(t);break;case 19:L(Rt);break;case 10:fn(t.type);break;case 22:case 23:ya(t),wc(),e!==null&&L(xs);break;case 24:fn(Dt)}}function yr(e,t){try{var a=t.updateQueue,i=a!==null?a.lastEffect:null;if(i!==null){var o=i.next;a=o;do{if((a.tag&e)===e){i=void 0;var u=a.create,m=a.inst;i=u(),m.destroy=i}a=a.next}while(a!==o)}}catch(y){tt(t,t.return,y)}}function Pn(e,t,a){try{var i=t.updateQueue,o=i!==null?i.lastEffect:null;if(o!==null){var u=o.next;i=u;do{if((i.tag&e)===e){var m=i.inst,y=m.destroy;if(y!==void 0){m.destroy=void 0,o=t;var N=a,C=y;try{C()}catch(I){tt(o,N,I)}}}i=i.next}while(i!==u)}}catch(I){tt(t,t.return,I)}}function Ch(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{_f(t,a)}catch(i){tt(e,e.return,i)}}}function zh(e,t,a){a.props=Ns(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(i){tt(e,t,i)}}function xr(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var i=e.stateNode;break;case 30:i=e.stateNode;break;default:i=e.stateNode}typeof a=="function"?e.refCleanup=a(i):a.current=i}}catch(o){tt(e,t,o)}}function an(e,t){var a=e.ref,i=e.refCleanup;if(a!==null)if(typeof i=="function")try{i()}catch(o){tt(e,t,o)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(o){tt(e,t,o)}else a.current=null}function Mh(e){var t=e.type,a=e.memoizedProps,i=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&i.focus();break e;case"img":a.src?i.src=a.src:a.srcSet&&(i.srcset=a.srcSet)}}catch(o){tt(e,e.return,o)}}function Wc(e,t,a){try{var i=e.stateNode;$g(i,e.type,a,t),i[We]=t}catch(o){tt(e,e.return,o)}}function Dh(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&Zn(e.type)||e.tag===4}function eu(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Dh(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&Zn(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function tu(e,t,a){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=Q));else if(i!==4&&(i===27&&Zn(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(tu(e,t,a),e=e.sibling;e!==null;)tu(e,t,a),e=e.sibling}function zl(e,t,a){var i=e.tag;if(i===5||i===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(i!==4&&(i===27&&Zn(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(zl(e,t,a),e=e.sibling;e!==null;)zl(e,t,a),e=e.sibling}function Uh(e){var t=e.stateNode,a=e.memoizedProps;try{for(var i=e.type,o=t.attributes;o.length;)t.removeAttributeNode(o[0]);Zt(t,i,a),t[Ot]=e,t[We]=a}catch(u){tt(e,e.return,u)}}var bn=!1,Lt=!1,au=!1,Bh=typeof WeakSet=="function"?WeakSet:Set,Pt=null;function xg(e,t){if(e=e.containerInfo,Su=eo,e=Yd(e),Qo(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var i=a.getSelection&&a.getSelection();if(i&&i.rangeCount!==0){a=i.anchorNode;var o=i.anchorOffset,u=i.focusNode;i=i.focusOffset;try{a.nodeType,u.nodeType}catch{a=null;break e}var m=0,y=-1,N=-1,C=0,I=0,F=e,z=null;t:for(;;){for(var U;F!==a||o!==0&&F.nodeType!==3||(y=m+o),F!==u||i!==0&&F.nodeType!==3||(N=m+i),F.nodeType===3&&(m+=F.nodeValue.length),(U=F.firstChild)!==null;)z=F,F=U;for(;;){if(F===e)break t;if(z===a&&++C===o&&(y=m),z===u&&++I===i&&(N=m),(U=F.nextSibling)!==null)break;F=z,z=F.parentNode}F=U}a=y===-1||N===-1?null:{start:y,end:N}}else a=null}a=a||{start:0,end:0}}else a=null;for(ju={focusedElem:e,selectionRange:a},eo=!1,Pt=t;Pt!==null;)if(t=Pt,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,Pt=e;else for(;Pt!==null;){switch(t=Pt,u=t.alternate,e=t.flags,t.tag){case 0:if((e&4)!==0&&(e=t.updateQueue,e=e!==null?e.events:null,e!==null))for(a=0;a<e.length;a++)o=e[a],o.ref.impl=o.nextImpl;break;case 11:case 15:break;case 1:if((e&1024)!==0&&u!==null){e=void 0,a=t,o=u.memoizedProps,u=u.memoizedState,i=a.stateNode;try{var ue=Ns(a.type,o);e=i.getSnapshotBeforeUpdate(ue,u),i.__reactInternalSnapshotBeforeUpdate=e}catch(je){tt(a,a.return,je)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)Tu(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":Tu(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(l(163))}if(e=t.sibling,e!==null){e.return=t.return,Pt=e;break}Pt=t.return}}function Lh(e,t,a){var i=a.flags;switch(a.tag){case 0:case 11:case 15:yn(e,a),i&4&&yr(5,a);break;case 1:if(yn(e,a),i&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(m){tt(a,a.return,m)}else{var o=Ns(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(o,t,e.__reactInternalSnapshotBeforeUpdate)}catch(m){tt(a,a.return,m)}}i&64&&Ch(a),i&512&&xr(a,a.return);break;case 3:if(yn(e,a),i&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{_f(e,t)}catch(m){tt(a,a.return,m)}}break;case 27:t===null&&i&4&&Uh(a);case 26:case 5:yn(e,a),t===null&&i&4&&Mh(a),i&512&&xr(a,a.return);break;case 12:yn(e,a);break;case 31:yn(e,a),i&4&&$h(e,a);break;case 13:yn(e,a),i&4&&Hh(e,a),i&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=Ag.bind(null,a),Qg(e,a))));break;case 22:if(i=a.memoizedState!==null||bn,!i){t=t!==null&&t.memoizedState!==null||Lt,o=bn;var u=Lt;bn=i,(Lt=t)&&!u?xn(e,a,(a.subtreeFlags&8772)!==0):yn(e,a),bn=o,Lt=u}break;case 30:break;default:yn(e,a)}}function qh(e){var t=e.alternate;t!==null&&(e.alternate=null,qh(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&On(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var vt=null,da=!1;function vn(e,t,a){for(a=a.child;a!==null;)Ih(e,t,a),a=a.sibling}function Ih(e,t,a){if(Re&&typeof Re.onCommitFiberUnmount=="function")try{Re.onCommitFiberUnmount(cs,a)}catch{}switch(a.tag){case 26:Lt||an(a,t),vn(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:Lt||an(a,t);var i=vt,o=da;Zn(a.type)&&(vt=a.stateNode,da=!1),vn(e,t,a),Ar(a.stateNode),vt=i,da=o;break;case 5:Lt||an(a,t);case 6:if(i=vt,o=da,vt=null,vn(e,t,a),vt=i,da=o,vt!==null)if(da)try{(vt.nodeType===9?vt.body:vt.nodeName==="HTML"?vt.ownerDocument.body:vt).removeChild(a.stateNode)}catch(u){tt(a,t,u)}else try{vt.removeChild(a.stateNode)}catch(u){tt(a,t,u)}break;case 18:vt!==null&&(da?(e=vt,C0(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Ni(e)):C0(vt,a.stateNode));break;case 4:i=vt,o=da,vt=a.stateNode.containerInfo,da=!0,vn(e,t,a),vt=i,da=o;break;case 0:case 11:case 14:case 15:Pn(2,a,t),Lt||Pn(4,a,t),vn(e,t,a);break;case 1:Lt||(an(a,t),i=a.stateNode,typeof i.componentWillUnmount=="function"&&zh(a,t,i)),vn(e,t,a);break;case 21:vn(e,t,a);break;case 22:Lt=(i=Lt)||a.memoizedState!==null,vn(e,t,a),Lt=i;break;default:vn(e,t,a)}}function $h(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null))){e=e.dehydrated;try{Ni(e)}catch(a){tt(t,t.return,a)}}}function Hh(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ni(e)}catch(a){tt(t,t.return,a)}}function wg(e){switch(e.tag){case 31:case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Bh),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Bh),t;default:throw Error(l(435,e.tag))}}function Ml(e,t){var a=wg(e);t.forEach(function(i){if(!a.has(i)){a.add(i);var o=Og.bind(null,e,i);i.then(o,o)}})}function fa(e,t){var a=t.deletions;if(a!==null)for(var i=0;i<a.length;i++){var o=a[i],u=e,m=t,y=m;e:for(;y!==null;){switch(y.tag){case 27:if(Zn(y.type)){vt=y.stateNode,da=!1;break e}break;case 5:vt=y.stateNode,da=!1;break e;case 3:case 4:vt=y.stateNode.containerInfo,da=!0;break e}y=y.return}if(vt===null)throw Error(l(160));Ih(u,m,o),vt=null,da=!1,u=o.alternate,u!==null&&(u.return=null),o.return=null}if(t.subtreeFlags&13886)for(t=t.child;t!==null;)Gh(t,e),t=t.sibling}var $a=null;function Gh(e,t){var a=e.alternate,i=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:fa(t,e),ha(e),i&4&&(Pn(3,e,e.return),yr(3,e),Pn(5,e,e.return));break;case 1:fa(t,e),ha(e),i&512&&(Lt||a===null||an(a,a.return)),i&64&&bn&&(e=e.updateQueue,e!==null&&(i=e.callbacks,i!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?i:a.concat(i))));break;case 26:var o=$a;if(fa(t,e),ha(e),i&512&&(Lt||a===null||an(a,a.return)),i&4){var u=a!==null?a.memoizedState:null;if(i=e.memoizedState,a===null)if(i===null)if(e.stateNode===null){e:{i=e.type,a=e.memoizedProps,o=o.ownerDocument||o;t:switch(i){case"title":u=o.getElementsByTagName("title")[0],(!u||u[fs]||u[Ot]||u.namespaceURI==="http://www.w3.org/2000/svg"||u.hasAttribute("itemprop"))&&(u=o.createElement(i),o.head.insertBefore(u,o.querySelector("head > title"))),Zt(u,i,a),u[Ot]=e,wt(u),i=u;break e;case"link":var m=G0("link","href",o).get(i+(a.href||""));if(m){for(var y=0;y<m.length;y++)if(u=m[y],u.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&u.getAttribute("rel")===(a.rel==null?null:a.rel)&&u.getAttribute("title")===(a.title==null?null:a.title)&&u.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){m.splice(y,1);break t}}u=o.createElement(i),Zt(u,i,a),o.head.appendChild(u);break;case"meta":if(m=G0("meta","content",o).get(i+(a.content||""))){for(y=0;y<m.length;y++)if(u=m[y],u.getAttribute("content")===(a.content==null?null:""+a.content)&&u.getAttribute("name")===(a.name==null?null:a.name)&&u.getAttribute("property")===(a.property==null?null:a.property)&&u.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&u.getAttribute("charset")===(a.charSet==null?null:a.charSet)){m.splice(y,1);break t}}u=o.createElement(i),Zt(u,i,a),o.head.appendChild(u);break;default:throw Error(l(468,i))}u[Ot]=e,wt(u),i=u}e.stateNode=i}else V0(o,e.type,e.stateNode);else e.stateNode=H0(o,i,e.memoizedProps);else u!==i?(u===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):u.count--,i===null?V0(o,e.type,e.stateNode):H0(o,i,e.memoizedProps)):i===null&&e.stateNode!==null&&Wc(e,e.memoizedProps,a.memoizedProps)}break;case 27:fa(t,e),ha(e),i&512&&(Lt||a===null||an(a,a.return)),a!==null&&i&4&&Wc(e,e.memoizedProps,a.memoizedProps);break;case 5:if(fa(t,e),ha(e),i&512&&(Lt||a===null||an(a,a.return)),e.flags&32){o=e.stateNode;try{Ja(o,"")}catch(ue){tt(e,e.return,ue)}}i&4&&e.stateNode!=null&&(o=e.memoizedProps,Wc(e,o,a!==null?a.memoizedProps:o)),i&1024&&(au=!0);break;case 6:if(fa(t,e),ha(e),i&4){if(e.stateNode===null)throw Error(l(162));i=e.memoizedProps,a=e.stateNode;try{a.nodeValue=i}catch(ue){tt(e,e.return,ue)}}break;case 3:if(Xl=null,o=$a,$a=Yl(t.containerInfo),fa(t,e),$a=o,ha(e),i&4&&a!==null&&a.memoizedState.isDehydrated)try{Ni(t.containerInfo)}catch(ue){tt(e,e.return,ue)}au&&(au=!1,Vh(e));break;case 4:i=$a,$a=Yl(e.stateNode.containerInfo),fa(t,e),ha(e),$a=i;break;case 12:fa(t,e),ha(e);break;case 31:fa(t,e),ha(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Ml(e,i)));break;case 13:fa(t,e),ha(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Ul=zt()),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Ml(e,i)));break;case 22:o=e.memoizedState!==null;var N=a!==null&&a.memoizedState!==null,C=bn,I=Lt;if(bn=C||o,Lt=I||N,fa(t,e),Lt=I,bn=C,ha(e),i&8192)e:for(t=e.stateNode,t._visibility=o?t._visibility&-2:t._visibility|1,o&&(a===null||N||bn||Lt||Es(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){N=a=t;try{if(u=N.stateNode,o)m=u.style,typeof m.setProperty=="function"?m.setProperty("display","none","important"):m.display="none";else{y=N.stateNode;var F=N.memoizedProps.style,z=F!=null&&F.hasOwnProperty("display")?F.display:null;y.style.display=z==null||typeof z=="boolean"?"":(""+z).trim()}}catch(ue){tt(N,N.return,ue)}}}else if(t.tag===6){if(a===null){N=t;try{N.stateNode.nodeValue=o?"":N.memoizedProps}catch(ue){tt(N,N.return,ue)}}}else if(t.tag===18){if(a===null){N=t;try{var U=N.stateNode;o?z0(U,!0):z0(N.stateNode,!1)}catch(ue){tt(N,N.return,ue)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}i&4&&(i=e.updateQueue,i!==null&&(a=i.retryQueue,a!==null&&(i.retryQueue=null,Ml(e,a))));break;case 19:fa(t,e),ha(e),i&4&&(i=e.updateQueue,i!==null&&(e.updateQueue=null,Ml(e,i)));break;case 30:break;case 21:break;default:fa(t,e),ha(e)}}function ha(e){var t=e.flags;if(t&2){try{for(var a,i=e.return;i!==null;){if(Dh(i)){a=i;break}i=i.return}if(a==null)throw Error(l(160));switch(a.tag){case 27:var o=a.stateNode,u=eu(e);zl(e,u,o);break;case 5:var m=a.stateNode;a.flags&32&&(Ja(m,""),a.flags&=-33);var y=eu(e);zl(e,y,m);break;case 3:case 4:var N=a.stateNode.containerInfo,C=eu(e);tu(e,C,N);break;default:throw Error(l(161))}}catch(I){tt(e,e.return,I)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function Vh(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;Vh(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function yn(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Lh(e,t.alternate,t),t=t.sibling}function Es(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Pn(4,t,t.return),Es(t);break;case 1:an(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&zh(t,t.return,a),Es(t);break;case 27:Ar(t.stateNode);case 26:case 5:an(t,t.return),Es(t);break;case 22:t.memoizedState===null&&Es(t);break;case 30:Es(t);break;default:Es(t)}e=e.sibling}}function xn(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var i=t.alternate,o=e,u=t,m=u.flags;switch(u.tag){case 0:case 11:case 15:xn(o,u,a),yr(4,u);break;case 1:if(xn(o,u,a),i=u,o=i.stateNode,typeof o.componentDidMount=="function")try{o.componentDidMount()}catch(C){tt(i,i.return,C)}if(i=u,o=i.updateQueue,o!==null){var y=i.stateNode;try{var N=o.shared.hiddenCallbacks;if(N!==null)for(o.shared.hiddenCallbacks=null,o=0;o<N.length;o++)wf(N[o],y)}catch(C){tt(i,i.return,C)}}a&&m&64&&Ch(u),xr(u,u.return);break;case 27:Uh(u);case 26:case 5:xn(o,u,a),a&&i===null&&m&4&&Mh(u),xr(u,u.return);break;case 12:xn(o,u,a);break;case 31:xn(o,u,a),a&&m&4&&$h(o,u);break;case 13:xn(o,u,a),a&&m&4&&Hh(o,u);break;case 22:u.memoizedState===null&&xn(o,u,a),xr(u,u.return);break;case 30:break;default:xn(o,u,a)}t=t.sibling}}function nu(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&rr(a))}function su(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&rr(e))}function Ha(e,t,a,i){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ph(e,t,a,i),t=t.sibling}function Ph(e,t,a,i){var o=t.flags;switch(t.tag){case 0:case 11:case 15:Ha(e,t,a,i),o&2048&&yr(9,t);break;case 1:Ha(e,t,a,i);break;case 3:Ha(e,t,a,i),o&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&rr(e)));break;case 12:if(o&2048){Ha(e,t,a,i),e=t.stateNode;try{var u=t.memoizedProps,m=u.id,y=u.onPostCommit;typeof y=="function"&&y(m,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(N){tt(t,t.return,N)}}else Ha(e,t,a,i);break;case 31:Ha(e,t,a,i);break;case 13:Ha(e,t,a,i);break;case 23:break;case 22:u=t.stateNode,m=t.alternate,t.memoizedState!==null?u._visibility&2?Ha(e,t,a,i):wr(e,t):u._visibility&2?Ha(e,t,a,i):(u._visibility|=2,mi(e,t,a,i,(t.subtreeFlags&10256)!==0||!1)),o&2048&&nu(m,t);break;case 24:Ha(e,t,a,i),o&2048&&su(t.alternate,t);break;default:Ha(e,t,a,i)}}function mi(e,t,a,i,o){for(o=o&&((t.subtreeFlags&10256)!==0||!1),t=t.child;t!==null;){var u=e,m=t,y=a,N=i,C=m.flags;switch(m.tag){case 0:case 11:case 15:mi(u,m,y,N,o),yr(8,m);break;case 23:break;case 22:var I=m.stateNode;m.memoizedState!==null?I._visibility&2?mi(u,m,y,N,o):wr(u,m):(I._visibility|=2,mi(u,m,y,N,o)),o&&C&2048&&nu(m.alternate,m);break;case 24:mi(u,m,y,N,o),o&&C&2048&&su(m.alternate,m);break;default:mi(u,m,y,N,o)}t=t.sibling}}function wr(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,i=t,o=i.flags;switch(i.tag){case 22:wr(a,i),o&2048&&nu(i.alternate,i);break;case 24:wr(a,i),o&2048&&su(i.alternate,i);break;default:wr(a,i)}t=t.sibling}}var _r=8192;function pi(e,t,a){if(e.subtreeFlags&_r)for(e=e.child;e!==null;)Fh(e,t,a),e=e.sibling}function Fh(e,t,a){switch(e.tag){case 26:pi(e,t,a),e.flags&_r&&e.memoizedState!==null&&lb(a,$a,e.memoizedState,e.memoizedProps);break;case 5:pi(e,t,a);break;case 3:case 4:var i=$a;$a=Yl(e.stateNode.containerInfo),pi(e,t,a),$a=i;break;case 22:e.memoizedState===null&&(i=e.alternate,i!==null&&i.memoizedState!==null?(i=_r,_r=16777216,pi(e,t,a),_r=i):pi(e,t,a));break;default:pi(e,t,a)}}function Kh(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function Sr(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var i=t[a];Pt=i,Qh(i,e)}Kh(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Yh(e),e=e.sibling}function Yh(e){switch(e.tag){case 0:case 11:case 15:Sr(e),e.flags&2048&&Pn(9,e,e.return);break;case 3:Sr(e);break;case 12:Sr(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,Dl(e)):Sr(e);break;default:Sr(e)}}function Dl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var i=t[a];Pt=i,Qh(i,e)}Kh(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Pn(8,t,t.return),Dl(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,Dl(t));break;default:Dl(t)}e=e.sibling}}function Qh(e,t){for(;Pt!==null;){var a=Pt;switch(a.tag){case 0:case 11:case 15:Pn(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var i=a.memoizedState.cachePool.pool;i!=null&&i.refCount++}break;case 24:rr(a.memoizedState.cache)}if(i=a.child,i!==null)i.return=a,Pt=i;else e:for(a=e;Pt!==null;){i=Pt;var o=i.sibling,u=i.return;if(qh(i),i===a){Pt=null;break e}if(o!==null){o.return=u,Pt=o;break e}Pt=u}}}var _g={getCacheForType:function(e){var t=Xt(Dt),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a},cacheSignal:function(){return Xt(Dt).controller.signal}},Sg=typeof WeakMap=="function"?WeakMap:Map,Je=0,lt=null,qe=null,Ge=0,et=0,xa=null,Fn=!1,gi=!1,iu=!1,wn=0,kt=0,Kn=0,Ts=0,ru=0,wa=0,bi=0,jr=null,ma=null,lu=!1,Ul=0,Xh=0,Bl=1/0,Ll=null,Yn=null,Ht=0,Qn=null,vi=null,_n=0,ou=0,cu=null,Jh=null,Nr=0,uu=null;function _a(){return(Je&2)!==0&&Ge!==0?Ge&-Ge:q.T!==null?gu():ds()}function Zh(){if(wa===0)if((Ge&536870912)===0||Pe){var e=ln;ln<<=1,(ln&3932160)===0&&(ln=262144),wa=e}else wa=536870912;return e=va.current,e!==null&&(e.flags|=32),wa}function pa(e,t,a){(e===lt&&(et===2||et===9)||e.cancelPendingCommit!==null)&&(yi(e,0),Xn(e,Ge,wa,!1)),Kt(e,a),((Je&2)===0||e!==lt)&&(e===lt&&((Je&2)===0&&(Ts|=a),kt===4&&Xn(e,Ge,wa,!1)),nn(e))}function Wh(e,t,a){if((Je&6)!==0)throw Error(l(327));var i=!a&&(t&127)===0&&(t&e.expiredLanes)===0||Xa(e,t),o=i?Eg(e,t):fu(e,t,!0),u=i;do{if(o===0){gi&&!i&&Xn(e,t,0,!1);break}else{if(a=e.current.alternate,u&&!jg(a)){o=fu(e,t,!1),u=!1;continue}if(o===2){if(u=t,e.errorRecoveryDisabledLanes&u)var m=0;else m=e.pendingLanes&-536870913,m=m!==0?m:m&536870912?536870912:0;if(m!==0){t=m;e:{var y=e;o=jr;var N=y.current.memoizedState.isDehydrated;if(N&&(yi(y,m).flags|=256),m=fu(y,m,!1),m!==2){if(iu&&!N){y.errorRecoveryDisabledLanes|=u,Ts|=u,o=4;break e}u=ma,ma=o,u!==null&&(ma===null?ma=u:ma.push.apply(ma,u))}o=m}if(u=!1,o!==2)continue}}if(o===1){yi(e,0),Xn(e,t,0,!0);break}e:{switch(i=e,u=o,u){case 0:case 1:throw Error(l(345));case 4:if((t&4194048)!==t)break;case 6:Xn(i,t,wa,!Fn);break e;case 2:ma=null;break;case 3:case 5:break;default:throw Error(l(329))}if((t&62914560)===t&&(o=Ul+300-zt(),10<o)){if(Xn(i,t,wa,!Fn),la(i,0,!0)!==0)break e;_n=t,i.timeoutHandle=O0(e0.bind(null,i,a,ma,Ll,lu,t,wa,Ts,bi,Fn,u,"Throttled",-0,0),o);break e}e0(i,a,ma,Ll,lu,t,wa,Ts,bi,Fn,u,null,-0,0)}}break}while(!0);nn(e)}function e0(e,t,a,i,o,u,m,y,N,C,I,F,z,U){if(e.timeoutHandle=-1,F=t.subtreeFlags,F&8192||(F&16785408)===16785408){F={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Q},Fh(t,u,F);var ue=(u&62914560)===u?Ul-zt():(u&4194048)===u?Xh-zt():0;if(ue=ob(F,ue),ue!==null){_n=u,e.cancelPendingCommit=ue(o0.bind(null,e,t,u,a,i,o,m,y,N,I,F,null,z,U)),Xn(e,u,m,!C);return}}o0(e,t,u,a,i,o,m,y,N)}function jg(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var i=0;i<a.length;i++){var o=a[i],u=o.getSnapshot;o=o.value;try{if(!ga(u(),o))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Xn(e,t,a,i){t&=~ru,t&=~Ts,e.suspendedLanes|=t,e.pingedLanes&=~t,i&&(e.warmLanes|=t),i=e.expirationTimes;for(var o=t;0<o;){var u=31-rt(o),m=1<<u;i[u]=-1,o&=~m}a!==0&&Gs(e,a,t)}function ql(){return(Je&6)===0?(Er(0),!1):!0}function du(){if(qe!==null){if(et===0)var e=qe.return;else e=qe,dn=vs=null,Tc(e),ci=null,or=0,e=qe;for(;e!==null;)Rh(e.alternate,e),e=e.return;qe=null}}function yi(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Vg(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),_n=0,du(),lt=e,qe=a=cn(e.current,null),Ge=t,et=0,xa=null,Fn=!1,gi=Xa(e,t),iu=!1,bi=wa=ru=Ts=Kn=kt=0,ma=jr=null,lu=!1,(t&8)!==0&&(t|=t&32);var i=e.entangledLanes;if(i!==0)for(e=e.entanglements,i&=t;0<i;){var o=31-rt(i),u=1<<o;t|=e[o],i&=~u}return wn=t,rl(),a}function t0(e,t){ze=null,q.H=gr,t===oi||t===ml?(t=bf(),et=3):t===pc?(t=bf(),et=4):et=t===Gc?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,xa=t,qe===null&&(kt=1,kl(e,ka(t,e.current)))}function a0(){var e=va.current;return e===null?!0:(Ge&4194048)===Ge?Ca===null:(Ge&62914560)===Ge||(Ge&536870912)!==0?e===Ca:!1}function n0(){var e=q.H;return q.H=gr,e===null?gr:e}function s0(){var e=q.A;return q.A=_g,e}function Il(){kt=4,Fn||(Ge&4194048)!==Ge&&va.current!==null||(gi=!0),(Kn&134217727)===0&&(Ts&134217727)===0||lt===null||Xn(lt,Ge,wa,!1)}function fu(e,t,a){var i=Je;Je|=2;var o=n0(),u=s0();(lt!==e||Ge!==t)&&(Ll=null,yi(e,t)),t=!1;var m=kt;e:do try{if(et!==0&&qe!==null){var y=qe,N=xa;switch(et){case 8:du(),m=6;break e;case 3:case 2:case 9:case 6:va.current===null&&(t=!0);var C=et;if(et=0,xa=null,xi(e,y,N,C),a&&gi){m=0;break e}break;default:C=et,et=0,xa=null,xi(e,y,N,C)}}Ng(),m=kt;break}catch(I){t0(e,I)}while(!0);return t&&e.shellSuspendCounter++,dn=vs=null,Je=i,q.H=o,q.A=u,qe===null&&(lt=null,Ge=0,rl()),m}function Ng(){for(;qe!==null;)i0(qe)}function Eg(e,t){var a=Je;Je|=2;var i=n0(),o=s0();lt!==e||Ge!==t?(Ll=null,Bl=zt()+500,yi(e,t)):gi=Xa(e,t);e:do try{if(et!==0&&qe!==null){t=qe;var u=xa;t:switch(et){case 1:et=0,xa=null,xi(e,t,u,1);break;case 2:case 9:if(pf(u)){et=0,xa=null,r0(t);break}t=function(){et!==2&&et!==9||lt!==e||(et=7),nn(e)},u.then(t,t);break e;case 3:et=7;break e;case 4:et=5;break e;case 7:pf(u)?(et=0,xa=null,r0(t)):(et=0,xa=null,xi(e,t,u,7));break;case 5:var m=null;switch(qe.tag){case 26:m=qe.memoizedState;case 5:case 27:var y=qe;if(m?P0(m):y.stateNode.complete){et=0,xa=null;var N=y.sibling;if(N!==null)qe=N;else{var C=y.return;C!==null?(qe=C,$l(C)):qe=null}break t}}et=0,xa=null,xi(e,t,u,5);break;case 6:et=0,xa=null,xi(e,t,u,6);break;case 8:du(),kt=6;break e;default:throw Error(l(462))}}Tg();break}catch(I){t0(e,I)}while(!0);return dn=vs=null,q.H=i,q.A=o,Je=a,qe!==null?0:(lt=null,Ge=0,rl(),kt)}function Tg(){for(;qe!==null&&!os();)i0(qe)}function i0(e){var t=Ah(e.alternate,e,wn);e.memoizedProps=e.pendingProps,t===null?$l(e):qe=t}function r0(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=Sh(a,t,t.pendingProps,t.type,void 0,Ge);break;case 11:t=Sh(a,t,t.pendingProps,t.type.render,t.ref,Ge);break;case 5:Tc(t);default:Rh(a,t),t=qe=nf(t,wn),t=Ah(a,t,wn)}e.memoizedProps=e.pendingProps,t===null?$l(e):qe=t}function xi(e,t,a,i){dn=vs=null,Tc(t),ci=null,or=0;var o=t.return;try{if(pg(e,o,t,a,Ge)){kt=1,kl(e,ka(a,e.current)),qe=null;return}}catch(u){if(o!==null)throw qe=o,u;kt=1,kl(e,ka(a,e.current)),qe=null;return}t.flags&32768?(Pe||i===1?e=!0:gi||(Ge&536870912)!==0?e=!1:(Fn=e=!0,(i===2||i===9||i===3||i===6)&&(i=va.current,i!==null&&i.tag===13&&(i.flags|=16384))),l0(t,e)):$l(t)}function $l(e){var t=e;do{if((t.flags&32768)!==0){l0(t,Fn);return}e=t.return;var a=vg(t.alternate,t,wn);if(a!==null){qe=a;return}if(t=t.sibling,t!==null){qe=t;return}qe=t=e}while(t!==null);kt===0&&(kt=5)}function l0(e,t){do{var a=yg(e.alternate,e);if(a!==null){a.flags&=32767,qe=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){qe=e;return}qe=e=a}while(e!==null);kt=6,qe=null}function o0(e,t,a,i,o,u,m,y,N){e.cancelPendingCommit=null;do Hl();while(Ht!==0);if((Je&6)!==0)throw Error(l(327));if(t!==null){if(t===e.current)throw Error(l(177));if(u=t.lanes|t.childLanes,u|=ec,Fe(e,a,u,m,y,N),e===lt&&(qe=lt=null,Ge=0),vi=t,Qn=e,_n=a,ou=u,cu=o,Jh=i,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,Rg(Xe,function(){return h0(),null})):(e.callbackNode=null,e.callbackPriority=0),i=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||i){i=q.T,q.T=null,o=ee.p,ee.p=2,m=Je,Je|=4;try{xg(e,t,a)}finally{Je=m,ee.p=o,q.T=i}}Ht=1,c0(),u0(),d0()}}function c0(){if(Ht===1){Ht=0;var e=Qn,t=vi,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=q.T,q.T=null;var i=ee.p;ee.p=2;var o=Je;Je|=4;try{Gh(t,e);var u=ju,m=Yd(e.containerInfo),y=u.focusedElem,N=u.selectionRange;if(m!==y&&y&&y.ownerDocument&&Kd(y.ownerDocument.documentElement,y)){if(N!==null&&Qo(y)){var C=N.start,I=N.end;if(I===void 0&&(I=C),"selectionStart"in y)y.selectionStart=C,y.selectionEnd=Math.min(I,y.value.length);else{var F=y.ownerDocument||document,z=F&&F.defaultView||window;if(z.getSelection){var U=z.getSelection(),ue=y.textContent.length,je=Math.min(N.start,ue),it=N.end===void 0?je:Math.min(N.end,ue);!U.extend&&je>it&&(m=it,it=je,je=m);var O=Fd(y,je),T=Fd(y,it);if(O&&T&&(U.rangeCount!==1||U.anchorNode!==O.node||U.anchorOffset!==O.offset||U.focusNode!==T.node||U.focusOffset!==T.offset)){var R=F.createRange();R.setStart(O.node,O.offset),U.removeAllRanges(),je>it?(U.addRange(R),U.extend(T.node,T.offset)):(R.setEnd(T.node,T.offset),U.addRange(R))}}}}for(F=[],U=y;U=U.parentNode;)U.nodeType===1&&F.push({element:U,left:U.scrollLeft,top:U.scrollTop});for(typeof y.focus=="function"&&y.focus(),y=0;y<F.length;y++){var V=F[y];V.element.scrollLeft=V.left,V.element.scrollTop=V.top}}eo=!!Su,ju=Su=null}finally{Je=o,ee.p=i,q.T=a}}e.current=t,Ht=2}}function u0(){if(Ht===2){Ht=0;var e=Qn,t=vi,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=q.T,q.T=null;var i=ee.p;ee.p=2;var o=Je;Je|=4;try{Lh(e,t.alternate,t)}finally{Je=o,ee.p=i,q.T=a}}Ht=3}}function d0(){if(Ht===4||Ht===3){Ht=0,Ii();var e=Qn,t=vi,a=_n,i=Jh;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Ht=5:(Ht=0,vi=Qn=null,f0(e,e.pendingLanes));var o=e.pendingLanes;if(o===0&&(Yn=null),Ps(a),t=t.stateNode,Re&&typeof Re.onCommitFiberRoot=="function")try{Re.onCommitFiberRoot(cs,t,void 0,(t.current.flags&128)===128)}catch{}if(i!==null){t=q.T,o=ee.p,ee.p=2,q.T=null;try{for(var u=e.onRecoverableError,m=0;m<i.length;m++){var y=i[m];u(y.value,{componentStack:y.stack})}}finally{q.T=t,ee.p=o}}(_n&3)!==0&&Hl(),nn(e),o=e.pendingLanes,(a&261930)!==0&&(o&42)!==0?e===uu?Nr++:(Nr=0,uu=e):Nr=0,Er(0)}}function f0(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,rr(t)))}function Hl(){return c0(),u0(),d0(),h0()}function h0(){if(Ht!==5)return!1;var e=Qn,t=ou;ou=0;var a=Ps(_n),i=q.T,o=ee.p;try{ee.p=32>a?32:a,q.T=null,a=cu,cu=null;var u=Qn,m=_n;if(Ht=0,vi=Qn=null,_n=0,(Je&6)!==0)throw Error(l(331));var y=Je;if(Je|=4,Yh(u.current),Ph(u,u.current,m,a),Je=y,Er(0,!1),Re&&typeof Re.onPostCommitFiberRoot=="function")try{Re.onPostCommitFiberRoot(cs,u)}catch{}return!0}finally{ee.p=o,q.T=i,f0(e,t)}}function m0(e,t,a){t=ka(a,t),t=Hc(e.stateNode,t,2),e=Hn(e,t,2),e!==null&&(Kt(e,2),nn(e))}function tt(e,t,a){if(e.tag===3)m0(e,e,a);else for(;t!==null;){if(t.tag===3){m0(t,e,a);break}else if(t.tag===1){var i=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof i.componentDidCatch=="function"&&(Yn===null||!Yn.has(i))){e=ka(a,e),a=ph(2),i=Hn(t,a,2),i!==null&&(gh(a,i,t,e),Kt(i,2),nn(i));break}}t=t.return}}function hu(e,t,a){var i=e.pingCache;if(i===null){i=e.pingCache=new Sg;var o=new Set;i.set(t,o)}else o=i.get(t),o===void 0&&(o=new Set,i.set(t,o));o.has(a)||(iu=!0,o.add(a),e=kg.bind(null,e,t,a),t.then(e,e))}function kg(e,t,a){var i=e.pingCache;i!==null&&i.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,lt===e&&(Ge&a)===a&&(kt===4||kt===3&&(Ge&62914560)===Ge&&300>zt()-Ul?(Je&2)===0&&yi(e,0):ru|=a,bi===Ge&&(bi=0)),nn(e)}function p0(e,t){t===0&&(t=xt()),e=ps(e,t),e!==null&&(Kt(e,t),nn(e))}function Ag(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),p0(e,a)}function Og(e,t){var a=0;switch(e.tag){case 31:case 13:var i=e.stateNode,o=e.memoizedState;o!==null&&(a=o.retryLane);break;case 19:i=e.stateNode;break;case 22:i=e.stateNode._retryCache;break;default:throw Error(l(314))}i!==null&&i.delete(t),p0(e,a)}function Rg(e,t){return Ya(e,t)}var Gl=null,wi=null,mu=!1,Vl=!1,pu=!1,Jn=0;function nn(e){e!==wi&&e.next===null&&(wi===null?Gl=wi=e:wi=wi.next=e),Vl=!0,mu||(mu=!0,zg())}function Er(e,t){if(!pu&&Vl){pu=!0;do for(var a=!1,i=Gl;i!==null;){if(e!==0){var o=i.pendingLanes;if(o===0)var u=0;else{var m=i.suspendedLanes,y=i.pingedLanes;u=(1<<31-rt(42|e)+1)-1,u&=o&~(m&~y),u=u&201326741?u&201326741|1:u?u|2:0}u!==0&&(a=!0,y0(i,u))}else u=Ge,u=la(i,i===lt?u:0,i.cancelPendingCommit!==null||i.timeoutHandle!==-1),(u&3)===0||Xa(i,u)||(a=!0,y0(i,u));i=i.next}while(a);pu=!1}}function Cg(){g0()}function g0(){Vl=mu=!1;var e=0;Jn!==0&&Gg()&&(e=Jn);for(var t=zt(),a=null,i=Gl;i!==null;){var o=i.next,u=b0(i,t);u===0?(i.next=null,a===null?Gl=o:a.next=o,o===null&&(wi=a)):(a=i,(e!==0||(u&3)!==0)&&(Vl=!0)),i=o}Ht!==0&&Ht!==5||Er(e),Jn!==0&&(Jn=0)}function b0(e,t){for(var a=e.suspendedLanes,i=e.pingedLanes,o=e.expirationTimes,u=e.pendingLanes&-62914561;0<u;){var m=31-rt(u),y=1<<m,N=o[m];N===-1?((y&a)===0||(y&i)!==0)&&(o[m]=Ad(y,t)):N<=t&&(e.expiredLanes|=y),u&=~y}if(t=lt,a=Ge,a=la(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i=e.callbackNode,a===0||e===t&&(et===2||et===9)||e.cancelPendingCommit!==null)return i!==null&&i!==null&&Le(i),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Xa(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(i!==null&&Le(i),Ps(a)){case 2:case 8:a=ne;break;case 32:a=Xe;break;case 268435456:a=Ea;break;default:a=Xe}return i=v0.bind(null,e),a=Ya(a,i),e.callbackPriority=t,e.callbackNode=a,t}return i!==null&&i!==null&&Le(i),e.callbackPriority=2,e.callbackNode=null,2}function v0(e,t){if(Ht!==0&&Ht!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(Hl()&&e.callbackNode!==a)return null;var i=Ge;return i=la(e,e===lt?i:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),i===0?null:(Wh(e,i,t),b0(e,zt()),e.callbackNode!=null&&e.callbackNode===a?v0.bind(null,e):null)}function y0(e,t){if(Hl())return null;Wh(e,t,!0)}function zg(){Pg(function(){(Je&6)!==0?Ya($i,Cg):g0()})}function gu(){if(Jn===0){var e=ri;e===0&&(e=$s,$s<<=1,($s&261888)===0&&($s=256)),Jn=e}return Jn}function x0(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:$(""+e)}function w0(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function Mg(e,t,a,i,o){if(t==="submit"&&a&&a.stateNode===o){var u=x0((o[We]||null).action),m=i.submitter;m&&(t=(t=m[We]||null)?x0(t.formAction):m.getAttribute("formAction"),t!==null&&(u=t,m=null));var y=new Za("action","action",null,i,o);e.push({event:y,listeners:[{instance:null,listener:function(){if(i.defaultPrevented){if(Jn!==0){var N=m?w0(o,m):new FormData(o);Uc(a,{pending:!0,data:N,method:o.method,action:u},null,N)}}else typeof u=="function"&&(y.preventDefault(),N=m?w0(o,m):new FormData(o),Uc(a,{pending:!0,data:N,method:o.method,action:u},u,N))},currentTarget:o}]})}}for(var bu=0;bu<Wo.length;bu++){var vu=Wo[bu],Dg=vu.toLowerCase(),Ug=vu[0].toUpperCase()+vu.slice(1);Ia(Dg,"on"+Ug)}Ia(Jd,"onAnimationEnd"),Ia(Zd,"onAnimationIteration"),Ia(Wd,"onAnimationStart"),Ia("dblclick","onDoubleClick"),Ia("focusin","onFocus"),Ia("focusout","onBlur"),Ia(Zp,"onTransitionRun"),Ia(Wp,"onTransitionStart"),Ia(eg,"onTransitionCancel"),Ia(ef,"onTransitionEnd"),zn("onMouseEnter",["mouseout","mouseover"]),zn("onMouseLeave",["mouseout","mouseover"]),zn("onPointerEnter",["pointerout","pointerover"]),zn("onPointerLeave",["pointerout","pointerover"]),on("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),on("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),on("onBeforeInput",["compositionend","keypress","textInput","paste"]),on("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),on("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),on("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Tr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Bg=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Tr));function _0(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var i=e[a],o=i.event;i=i.listeners;e:{var u=void 0;if(t)for(var m=i.length-1;0<=m;m--){var y=i[m],N=y.instance,C=y.currentTarget;if(y=y.listener,N!==u&&o.isPropagationStopped())break e;u=y,o.currentTarget=C;try{u(o)}catch(I){il(I)}o.currentTarget=null,u=N}else for(m=0;m<i.length;m++){if(y=i[m],N=y.instance,C=y.currentTarget,y=y.listener,N!==u&&o.isPropagationStopped())break e;u=y,o.currentTarget=C;try{u(o)}catch(I){il(I)}o.currentTarget=null,u=N}}}}function Ie(e,t){var a=t[Vi];a===void 0&&(a=t[Vi]=new Set);var i=e+"__bubble";a.has(i)||(S0(t,e,2,!1),a.add(i))}function yu(e,t,a){var i=0;t&&(i|=4),S0(a,e,i,t)}var Pl="_reactListening"+Math.random().toString(36).slice(2);function xu(e){if(!e[Pl]){e[Pl]=!0,Fi.forEach(function(a){a!=="selectionchange"&&(Bg.has(a)||yu(a,!1,e),yu(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Pl]||(t[Pl]=!0,yu("selectionchange",!1,t))}}function S0(e,t,a,i){switch(Z0(t)){case 2:var o=db;break;case 8:o=fb;break;default:o=Du}a=o.bind(null,t,a,e),o=void 0,!at||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(o=!0),i?o!==void 0?e.addEventListener(t,a,{capture:!0,passive:o}):e.addEventListener(t,a,!0):o!==void 0?e.addEventListener(t,a,{passive:o}):e.addEventListener(t,a,!1)}function wu(e,t,a,i,o){var u=i;if((t&1)===0&&(t&2)===0&&i!==null)e:for(;;){if(i===null)return;var m=i.tag;if(m===3||m===4){var y=i.stateNode.containerInfo;if(y===o)break;if(m===4)for(m=i.return;m!==null;){var N=m.tag;if((N===3||N===4)&&m.stateNode.containerInfo===o)return;m=m.return}for(;y!==null;){if(m=Ba(y),m===null)return;if(N=m.tag,N===5||N===6||N===26||N===27){i=u=m;continue e}y=y.parentNode}}i=i.return}_t(function(){var C=u,I=pe(a),F=[];e:{var z=tf.get(e);if(z!==void 0){var U=Za,ue=e;switch(e){case"keypress":if(Et(a)===0)break e;case"keydown":case"keyup":U=Op;break;case"focusin":ue="focus",U=Vo;break;case"focusout":ue="blur",U=Vo;break;case"beforeblur":case"afterblur":U=Vo;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":U=Od;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":U=vp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":U=zp;break;case Jd:case Zd:case Wd:U=wp;break;case ef:U=Dp;break;case"scroll":case"scrollend":U=gp;break;case"wheel":U=Bp;break;case"copy":case"cut":case"paste":U=Sp;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":U=Cd;break;case"toggle":case"beforetoggle":U=qp}var je=(t&4)!==0,it=!je&&(e==="scroll"||e==="scrollend"),O=je?z!==null?z+"Capture":null:z;je=[];for(var T=C,R;T!==null;){var V=T;if(R=V.stateNode,V=V.tag,V!==5&&V!==26&&V!==27||R===null||O===null||(V=ye(T,O),V!=null&&je.push(kr(T,V,R))),it)break;T=T.return}0<je.length&&(z=new U(z,ue,null,a,I),F.push({event:z,listeners:je}))}}if((t&7)===0){e:{if(z=e==="mouseover"||e==="pointerover",U=e==="mouseout"||e==="pointerout",z&&a!==ce&&(ue=a.relatedTarget||a.fromElement)&&(Ba(ue)||ue[Ae]))break e;if((U||z)&&(z=I.window===I?I:(z=I.ownerDocument)?z.defaultView||z.parentWindow:window,U?(ue=a.relatedTarget||a.toElement,U=C,ue=ue?Ba(ue):null,ue!==null&&(it=f(ue),je=ue.tag,ue!==it||je!==5&&je!==27&&je!==6)&&(ue=null)):(U=null,ue=C),U!==ue)){if(je=Od,V="onMouseLeave",O="onMouseEnter",T="mouse",(e==="pointerout"||e==="pointerover")&&(je=Cd,V="onPointerLeave",O="onPointerEnter",T="pointer"),it=U==null?z:Cn(U),R=ue==null?z:Cn(ue),z=new je(V,T+"leave",U,a,I),z.target=it,z.relatedTarget=R,V=null,Ba(I)===C&&(je=new je(O,T+"enter",ue,a,I),je.target=R,je.relatedTarget=it,V=je),it=V,U&&ue)t:{for(je=Lg,O=U,T=ue,R=0,V=O;V;V=je(V))R++;V=0;for(var _e=T;_e;_e=je(_e))V++;for(;0<R-V;)O=je(O),R--;for(;0<V-R;)T=je(T),V--;for(;R--;){if(O===T||T!==null&&O===T.alternate){je=O;break t}O=je(O),T=je(T)}je=null}else je=null;U!==null&&j0(F,z,U,je,!1),ue!==null&&it!==null&&j0(F,it,ue,je,!0)}}e:{if(z=C?Cn(C):window,U=z.nodeName&&z.nodeName.toLowerCase(),U==="select"||U==="input"&&z.type==="file")var Ye=Id;else if(Ld(z))if($d)Ye=Qp;else{Ye=Kp;var he=Fp}else U=z.nodeName,!U||U.toLowerCase()!=="input"||z.type!=="checkbox"&&z.type!=="radio"?C&&v(C.elementType)&&(Ye=Id):Ye=Yp;if(Ye&&(Ye=Ye(e,C))){qd(F,Ye,a,I);break e}he&&he(e,z,C),e==="focusout"&&C&&z.type==="number"&&C.memoizedProps.value!=null&&Yi(z,"number",z.value)}switch(he=C?Cn(C):window,e){case"focusin":(Ld(he)||he.contentEditable==="true")&&(Zs=he,Xo=C,nr=null);break;case"focusout":nr=Xo=Zs=null;break;case"mousedown":Jo=!0;break;case"contextmenu":case"mouseup":case"dragend":Jo=!1,Qd(F,a,I);break;case"selectionchange":if(Jp)break;case"keydown":case"keyup":Qd(F,a,I)}var Ue;if(Fo)e:{switch(e){case"compositionstart":var Ve="onCompositionStart";break e;case"compositionend":Ve="onCompositionEnd";break e;case"compositionupdate":Ve="onCompositionUpdate";break e}Ve=void 0}else Js?Ud(e,a)&&(Ve="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(Ve="onCompositionStart");Ve&&(zd&&a.locale!=="ko"&&(Js||Ve!=="onCompositionStart"?Ve==="onCompositionEnd"&&Js&&(Ue=pt()):(ie=I,me="value"in ie?ie.value:ie.textContent,Js=!0)),he=Fl(C,Ve),0<he.length&&(Ve=new Rd(Ve,e,null,a,I),F.push({event:Ve,listeners:he}),Ue?Ve.data=Ue:(Ue=Bd(a),Ue!==null&&(Ve.data=Ue)))),(Ue=$p?Hp(e,a):Gp(e,a))&&(Ve=Fl(C,"onBeforeInput"),0<Ve.length&&(he=new Rd("onBeforeInput","beforeinput",null,a,I),F.push({event:he,listeners:Ve}),he.data=Ue)),Mg(F,e,C,a,I)}_0(F,t)})}function kr(e,t,a){return{instance:e,listener:t,currentTarget:a}}function Fl(e,t){for(var a=t+"Capture",i=[];e!==null;){var o=e,u=o.stateNode;if(o=o.tag,o!==5&&o!==26&&o!==27||u===null||(o=ye(e,a),o!=null&&i.unshift(kr(e,o,u)),o=ye(e,t),o!=null&&i.push(kr(e,o,u))),e.tag===3)return i;e=e.return}return[]}function Lg(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function j0(e,t,a,i,o){for(var u=t._reactName,m=[];a!==null&&a!==i;){var y=a,N=y.alternate,C=y.stateNode;if(y=y.tag,N!==null&&N===i)break;y!==5&&y!==26&&y!==27||C===null||(N=C,o?(C=ye(a,u),C!=null&&m.unshift(kr(a,C,N))):o||(C=ye(a,u),C!=null&&m.push(kr(a,C,N)))),a=a.return}m.length!==0&&e.push({event:t,listeners:m})}var qg=/\r\n?/g,Ig=/\u0000|\uFFFD/g;function N0(e){return(typeof e=="string"?e:""+e).replace(qg,`
`).replace(Ig,"")}function E0(e,t){return t=N0(t),N0(e)===t}function st(e,t,a,i,o,u){switch(a){case"children":typeof i=="string"?t==="body"||t==="textarea"&&i===""||Ja(e,i):(typeof i=="number"||typeof i=="bigint")&&t!=="body"&&Ja(e,""+i);break;case"className":La(e,"class",i);break;case"tabIndex":La(e,"tabindex",i);break;case"dir":case"role":case"viewBox":case"width":case"height":La(e,a,i);break;case"style":Ji(e,i,u);break;case"data":if(t!=="object"){La(e,"data",i);break}case"src":case"href":if(i===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(i==null||typeof i=="function"||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(a);break}i=$(""+i),e.setAttribute(a,i);break;case"action":case"formAction":if(typeof i=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof u=="function"&&(a==="formAction"?(t!=="input"&&st(e,t,"name",o.name,o,null),st(e,t,"formEncType",o.formEncType,o,null),st(e,t,"formMethod",o.formMethod,o,null),st(e,t,"formTarget",o.formTarget,o,null)):(st(e,t,"encType",o.encType,o,null),st(e,t,"method",o.method,o,null),st(e,t,"target",o.target,o,null)));if(i==null||typeof i=="symbol"||typeof i=="boolean"){e.removeAttribute(a);break}i=$(""+i),e.setAttribute(a,i);break;case"onClick":i!=null&&(e.onclick=Q);break;case"onScroll":i!=null&&Ie("scroll",e);break;case"onScrollEnd":i!=null&&Ie("scrollend",e);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(l(61));if(a=i.__html,a!=null){if(o.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"multiple":e.multiple=i&&typeof i!="function"&&typeof i!="symbol";break;case"muted":e.muted=i&&typeof i!="function"&&typeof i!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(i==null||typeof i=="function"||typeof i=="boolean"||typeof i=="symbol"){e.removeAttribute("xlink:href");break}a=$(""+i),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(a,""+i):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":i&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":i===!0?e.setAttribute(a,""):i!==!1&&i!=null&&typeof i!="function"&&typeof i!="symbol"?e.setAttribute(a,i):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":i!=null&&typeof i!="function"&&typeof i!="symbol"&&!isNaN(i)&&1<=i?e.setAttribute(a,i):e.removeAttribute(a);break;case"rowSpan":case"start":i==null||typeof i=="function"||typeof i=="symbol"||isNaN(i)?e.removeAttribute(a):e.setAttribute(a,i);break;case"popover":Ie("beforetoggle",e),Ie("toggle",e),Mn(e,"popover",i);break;case"xlinkActuate":qa(e,"http://www.w3.org/1999/xlink","xlink:actuate",i);break;case"xlinkArcrole":qa(e,"http://www.w3.org/1999/xlink","xlink:arcrole",i);break;case"xlinkRole":qa(e,"http://www.w3.org/1999/xlink","xlink:role",i);break;case"xlinkShow":qa(e,"http://www.w3.org/1999/xlink","xlink:show",i);break;case"xlinkTitle":qa(e,"http://www.w3.org/1999/xlink","xlink:title",i);break;case"xlinkType":qa(e,"http://www.w3.org/1999/xlink","xlink:type",i);break;case"xmlBase":qa(e,"http://www.w3.org/XML/1998/namespace","xml:base",i);break;case"xmlLang":qa(e,"http://www.w3.org/XML/1998/namespace","xml:lang",i);break;case"xmlSpace":qa(e,"http://www.w3.org/XML/1998/namespace","xml:space",i);break;case"is":Mn(e,"is",i);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=_.get(a)||a,Mn(e,a,i))}}function _u(e,t,a,i,o,u){switch(a){case"style":Ji(e,i,u);break;case"dangerouslySetInnerHTML":if(i!=null){if(typeof i!="object"||!("__html"in i))throw Error(l(61));if(a=i.__html,a!=null){if(o.children!=null)throw Error(l(60));e.innerHTML=a}}break;case"children":typeof i=="string"?Ja(e,i):(typeof i=="number"||typeof i=="bigint")&&Ja(e,""+i);break;case"onScroll":i!=null&&Ie("scroll",e);break;case"onScrollEnd":i!=null&&Ie("scrollend",e);break;case"onClick":i!=null&&(e.onclick=Q);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!$t.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(o=a.endsWith("Capture"),t=a.slice(2,o?a.length-7:void 0),u=e[We]||null,u=u!=null?u[a]:null,typeof u=="function"&&e.removeEventListener(t,u,o),typeof i=="function")){typeof u!="function"&&u!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,i,o);break e}a in e?e[a]=i:i===!0?e.setAttribute(a,""):Mn(e,a,i)}}}function Zt(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ie("error",e),Ie("load",e);var i=!1,o=!1,u;for(u in a)if(a.hasOwnProperty(u)){var m=a[u];if(m!=null)switch(u){case"src":i=!0;break;case"srcSet":o=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:st(e,t,u,m,a,null)}}o&&st(e,t,"srcSet",a.srcSet,a,null),i&&st(e,t,"src",a.src,a,null);return;case"input":Ie("invalid",e);var y=u=m=o=null,N=null,C=null;for(i in a)if(a.hasOwnProperty(i)){var I=a[i];if(I!=null)switch(i){case"name":o=I;break;case"type":m=I;break;case"checked":N=I;break;case"defaultChecked":C=I;break;case"value":u=I;break;case"defaultValue":y=I;break;case"children":case"dangerouslySetInnerHTML":if(I!=null)throw Error(l(137,t));break;default:st(e,t,i,I,a,null)}}al(e,u,y,N,C,m,o,!1);return;case"select":Ie("invalid",e),i=m=u=null;for(o in a)if(a.hasOwnProperty(o)&&(y=a[o],y!=null))switch(o){case"value":u=y;break;case"defaultValue":m=y;break;case"multiple":i=y;default:st(e,t,o,y,a,null)}t=u,a=m,e.multiple=!!i,t!=null?Dn(e,!!i,t,!1):a!=null&&Dn(e,!!i,a,!0);return;case"textarea":Ie("invalid",e),u=o=i=null;for(m in a)if(a.hasOwnProperty(m)&&(y=a[m],y!=null))switch(m){case"value":i=y;break;case"defaultValue":o=y;break;case"children":u=y;break;case"dangerouslySetInnerHTML":if(y!=null)throw Error(l(91));break;default:st(e,t,m,y,a,null)}Qs(e,i,o,u);return;case"option":for(N in a)if(a.hasOwnProperty(N)&&(i=a[N],i!=null))switch(N){case"selected":e.selected=i&&typeof i!="function"&&typeof i!="symbol";break;default:st(e,t,N,i,a,null)}return;case"dialog":Ie("beforetoggle",e),Ie("toggle",e),Ie("cancel",e),Ie("close",e);break;case"iframe":case"object":Ie("load",e);break;case"video":case"audio":for(i=0;i<Tr.length;i++)Ie(Tr[i],e);break;case"image":Ie("error",e),Ie("load",e);break;case"details":Ie("toggle",e);break;case"embed":case"source":case"link":Ie("error",e),Ie("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(C in a)if(a.hasOwnProperty(C)&&(i=a[C],i!=null))switch(C){case"children":case"dangerouslySetInnerHTML":throw Error(l(137,t));default:st(e,t,C,i,a,null)}return;default:if(v(t)){for(I in a)a.hasOwnProperty(I)&&(i=a[I],i!==void 0&&_u(e,t,I,i,a,void 0));return}}for(y in a)a.hasOwnProperty(y)&&(i=a[y],i!=null&&st(e,t,y,i,a,null))}function $g(e,t,a,i){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var o=null,u=null,m=null,y=null,N=null,C=null,I=null;for(U in a){var F=a[U];if(a.hasOwnProperty(U)&&F!=null)switch(U){case"checked":break;case"value":break;case"defaultValue":N=F;default:i.hasOwnProperty(U)||st(e,t,U,null,i,F)}}for(var z in i){var U=i[z];if(F=a[z],i.hasOwnProperty(z)&&(U!=null||F!=null))switch(z){case"type":u=U;break;case"name":o=U;break;case"checked":C=U;break;case"defaultChecked":I=U;break;case"value":m=U;break;case"defaultValue":y=U;break;case"children":case"dangerouslySetInnerHTML":if(U!=null)throw Error(l(137,t));break;default:U!==F&&st(e,t,z,U,i,F)}}Ys(e,m,y,N,C,I,u,o);return;case"select":U=m=y=z=null;for(u in a)if(N=a[u],a.hasOwnProperty(u)&&N!=null)switch(u){case"value":break;case"multiple":U=N;default:i.hasOwnProperty(u)||st(e,t,u,null,i,N)}for(o in i)if(u=i[o],N=a[o],i.hasOwnProperty(o)&&(u!=null||N!=null))switch(o){case"value":z=u;break;case"defaultValue":y=u;break;case"multiple":m=u;default:u!==N&&st(e,t,o,u,i,N)}t=y,a=m,i=U,z!=null?Dn(e,!!a,z,!1):!!i!=!!a&&(t!=null?Dn(e,!!a,t,!0):Dn(e,!!a,a?[]:"",!1));return;case"textarea":U=z=null;for(y in a)if(o=a[y],a.hasOwnProperty(y)&&o!=null&&!i.hasOwnProperty(y))switch(y){case"value":break;case"children":break;default:st(e,t,y,null,i,o)}for(m in i)if(o=i[m],u=a[m],i.hasOwnProperty(m)&&(o!=null||u!=null))switch(m){case"value":z=o;break;case"defaultValue":U=o;break;case"children":break;case"dangerouslySetInnerHTML":if(o!=null)throw Error(l(91));break;default:o!==u&&st(e,t,m,o,i,u)}Qi(e,z,U);return;case"option":for(var ue in a)if(z=a[ue],a.hasOwnProperty(ue)&&z!=null&&!i.hasOwnProperty(ue))switch(ue){case"selected":e.selected=!1;break;default:st(e,t,ue,null,i,z)}for(N in i)if(z=i[N],U=a[N],i.hasOwnProperty(N)&&z!==U&&(z!=null||U!=null))switch(N){case"selected":e.selected=z&&typeof z!="function"&&typeof z!="symbol";break;default:st(e,t,N,z,i,U)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var je in a)z=a[je],a.hasOwnProperty(je)&&z!=null&&!i.hasOwnProperty(je)&&st(e,t,je,null,i,z);for(C in i)if(z=i[C],U=a[C],i.hasOwnProperty(C)&&z!==U&&(z!=null||U!=null))switch(C){case"children":case"dangerouslySetInnerHTML":if(z!=null)throw Error(l(137,t));break;default:st(e,t,C,z,i,U)}return;default:if(v(t)){for(var it in a)z=a[it],a.hasOwnProperty(it)&&z!==void 0&&!i.hasOwnProperty(it)&&_u(e,t,it,void 0,i,z);for(I in i)z=i[I],U=a[I],!i.hasOwnProperty(I)||z===U||z===void 0&&U===void 0||_u(e,t,I,z,i,U);return}}for(var O in a)z=a[O],a.hasOwnProperty(O)&&z!=null&&!i.hasOwnProperty(O)&&st(e,t,O,null,i,z);for(F in i)z=i[F],U=a[F],!i.hasOwnProperty(F)||z===U||z==null&&U==null||st(e,t,F,z,i,U)}function T0(e){switch(e){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Hg(){if(typeof performance.getEntriesByType=="function"){for(var e=0,t=0,a=performance.getEntriesByType("resource"),i=0;i<a.length;i++){var o=a[i],u=o.transferSize,m=o.initiatorType,y=o.duration;if(u&&y&&T0(m)){for(m=0,y=o.responseEnd,i+=1;i<a.length;i++){var N=a[i],C=N.startTime;if(C>y)break;var I=N.transferSize,F=N.initiatorType;I&&T0(F)&&(N=N.responseEnd,m+=I*(N<y?1:(y-C)/(N-C)))}if(--i,t+=8*(u+m)/(o.duration/1e3),e++,10<e)break}}if(0<e)return t/e/1e6}return navigator.connection&&(e=navigator.connection.downlink,typeof e=="number")?e:5}var Su=null,ju=null;function Kl(e){return e.nodeType===9?e:e.ownerDocument}function k0(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function A0(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function Nu(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Eu=null;function Gg(){var e=window.event;return e&&e.type==="popstate"?e===Eu?!1:(Eu=e,!0):(Eu=null,!1)}var O0=typeof setTimeout=="function"?setTimeout:void 0,Vg=typeof clearTimeout=="function"?clearTimeout:void 0,R0=typeof Promise=="function"?Promise:void 0,Pg=typeof queueMicrotask=="function"?queueMicrotask:typeof R0<"u"?function(e){return R0.resolve(null).then(e).catch(Fg)}:O0;function Fg(e){setTimeout(function(){throw e})}function Zn(e){return e==="head"}function C0(e,t){var a=t,i=0;do{var o=a.nextSibling;if(e.removeChild(a),o&&o.nodeType===8)if(a=o.data,a==="/$"||a==="/&"){if(i===0){e.removeChild(o),Ni(t);return}i--}else if(a==="$"||a==="$?"||a==="$~"||a==="$!"||a==="&")i++;else if(a==="html")Ar(e.ownerDocument.documentElement);else if(a==="head"){a=e.ownerDocument.head,Ar(a);for(var u=a.firstChild;u;){var m=u.nextSibling,y=u.nodeName;u[fs]||y==="SCRIPT"||y==="STYLE"||y==="LINK"&&u.rel.toLowerCase()==="stylesheet"||a.removeChild(u),u=m}}else a==="body"&&Ar(e.ownerDocument.body);a=o}while(a);Ni(t)}function z0(e,t){var a=e;e=0;do{var i=a.nextSibling;if(a.nodeType===1?t?(a._stashedDisplay=a.style.display,a.style.display="none"):(a.style.display=a._stashedDisplay||"",a.getAttribute("style")===""&&a.removeAttribute("style")):a.nodeType===3&&(t?(a._stashedText=a.nodeValue,a.nodeValue=""):a.nodeValue=a._stashedText||""),i&&i.nodeType===8)if(a=i.data,a==="/$"){if(e===0)break;e--}else a!=="$"&&a!=="$?"&&a!=="$~"&&a!=="$!"||e++;a=i}while(a)}function Tu(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":Tu(a),On(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Kg(e,t,a,i){for(;e.nodeType===1;){var o=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!i&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(i){if(!e[fs])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(u=e.getAttribute("rel"),u==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(u!==o.rel||e.getAttribute("href")!==(o.href==null||o.href===""?null:o.href)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin)||e.getAttribute("title")!==(o.title==null?null:o.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(u=e.getAttribute("src"),(u!==(o.src==null?null:o.src)||e.getAttribute("type")!==(o.type==null?null:o.type)||e.getAttribute("crossorigin")!==(o.crossOrigin==null?null:o.crossOrigin))&&u&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var u=o.name==null?null:""+o.name;if(o.type==="hidden"&&e.getAttribute("name")===u)return e}else return e;if(e=za(e.nextSibling),e===null)break}return null}function Yg(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=za(e.nextSibling),e===null))return null;return e}function M0(e,t){for(;e.nodeType!==8;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!t||(e=za(e.nextSibling),e===null))return null;return e}function ku(e){return e.data==="$?"||e.data==="$~"}function Au(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState!=="loading"}function Qg(e,t){var a=e.ownerDocument;if(e.data==="$~")e._reactRetry=t;else if(e.data!=="$?"||a.readyState!=="loading")t();else{var i=function(){t(),a.removeEventListener("DOMContentLoaded",i)};a.addEventListener("DOMContentLoaded",i),e._reactRetry=i}}function za(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="$~"||t==="&"||t==="F!"||t==="F")break;if(t==="/$"||t==="/&")return null}}return e}var Ou=null;function D0(e){e=e.nextSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="/$"||a==="/&"){if(t===0)return za(e.nextSibling);t--}else a!=="$"&&a!=="$!"&&a!=="$?"&&a!=="$~"&&a!=="&"||t++}e=e.nextSibling}return null}function U0(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"||a==="$~"||a==="&"){if(t===0)return e;t--}else a!=="/$"&&a!=="/&"||t++}e=e.previousSibling}return null}function B0(e,t,a){switch(t=Kl(a),e){case"html":if(e=t.documentElement,!e)throw Error(l(452));return e;case"head":if(e=t.head,!e)throw Error(l(453));return e;case"body":if(e=t.body,!e)throw Error(l(454));return e;default:throw Error(l(451))}}function Ar(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);On(e)}var Ma=new Map,L0=new Set;function Yl(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var Sn=ee.d;ee.d={f:Xg,r:Jg,D:Zg,C:Wg,L:eb,m:tb,X:nb,S:ab,M:sb};function Xg(){var e=Sn.f(),t=ql();return e||t}function Jg(e){var t=Rn(e);t!==null&&t.tag===5&&t.type==="form"?th(t):Sn.r(e)}var _i=typeof document>"u"?null:document;function q0(e,t,a){var i=_i;if(i&&typeof t=="string"&&t){var o=ca(t);o='link[rel="'+e+'"][href="'+o+'"]',typeof a=="string"&&(o+='[crossorigin="'+a+'"]'),L0.has(o)||(L0.add(o),e={rel:e,crossOrigin:a,href:t},i.querySelector(o)===null&&(t=i.createElement("link"),Zt(t,"link",e),wt(t),i.head.appendChild(t)))}}function Zg(e){Sn.D(e),q0("dns-prefetch",e,null)}function Wg(e,t){Sn.C(e,t),q0("preconnect",e,t)}function eb(e,t,a){Sn.L(e,t,a);var i=_i;if(i&&e&&t){var o='link[rel="preload"][as="'+ca(t)+'"]';t==="image"&&a&&a.imageSrcSet?(o+='[imagesrcset="'+ca(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(o+='[imagesizes="'+ca(a.imageSizes)+'"]')):o+='[href="'+ca(e)+'"]';var u=o;switch(t){case"style":u=Si(e);break;case"script":u=ji(e)}Ma.has(u)||(e=S({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),Ma.set(u,e),i.querySelector(o)!==null||t==="style"&&i.querySelector(Or(u))||t==="script"&&i.querySelector(Rr(u))||(t=i.createElement("link"),Zt(t,"link",e),wt(t),i.head.appendChild(t)))}}function tb(e,t){Sn.m(e,t);var a=_i;if(a&&e){var i=t&&typeof t.as=="string"?t.as:"script",o='link[rel="modulepreload"][as="'+ca(i)+'"][href="'+ca(e)+'"]',u=o;switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":u=ji(e)}if(!Ma.has(u)&&(e=S({rel:"modulepreload",href:e},t),Ma.set(u,e),a.querySelector(o)===null)){switch(i){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Rr(u)))return}i=a.createElement("link"),Zt(i,"link",e),wt(i),a.head.appendChild(i)}}}function ab(e,t,a){Sn.S(e,t,a);var i=_i;if(i&&e){var o=Yt(i).hoistableStyles,u=Si(e);t=t||"default";var m=o.get(u);if(!m){var y={loading:0,preload:null};if(m=i.querySelector(Or(u)))y.loading=5;else{e=S({rel:"stylesheet",href:e,"data-precedence":t},a),(a=Ma.get(u))&&Ru(e,a);var N=m=i.createElement("link");wt(N),Zt(N,"link",e),N._p=new Promise(function(C,I){N.onload=C,N.onerror=I}),N.addEventListener("load",function(){y.loading|=1}),N.addEventListener("error",function(){y.loading|=2}),y.loading|=4,Ql(m,t,i)}m={type:"stylesheet",instance:m,count:1,state:y},o.set(u,m)}}}function nb(e,t){Sn.X(e,t);var a=_i;if(a&&e){var i=Yt(a).hoistableScripts,o=ji(e),u=i.get(o);u||(u=a.querySelector(Rr(o)),u||(e=S({src:e,async:!0},t),(t=Ma.get(o))&&Cu(e,t),u=a.createElement("script"),wt(u),Zt(u,"link",e),a.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},i.set(o,u))}}function sb(e,t){Sn.M(e,t);var a=_i;if(a&&e){var i=Yt(a).hoistableScripts,o=ji(e),u=i.get(o);u||(u=a.querySelector(Rr(o)),u||(e=S({src:e,async:!0,type:"module"},t),(t=Ma.get(o))&&Cu(e,t),u=a.createElement("script"),wt(u),Zt(u,"link",e),a.head.appendChild(u)),u={type:"script",instance:u,count:1,state:null},i.set(o,u))}}function I0(e,t,a,i){var o=(o=Ne.current)?Yl(o):null;if(!o)throw Error(l(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=Si(a.href),a=Yt(o).hoistableStyles,i=a.get(t),i||(i={type:"style",instance:null,count:0,state:null},a.set(t,i)),i):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=Si(a.href);var u=Yt(o).hoistableStyles,m=u.get(e);if(m||(o=o.ownerDocument||o,m={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},u.set(e,m),(u=o.querySelector(Or(e)))&&!u._p&&(m.instance=u,m.state.loading=5),Ma.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Ma.set(e,a),u||ib(o,e,a,m.state))),t&&i===null)throw Error(l(528,""));return m}if(t&&i!==null)throw Error(l(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=ji(a),a=Yt(o).hoistableScripts,i=a.get(t),i||(i={type:"script",instance:null,count:0,state:null},a.set(t,i)),i):{type:"void",instance:null,count:0,state:null};default:throw Error(l(444,e))}}function Si(e){return'href="'+ca(e)+'"'}function Or(e){return'link[rel="stylesheet"]['+e+"]"}function $0(e){return S({},e,{"data-precedence":e.precedence,precedence:null})}function ib(e,t,a,i){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?i.loading=1:(t=e.createElement("link"),i.preload=t,t.addEventListener("load",function(){return i.loading|=1}),t.addEventListener("error",function(){return i.loading|=2}),Zt(t,"link",a),wt(t),e.head.appendChild(t))}function ji(e){return'[src="'+ca(e)+'"]'}function Rr(e){return"script[async]"+e}function H0(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var i=e.querySelector('style[data-href~="'+ca(a.href)+'"]');if(i)return t.instance=i,wt(i),i;var o=S({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return i=(e.ownerDocument||e).createElement("style"),wt(i),Zt(i,"style",o),Ql(i,a.precedence,e),t.instance=i;case"stylesheet":o=Si(a.href);var u=e.querySelector(Or(o));if(u)return t.state.loading|=4,t.instance=u,wt(u),u;i=$0(a),(o=Ma.get(o))&&Ru(i,o),u=(e.ownerDocument||e).createElement("link"),wt(u);var m=u;return m._p=new Promise(function(y,N){m.onload=y,m.onerror=N}),Zt(u,"link",i),t.state.loading|=4,Ql(u,a.precedence,e),t.instance=u;case"script":return u=ji(a.src),(o=e.querySelector(Rr(u)))?(t.instance=o,wt(o),o):(i=a,(o=Ma.get(u))&&(i=S({},a),Cu(i,o)),e=e.ownerDocument||e,o=e.createElement("script"),wt(o),Zt(o,"link",i),e.head.appendChild(o),t.instance=o);case"void":return null;default:throw Error(l(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(i=t.instance,t.state.loading|=4,Ql(i,a.precedence,e));return t.instance}function Ql(e,t,a){for(var i=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),o=i.length?i[i.length-1]:null,u=o,m=0;m<i.length;m++){var y=i[m];if(y.dataset.precedence===t)u=y;else if(u!==o)break}u?u.parentNode.insertBefore(e,u.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function Ru(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function Cu(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Xl=null;function G0(e,t,a){if(Xl===null){var i=new Map,o=Xl=new Map;o.set(a,i)}else o=Xl,i=o.get(a),i||(i=new Map,o.set(a,i));if(i.has(e))return i;for(i.set(e,null),a=a.getElementsByTagName(e),o=0;o<a.length;o++){var u=a[o];if(!(u[fs]||u[Ot]||e==="link"&&u.getAttribute("rel")==="stylesheet")&&u.namespaceURI!=="http://www.w3.org/2000/svg"){var m=u.getAttribute(t)||"";m=e+m;var y=i.get(m);y?y.push(u):i.set(m,[u])}}return i}function V0(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function rb(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function P0(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}function lb(e,t,a,i){if(a.type==="stylesheet"&&(typeof i.media!="string"||matchMedia(i.media).matches!==!1)&&(a.state.loading&4)===0){if(a.instance===null){var o=Si(i.href),u=t.querySelector(Or(o));if(u){t=u._p,t!==null&&typeof t=="object"&&typeof t.then=="function"&&(e.count++,e=Jl.bind(e),t.then(e,e)),a.state.loading|=4,a.instance=u,wt(u);return}u=t.ownerDocument||t,i=$0(i),(o=Ma.get(o))&&Ru(i,o),u=u.createElement("link"),wt(u);var m=u;m._p=new Promise(function(y,N){m.onload=y,m.onerror=N}),Zt(u,"link",i),a.instance=u}e.stylesheets===null&&(e.stylesheets=new Map),e.stylesheets.set(a,t),(t=a.state.preload)&&(a.state.loading&3)===0&&(e.count++,a=Jl.bind(e),t.addEventListener("load",a),t.addEventListener("error",a))}}var zu=0;function ob(e,t){return e.stylesheets&&e.count===0&&Wl(e,e.stylesheets),0<e.count||0<e.imgCount?function(a){var i=setTimeout(function(){if(e.stylesheets&&Wl(e,e.stylesheets),e.unsuspend){var u=e.unsuspend;e.unsuspend=null,u()}},6e4+t);0<e.imgBytes&&zu===0&&(zu=62500*Hg());var o=setTimeout(function(){if(e.waitingForImages=!1,e.count===0&&(e.stylesheets&&Wl(e,e.stylesheets),e.unsuspend)){var u=e.unsuspend;e.unsuspend=null,u()}},(e.imgBytes>zu?50:800)+t);return e.unsuspend=a,function(){e.unsuspend=null,clearTimeout(i),clearTimeout(o)}}:null}function Jl(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Wl(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Zl=null;function Wl(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Zl=new Map,t.forEach(cb,e),Zl=null,Jl.call(e))}function cb(e,t){if(!(t.state.loading&4)){var a=Zl.get(e);if(a)var i=a.get(null);else{a=new Map,Zl.set(e,a);for(var o=e.querySelectorAll("link[data-precedence],style[data-precedence]"),u=0;u<o.length;u++){var m=o[u];(m.nodeName==="LINK"||m.getAttribute("media")!=="not all")&&(a.set(m.dataset.precedence,m),i=m)}i&&a.set(null,i)}o=t.instance,m=o.getAttribute("data-precedence"),u=a.get(m)||i,u===i&&a.set(null,o),a.set(m,o),this.count++,i=Jl.bind(this),o.addEventListener("load",i),o.addEventListener("error",i),u?u.parentNode.insertBefore(o,u.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(o,e.firstChild)),t.state.loading|=4}}var Cr={$$typeof:D,Provider:null,Consumer:null,_currentValue:xe,_currentValue2:xe,_threadCount:0};function ub(e,t,a,i,o,u,m,y,N){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=kn(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=kn(0),this.hiddenUpdates=kn(null),this.identifierPrefix=i,this.onUncaughtError=o,this.onCaughtError=u,this.onRecoverableError=m,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=N,this.incompleteTransitions=new Map}function F0(e,t,a,i,o,u,m,y,N,C,I,F){return e=new ub(e,t,a,m,N,C,I,F,y),t=1,u===!0&&(t|=24),u=ba(3,null,null,t),e.current=u,u.stateNode=e,t=fc(),t.refCount++,e.pooledCache=t,t.refCount++,u.memoizedState={element:i,isDehydrated:a,cache:t},gc(u),e}function K0(e){return e?(e=ti,e):ti}function Y0(e,t,a,i,o,u){o=K0(o),i.context===null?i.context=o:i.pendingContext=o,i=$n(t),i.payload={element:a},u=u===void 0?null:u,u!==null&&(i.callback=u),a=Hn(e,i,t),a!==null&&(pa(a,e,t),ur(a,e,t))}function Q0(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function Mu(e,t){Q0(e,t),(e=e.alternate)&&Q0(e,t)}function X0(e){if(e.tag===13||e.tag===31){var t=ps(e,67108864);t!==null&&pa(t,e,67108864),Mu(e,67108864)}}function J0(e){if(e.tag===13||e.tag===31){var t=_a();t=Gi(t);var a=ps(e,t);a!==null&&pa(a,e,t),Mu(e,t)}}var eo=!0;function db(e,t,a,i){var o=q.T;q.T=null;var u=ee.p;try{ee.p=2,Du(e,t,a,i)}finally{ee.p=u,q.T=o}}function fb(e,t,a,i){var o=q.T;q.T=null;var u=ee.p;try{ee.p=8,Du(e,t,a,i)}finally{ee.p=u,q.T=o}}function Du(e,t,a,i){if(eo){var o=Uu(i);if(o===null)wu(e,t,i,to,a),W0(e,i);else if(mb(o,e,t,a,i))i.stopPropagation();else if(W0(e,i),t&4&&-1<hb.indexOf(e)){for(;o!==null;){var u=Rn(o);if(u!==null)switch(u.tag){case 3:if(u=u.stateNode,u.current.memoizedState.isDehydrated){var m=Qa(u.pendingLanes);if(m!==0){var y=u;for(y.pendingLanes|=2,y.entangledLanes|=2;m;){var N=1<<31-rt(m);y.entanglements[1]|=N,m&=~N}nn(u),(Je&6)===0&&(Bl=zt()+500,Er(0))}}break;case 31:case 13:y=ps(u,2),y!==null&&pa(y,u,2),ql(),Mu(u,2)}if(u=Uu(i),u===null&&wu(e,t,i,to,a),u===o)break;o=u}o!==null&&i.stopPropagation()}else wu(e,t,i,null,a)}}function Uu(e){return e=pe(e),Bu(e)}var to=null;function Bu(e){if(to=null,e=Ba(e),e!==null){var t=f(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=h(t),e!==null)return e;e=null}else if(a===31){if(e=b(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return to=e,null}function Z0(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Mo()){case $i:return 2;case ne:return 8;case Xe:case sn:return 32;case Ea:return 268435456;default:return 32}default:return 32}}var Lu=!1,Wn=null,es=null,ts=null,zr=new Map,Mr=new Map,as=[],hb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function W0(e,t){switch(e){case"focusin":case"focusout":Wn=null;break;case"dragenter":case"dragleave":es=null;break;case"mouseover":case"mouseout":ts=null;break;case"pointerover":case"pointerout":zr.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Mr.delete(t.pointerId)}}function Dr(e,t,a,i,o,u){return e===null||e.nativeEvent!==u?(e={blockedOn:t,domEventName:a,eventSystemFlags:i,nativeEvent:u,targetContainers:[o]},t!==null&&(t=Rn(t),t!==null&&X0(t)),e):(e.eventSystemFlags|=i,t=e.targetContainers,o!==null&&t.indexOf(o)===-1&&t.push(o),e)}function mb(e,t,a,i,o){switch(t){case"focusin":return Wn=Dr(Wn,e,t,a,i,o),!0;case"dragenter":return es=Dr(es,e,t,a,i,o),!0;case"mouseover":return ts=Dr(ts,e,t,a,i,o),!0;case"pointerover":var u=o.pointerId;return zr.set(u,Dr(zr.get(u)||null,e,t,a,i,o)),!0;case"gotpointercapture":return u=o.pointerId,Mr.set(u,Dr(Mr.get(u)||null,e,t,a,i,o)),!0}return!1}function em(e){var t=Ba(e.target);if(t!==null){var a=f(t);if(a!==null){if(t=a.tag,t===13){if(t=h(a),t!==null){e.blockedOn=t,An(e.priority,function(){J0(a)});return}}else if(t===31){if(t=b(a),t!==null){e.blockedOn=t,An(e.priority,function(){J0(a)});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function ao(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=Uu(e.nativeEvent);if(a===null){a=e.nativeEvent;var i=new a.constructor(a.type,a);ce=i,a.target.dispatchEvent(i),ce=null}else return t=Rn(a),t!==null&&X0(t),e.blockedOn=a,!1;t.shift()}return!0}function tm(e,t,a){ao(e)&&a.delete(t)}function pb(){Lu=!1,Wn!==null&&ao(Wn)&&(Wn=null),es!==null&&ao(es)&&(es=null),ts!==null&&ao(ts)&&(ts=null),zr.forEach(tm),Mr.forEach(tm)}function no(e,t){e.blockedOn===t&&(e.blockedOn=null,Lu||(Lu=!0,s.unstable_scheduleCallback(s.unstable_NormalPriority,pb)))}var so=null;function am(e){so!==e&&(so=e,s.unstable_scheduleCallback(s.unstable_NormalPriority,function(){so===e&&(so=null);for(var t=0;t<e.length;t+=3){var a=e[t],i=e[t+1],o=e[t+2];if(typeof i!="function"){if(Bu(i||a)===null)continue;break}var u=Rn(a);u!==null&&(e.splice(t,3),t-=3,Uc(u,{pending:!0,data:o,method:a.method,action:i},i,o))}}))}function Ni(e){function t(N){return no(N,e)}Wn!==null&&no(Wn,e),es!==null&&no(es,e),ts!==null&&no(ts,e),zr.forEach(t),Mr.forEach(t);for(var a=0;a<as.length;a++){var i=as[a];i.blockedOn===e&&(i.blockedOn=null)}for(;0<as.length&&(a=as[0],a.blockedOn===null);)em(a),a.blockedOn===null&&as.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(i=0;i<a.length;i+=3){var o=a[i],u=a[i+1],m=o[We]||null;if(typeof u=="function")m||am(a);else if(m){var y=null;if(u&&u.hasAttribute("formAction")){if(o=u,m=u[We]||null)y=m.formAction;else if(Bu(o)!==null)continue}else y=m.action;typeof y=="function"?a[i+1]=y:(a.splice(i,3),i-=3),am(a)}}}function nm(){function e(u){u.canIntercept&&u.info==="react-transition"&&u.intercept({handler:function(){return new Promise(function(m){return o=m})},focusReset:"manual",scroll:"manual"})}function t(){o!==null&&(o(),o=null),i||setTimeout(a,20)}function a(){if(!i&&!navigation.transition){var u=navigation.currentEntry;u&&u.url!=null&&navigation.navigate(u.url,{state:u.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var i=!1,o=null;return navigation.addEventListener("navigate",e),navigation.addEventListener("navigatesuccess",t),navigation.addEventListener("navigateerror",t),setTimeout(a,100),function(){i=!0,navigation.removeEventListener("navigate",e),navigation.removeEventListener("navigatesuccess",t),navigation.removeEventListener("navigateerror",t),o!==null&&(o(),o=null)}}}function qu(e){this._internalRoot=e}io.prototype.render=qu.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(l(409));var a=t.current,i=_a();Y0(a,i,e,t,null,null)},io.prototype.unmount=qu.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Y0(e.current,2,null,e,null,null),ql(),t[Ae]=null}};function io(e){this._internalRoot=e}io.prototype.unstable_scheduleHydration=function(e){if(e){var t=ds();e={blockedOn:null,target:e,priority:t};for(var a=0;a<as.length&&t!==0&&t<as[a].priority;a++);as.splice(a,0,e),a===0&&em(e)}};var sm=n.version;if(sm!=="19.2.3")throw Error(l(527,sm,"19.2.3"));ee.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(l(188)):(e=Object.keys(e).join(","),Error(l(268,e)));return e=p(t),e=e!==null?w(e):null,e=e===null?null:e.stateNode,e};var gb={bundleType:0,version:"19.2.3",rendererPackageName:"react-dom",currentDispatcherRef:q,reconcilerVersion:"19.2.3"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var ro=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!ro.isDisabled&&ro.supportsFiber)try{cs=ro.inject(gb),Re=ro}catch{}}return Br.createRoot=function(e,t){if(!d(e))throw Error(l(299));var a=!1,i="",o=dh,u=fh,m=hh;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(i=t.identifierPrefix),t.onUncaughtError!==void 0&&(o=t.onUncaughtError),t.onCaughtError!==void 0&&(u=t.onCaughtError),t.onRecoverableError!==void 0&&(m=t.onRecoverableError)),t=F0(e,1,!1,null,null,a,i,null,o,u,m,nm),e[Ae]=t.current,xu(e),new qu(t)},Br.hydrateRoot=function(e,t,a){if(!d(e))throw Error(l(299));var i=!1,o="",u=dh,m=fh,y=hh,N=null;return a!=null&&(a.unstable_strictMode===!0&&(i=!0),a.identifierPrefix!==void 0&&(o=a.identifierPrefix),a.onUncaughtError!==void 0&&(u=a.onUncaughtError),a.onCaughtError!==void 0&&(m=a.onCaughtError),a.onRecoverableError!==void 0&&(y=a.onRecoverableError),a.formState!==void 0&&(N=a.formState)),t=F0(e,1,!0,t,a??null,i,o,N,u,m,y,nm),t.context=K0(null),a=t.current,i=_a(),i=Gi(i),o=$n(i),o.callback=null,Hn(a,o,i),a=i,t.current.lanes=a,Kt(t,a),nn(t),e[Ae]=t.current,xu(e),new io(t)},Br.version="19.2.3",Br}var mm;function Eb(){if(mm)return Hu.exports;mm=1;function s(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(s)}catch(n){console.error(n)}}return s(),Hu.exports=Nb(),Hu.exports}var Tb=Eb();const kb=Vm(Tb),Ab="modulepreload",Ob=function(s){return"/"+s},pm={},Rb=function(n,r,l){let d=Promise.resolve();if(r&&r.length>0){let h=function(p){return Promise.all(p.map(w=>Promise.resolve(w).then(S=>({status:"fulfilled",value:S}),S=>({status:"rejected",reason:S}))))};document.getElementsByTagName("link");const b=document.querySelector("meta[property=csp-nonce]"),g=(b==null?void 0:b.nonce)||(b==null?void 0:b.getAttribute("nonce"));d=h(r.map(p=>{if(p=Ob(p),p in pm)return;pm[p]=!0;const w=p.endsWith(".css"),S=w?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${S}`))return;const j=document.createElement("link");if(j.rel=w?"stylesheet":Ab,w||(j.as="script"),j.crossOrigin="",j.href=p,g&&j.setAttribute("nonce",g),document.head.appendChild(j),w)return new Promise((E,x)=>{j.addEventListener("load",E),j.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${p}`)))})}))}function f(h){const b=new Event("vite:preloadError",{cancelable:!0});if(b.payload=h,window.dispatchEvent(b),!b.defaultPrevented)throw h}return d.then(h=>{for(const b of h||[])b.status==="rejected"&&f(b.reason);return n().catch(f)})},jn=60,Ei=5,lo=7,oo=5,Cb=["+","-","",""],zb=({data:s,isSelected:n,isSelectable:r,onMouseEnter:l,onMouseDown:d,theme:f="default",isBossLevel:h=!1})=>{const[b,g]=M.useState("animate-hex-entry"),p=M.useRef(n),w=s.type==="number",S=f==="orange",j=S?52:65,E=S?52:75,x=S?0:38,B=S&&!w?12:0,P=s.row*j+B,Y=s.col*E+(s.row%2===1?x:0)+B,D=(Ft=>{switch(Ft){case"+":return{text:"text-emerald-400 drop-shadow-[0_0_15px_rgba(52,211,153,0.9)]",bg:"bg-emerald-900/40 shadow-[inset_0_0_20px_rgba(16,185,129,0.3)]",border:"border-emerald-500/50"};case"-":return{text:"text-rose-400 drop-shadow-[0_0_15px_rgba(251,113,133,0.9)]",bg:"bg-rose-900/40 shadow-[inset_0_0_20px_rgba(244,63,94,0.3)]",border:"border-rose-500/50"};case"":return{text:"text-amber-400 drop-shadow-[0_0_15px_rgba(251,191,36,0.9)]",bg:"bg-amber-900/40 shadow-[inset_0_0_20px_rgba(245,158,11,0.3)]",border:"border-amber-500/50"};case"":return{text:"text-violet-400 drop-shadow-[0_0_15px_rgba(167,139,250,0.9)]",bg:"bg-violet-900/40 shadow-[inset_0_0_20px_rgba(139,92,246,0.3)]",border:"border-violet-500/50"};default:return{text:"text-white",bg:"bg-slate-900/60",border:"border-white/10"}}})(s.value),Z=f==="orange"?w?"octagon-clip":"rounded-xl":"hexagon-clip",ke="",oe=S&&!w?h?"bg-gradient-to-br from-green-800 to-emerald-950 border-[3px] border-emerald-700 shadow-[0_2px_0_rgba(0,50,0,0.5)]":"bg-gradient-to-br from-[#E65100] to-[#B71C1C] border-[3px] border-white shadow-[0_2px_0_rgba(0,0,0,0.2)]":"";M.useEffect(()=>{n&&!p.current?g("animate-hex-select"):!n&&p.current&&g("animate-hex-deselect"),p.current=n},[n]);const se=s.row*.05+s.col*.05,te=Ft=>{d(s.id)},Me=Ft=>{var ot;const yt=Ft.touches[0],dt=document.elementFromPoint(yt.clientX,yt.clientY);if(dt){const Ze=(ot=dt.closest("[data-cell-id]"))==null?void 0:ot.getAttribute("data-cell-id");Ze&&l(Ze)}};return c.jsxs("div",{className:`absolute transition-all duration-300 cursor-pointer flex items-center justify-center 
        ${S&&w?"":Z} 
        ${S?"":"border-2"} 
        ${b}
        ${S&&w?"w-[calc(64px*var(--hex-scale))] h-[calc(64px*var(--hex-scale))]":""}
        ${S&&!w?"w-[calc(40px*var(--hex-scale))] h-[calc(40px*var(--hex-scale))]":""}
        ${S?"":"w-[calc(64px*var(--hex-scale))] h-[calc(72px*var(--hex-scale))]"}
        ${n?S?"z-20 scale-110":"bg-cyan-400 shadow-[0_0_40px_rgba(34,211,238,1)] z-20 border-white scale-110":S&&w?`${ke} active:scale-95`:S&&!w?`${oe} active:scale-95 shadow-md`:w?"bg-slate-800/95 border-white/10 active:scale-95 hover:bg-slate-700/95":`${D.bg} ${D.border} active:scale-95 hover:brightness-125`}
        ${!r&&!n?"opacity-20 pointer-events-none":""}
      `,style:{top:`calc(${P}px * var(--hex-scale))`,left:`calc(${Y}px * var(--hex-scale))`,animationDelay:b==="animate-hex-entry"?`${se}s`:"0s"},"data-cell-id":s.id,onMouseDown:()=>d(s.id),onMouseEnter:()=>l(s.id),onTouchStart:te,onTouchMove:Me,children:[S&&w&&c.jsx("img",{src:"/octagon-base.png",alt:"cell",className:"absolute inset-0 w-full h-full object-contain pointer-events-none drop-shadow-md",style:{filter:n?"hue-rotate(100deg) brightness(1.1) saturate(1.2)":h?"hue-rotate(100deg) saturate(1.5) brightness(0.7)":"none",transition:"filter 0.3s ease"}}),S&&!w&&n&&c.jsx("div",{className:"absolute inset-0 bg-[#00CC66] border-[3px] border-white rounded-xl shadow-[0_0_40px_rgba(0,204,102,1)]"}),!S&&c.jsx("div",{className:`absolute inset-0 bg-gradient-to-br from-white/10 to-transparent pointer-events-none ${n?"opacity-50":"opacity-10"}`}),c.jsx("span",{className:`font-orbitron font-black select-none transition-all duration-200 leading-none z-10
        ${n?"text-white scale-110":S&&w?"text-white text-[calc(2.8rem*var(--hex-scale))] drop-shadow-lg":S&&!w?"text-white text-[calc(1.4rem*var(--hex-scale))] drop-shadow-md":w?"text-cyan-400 text-[calc(2.6rem*var(--hex-scale))] drop-shadow-[0_0_12px_rgba(34,211,238,0.8)]":`${D.text} text-[calc(3.4rem*var(--hex-scale))]`}`,children:s.value})]})},Mb=({trigger:s})=>{const n=M.useRef(null),r=M.useRef([]),l=M.useRef(null),d=["#22d3ee","#6366f1","#ffffff","#a855f7"],f=(b,g)=>{const w=b/2,S=g/2;for(let j=0;j<150;j++){const E=Math.random()*Math.PI*2,x=Math.random()*8+2,B=Math.random()*60+40;r.current.push({x:w,y:S,vx:Math.cos(E)*x,vy:Math.sin(E)*x,life:B,maxLife:B,size:Math.random()*4+1,color:d[Math.floor(Math.random()*d.length)],glow:Math.random()>.5})}},h=()=>{const b=n.current;if(!b)return;const g=b.getContext("2d");if(g){g.clearRect(0,0,b.width,b.height);for(let p=r.current.length-1;p>=0;p--){const w=r.current[p];if(w.x+=w.vx,w.y+=w.vy,w.vy+=.05,w.vx*=.98,w.life--,w.life<=0){r.current.splice(p,1);continue}const S=w.life/w.maxLife;g.globalAlpha=S,w.glow?(g.shadowBlur=10,g.shadowColor=w.color):g.shadowBlur=0,g.fillStyle=w.color,g.beginPath(),g.arc(w.x,w.y,w.size,0,Math.PI*2),g.fill()}g.globalAlpha=1,g.shadowBlur=0,r.current.length>0&&(l.current=requestAnimationFrame(h))}};return M.useEffect(()=>{if(s){const b=n.current;b&&(b.width=window.innerWidth,b.height=window.innerHeight,f(b.width,b.height),(!l.current||r.current.length===0)&&h())}return()=>{l.current&&cancelAnimationFrame(l.current)}},[s]),c.jsx("canvas",{ref:n,className:"fixed inset-0 pointer-events-none z-[60]",style:{mixBlendMode:"screen"}})},Db=({onInteract:s})=>{const[n,r]=M.useState({x:10,y:80}),[l,d]=M.useState(!1);return c.jsx("div",{className:"fixed z-50 transition-all duration-1000 ease-in-out pointer-events-none",style:{left:`${n.x}%`,top:`${n.y}%`,transform:"translate(-50%, -50%)"},children:c.jsxs("div",{className:"relative group cursor-pointer pointer-events-auto",onClick:s,children:[c.jsx("img",{src:"/character.png",alt:"Character",className:"w-48 h-auto drop-shadow-2xl animate-bounce-slow",onError:f=>{f.currentTarget.style.display="none"}}),c.jsx("div",{className:"absolute -top-24 left-1/2 -translate-x-1/2 bg-white text-slate-900 px-4 py-2 rounded-2xl rounded-bl-none shadow-xl opacity-0 group-hover:opacity-100 transition-opacity duration-300 whitespace-nowrap",children:c.jsx("p",{className:"font-bold text-sm",children:'Clicca "Tutorial"!'})})]})})},gm=["Ottima sfida! Supera i tuoi limiti.","La tua mente  agile come un calcolatore!","Stai andando alla grande, continua cos!","Incredibile velocit di pensiero!","Sei un vero campione dei numeri!","Logica impeccabile!","Non fermarti ora, il record  vicino!","Fantastico! I tuoi neuroni stanno correndo!","Precisione chirurgica!","Un vero maestro dell'aritmetica!"];async function Ub(s,n,r){if(s>1e3)return"Livello Genio! Prestazione eccezionale.";if(n>10)return"Stai scalando le vette della classifica!";if(r>50)return"Velocit luce! Sei rapidissimo.";const l=Math.floor(Math.random()*gm.length);return gm[l]}class Bb{constructor(){this.ctx=null,this.masterGain=null,this.isMuted=!1,this.initialized=!1,this.clickBuffer=null,this.successBuffer=null,this.winnerBuffers=[],this.levelCompleteBuffer=null,this.loseBuffers=[],this.bossIntroBuffer=null,this.bossIntroSource=null,this.bossBonusBuffer=null,this.bossBonusSource=null,this.boss1vittoriaBuffer=null,this.boss1vittoriaSource=null,this.boss1sconfittaBuffer=null,this.boss1sconfittaSource=null}async init(){var n;if(!(this.initialized&&((n=this.ctx)==null?void 0:n.state)==="running"))try{this.ctx||(this.ctx=new(window.AudioContext||window.webkitAudioContext)({latencyHint:"interactive"}),this.masterGain=this.ctx.createGain(),this.masterGain.connect(this.ctx.destination),this.masterGain.gain.setValueAtTime(this.isMuted?0:.4,this.ctx.currentTime)),this.ctx.state!=="running"&&await this.ctx.resume();const r=this.ctx.createBuffer(1,1,22050),l=this.ctx.createBufferSource();l.buffer=r,l.connect(this.ctx.destination),l.start(0),this.initialized=!0,console.log("Audio Engine Energized:",this.ctx.state),this.loadSounds()}catch(r){console.warn("Audio Context struggle:",r)}}async loadSounds(){if(this.ctx)try{const r=await(await fetch("/Clicpulsnati.mp3")).arrayBuffer();this.clickBuffer=await this.ctx.decodeAudioData(r);const d=await(await fetch("/combinazione.wav")).arrayBuffer();this.successBuffer=await this.ctx.decodeAudioData(d);const f=["/Win1.mp3","/Win2.mp3","/Win3.mp3","/Win4.mp3"];this.winnerBuffers=[];for(const p of f){const S=await(await fetch(p)).arrayBuffer(),j=await this.ctx.decodeAudioData(S);this.winnerBuffers.push(j)}const b=await(await fetch("/Fine_partita_win.mp3")).arrayBuffer();this.levelCompleteBuffer=await this.ctx.decodeAudioData(b);const g=["/Lose1.mp3","/Lose2.mp3"];this.loseBuffers=[];for(const p of g)try{const S=await(await fetch(p)).arrayBuffer(),j=await this.ctx.decodeAudioData(S);this.loseBuffers.push(j)}catch(w){console.warn(`Failed to load loss sound: ${p}`,w)}try{const w=await(await fetch("/Boss1intro.mp3")).arrayBuffer();this.bossIntroBuffer=await this.ctx.decodeAudioData(w)}catch(p){console.warn("Failed to load boss intro sound:",p)}try{const w=await(await fetch("/Bonus30secondiboss.mp3")).arrayBuffer();this.bossBonusBuffer=await this.ctx.decodeAudioData(w)}catch(p){console.warn("Failed to load boss bonus sound:",p)}try{const w=await(await fetch("/Boss1vittoria.mp3")).arrayBuffer();this.boss1vittoriaBuffer=await this.ctx.decodeAudioData(w)}catch(p){console.warn("Failed to load boss 1 victory sound:",p)}try{const w=await(await fetch("/Boss1sconfitta.mp3")).arrayBuffer();this.boss1sconfittaBuffer=await this.ctx.decodeAudioData(w)}catch(p){console.warn("Failed to load boss 1 loss sound:",p)}}catch(n){console.warn("Failed to load sounds:",n)}}setMuted(n){if(this.isMuted=n,!this.ctx||!this.masterGain)return;const r=n?0:.4;this.masterGain.gain.setTargetAtTime(r,this.ctx.currentTime,.02)}async playFMSound(n,r,l,d,f,h="sine"){if(this.isMuted||(this.ctx&&(this.ctx.state==="suspended"||this.ctx.state==="interrupted")&&await this.ctx.resume().catch(E=>console.warn("Context resume failed",E)),!this.initialized||!this.ctx||!this.masterGain))return;const g=this.ctx.currentTime+.01,p=this.ctx.createOscillator(),w=this.ctx.createOscillator(),S=this.ctx.createGain(),j=this.ctx.createGain();p.type=h,w.type="sine",p.frequency.setValueAtTime(n,g),w.frequency.setValueAtTime(r,g),S.gain.setValueAtTime(l,g),j.gain.setValueAtTime(0,g),j.gain.linearRampToValueAtTime(f,g+.005),j.gain.exponentialRampToValueAtTime(1e-4,g+d),w.connect(S),S.connect(p.frequency),p.connect(j),j.connect(this.masterGain),p.start(g),w.start(g),p.stop(g+d),w.stop(g+d)}playSelect(){if(!this.isMuted)if(this.clickBuffer&&this.ctx&&this.masterGain){const n=this.ctx.createBufferSource();n.buffer=this.clickBuffer;const r=this.ctx.createGain();r.gain.setValueAtTime(.5,this.ctx.currentTime),n.connect(r),r.connect(this.masterGain),n.playbackRate.setValueAtTime(1,this.ctx.currentTime),n.start(0)}else this.playFMSound(700,1400,20,.04,.08,"sine")}playUIClick(){if(!this.isMuted)if(this.clickBuffer&&this.ctx&&this.masterGain){const n=this.ctx.createBufferSource();n.buffer=this.clickBuffer,n.connect(this.masterGain),n.start(0)}else this.playFMSound(440,880,50,.08,.15,"square")}playSuccess(){if(!this.isMuted)if(this.successBuffer&&this.ctx&&this.masterGain){const n=this.ctx.createBufferSource();n.buffer=this.successBuffer,n.connect(this.masterGain),n.start(0)}else[523.25,659.25,783.99,1046.5].forEach((r,l)=>{setTimeout(()=>this.playFMSound(r,r*1.5,300,.6,.1,"sine"),l*80)})}playError(){this.playFMSound(110,55,500,.4,.25,"sawtooth")}playReset(){if(this.isMuted||!this.ctx||!this.masterGain)return;const n=this.ctx.currentTime,r=this.ctx.createOscillator(),l=this.ctx.createGain();r.frequency.setValueAtTime(660,n),r.frequency.exponentialRampToValueAtTime(220,n+.15),l.gain.setValueAtTime(.1,n),l.gain.exponentialRampToValueAtTime(1e-4,n+.15),r.connect(l),l.connect(this.masterGain),r.start(n),r.stop(n+.15)}playBadge(){var n;(n=this.ctx)!=null&&n.currentTime,this.playFMSound(880,1760,100,.1,.1,"sine"),setTimeout(()=>this.playFMSound(1320,2640,50,.2,.1,"sine"),100)}async playExternalSound(n){if(!this.isMuted){this.ctx&&(this.ctx.state==="suspended"||this.ctx.state==="interrupted")&&await this.ctx.resume().catch(r=>console.warn("External sound resume failed",r));try{const r=n.startsWith("/")?n.slice(1):n,l=new Audio(`/${r}`);l.volume=.7,l.play().catch(d=>console.warn("Auto-play stopped:",d))}catch(r){console.warn("External sound playback failed:",r)}}}playTick(){this.playFMSound(600,300,200,.05,.3,"square")}playPop(){this.playFMSound(400,200,100,.1,.3,"sine")}playWinner(n){if(this.isMuted||this.winnerBuffers.length===0||!this.ctx||!this.masterGain)return;let r=this.winnerBuffers[0];n!==void 0&&n>=0&&n<this.winnerBuffers.length?r=this.winnerBuffers[n]:n===void 0&&(r=this.winnerBuffers[Math.floor(Math.random()*this.winnerBuffers.length)]);const l=this.ctx.createBufferSource();l.buffer=r,l.connect(this.masterGain),l.start(0)}playLevelComplete(){if(this.isMuted||!this.levelCompleteBuffer||!this.ctx||!this.masterGain)return;const n=this.ctx.createBufferSource();n.buffer=this.levelCompleteBuffer,n.connect(this.masterGain),n.start(0)}playLose(n){if(this.isMuted||this.loseBuffers.length===0||!this.ctx||!this.masterGain)return;let r=this.loseBuffers[0];n!==void 0&&n>=0&&n<this.loseBuffers.length?r=this.loseBuffers[n]:n===void 0&&(r=this.loseBuffers[Math.floor(Math.random()*this.loseBuffers.length)]);const l=this.ctx.createBufferSource();l.buffer=r,l.connect(this.masterGain),l.start(0)}playBossIntro(){this.isMuted||!this.bossIntroBuffer||!this.ctx||!this.masterGain||(this.stopBossIntro(),this.bossIntroSource=this.ctx.createBufferSource(),this.bossIntroSource.buffer=this.bossIntroBuffer,this.bossIntroSource.connect(this.masterGain),this.bossIntroSource.start(0))}stopBossIntro(){if(this.bossIntroSource){try{this.bossIntroSource.stop()}catch{}this.bossIntroSource=null}}playBossBonus(){this.isMuted||!this.bossBonusBuffer||!this.ctx||!this.masterGain||(this.stopBossBonus(),this.bossBonusSource=this.ctx.createBufferSource(),this.bossBonusSource.buffer=this.bossBonusBuffer,this.bossBonusSource.connect(this.masterGain),this.bossBonusSource.start(0))}stopBossBonus(){if(this.bossBonusSource){try{this.bossBonusSource.stop()}catch{}this.bossBonusSource=null}}playBoss1vittoria(){this.isMuted||!this.boss1vittoriaBuffer||!this.ctx||!this.masterGain||(this.stopBoss1vittoria(),this.boss1vittoriaSource=this.ctx.createBufferSource(),this.boss1vittoriaSource.buffer=this.boss1vittoriaBuffer,this.boss1vittoriaSource.connect(this.masterGain),this.boss1vittoriaSource.start(0))}stopBoss1vittoria(){if(this.boss1vittoriaSource){try{this.boss1vittoriaSource.stop()}catch{}this.boss1vittoriaSource=null}}playBoss1sconfitta(){this.isMuted||!this.boss1sconfittaBuffer||!this.ctx||!this.masterGain||(this.stopBoss1sconfitta(),this.boss1sconfittaSource=this.ctx.createBufferSource(),this.boss1sconfittaSource.buffer=this.boss1sconfittaBuffer,this.boss1sconfittaSource.connect(this.masterGain),this.boss1sconfittaSource.start(0))}stopBoss1sconfitta(){if(this.boss1sconfittaSource){try{this.boss1sconfittaSource.stop()}catch{}this.boss1sconfittaSource=null}}}const J=new Bb;function Ro(s,n){var r={};for(var l in s)Object.prototype.hasOwnProperty.call(s,l)&&n.indexOf(l)<0&&(r[l]=s[l]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,l=Object.getOwnPropertySymbols(s);d<l.length;d++)n.indexOf(l[d])<0&&Object.prototype.propertyIsEnumerable.call(s,l[d])&&(r[l[d]]=s[l[d]]);return r}function Lb(s,n,r,l){function d(f){return f instanceof r?f:new r(function(h){h(f)})}return new(r||(r=Promise))(function(f,h){function b(w){try{p(l.next(w))}catch(S){h(S)}}function g(w){try{p(l.throw(w))}catch(S){h(S)}}function p(w){w.done?f(w.value):d(w.value).then(b,g)}p((l=l.apply(s,n||[])).next())})}const qb=s=>s?(...n)=>s(...n):(...n)=>fetch(...n);class jd extends Error{constructor(n,r="FunctionsError",l){super(n),this.name=r,this.context=l}}class Ib extends jd{constructor(n){super("Failed to send a request to the Edge Function","FunctionsFetchError",n)}}class bm extends jd{constructor(n){super("Relay Error invoking the Edge Function","FunctionsRelayError",n)}}class vm extends jd{constructor(n){super("Edge Function returned a non-2xx status code","FunctionsHttpError",n)}}var sd;(function(s){s.Any="any",s.ApNortheast1="ap-northeast-1",s.ApNortheast2="ap-northeast-2",s.ApSouth1="ap-south-1",s.ApSoutheast1="ap-southeast-1",s.ApSoutheast2="ap-southeast-2",s.CaCentral1="ca-central-1",s.EuCentral1="eu-central-1",s.EuWest1="eu-west-1",s.EuWest2="eu-west-2",s.EuWest3="eu-west-3",s.SaEast1="sa-east-1",s.UsEast1="us-east-1",s.UsWest1="us-west-1",s.UsWest2="us-west-2"})(sd||(sd={}));class $b{constructor(n,{headers:r={},customFetch:l,region:d=sd.Any}={}){this.url=n,this.headers=r,this.region=d,this.fetch=qb(l)}setAuth(n){this.headers.Authorization=`Bearer ${n}`}invoke(n){return Lb(this,arguments,void 0,function*(r,l={}){var d;let f,h;try{const{headers:b,method:g,body:p,signal:w,timeout:S}=l;let j={},{region:E}=l;E||(E=this.region);const x=new URL(`${this.url}/${r}`);E&&E!=="any"&&(j["x-region"]=E,x.searchParams.set("forceFunctionRegion",E));let B;p&&(b&&!Object.prototype.hasOwnProperty.call(b,"Content-Type")||!b)?typeof Blob<"u"&&p instanceof Blob||p instanceof ArrayBuffer?(j["Content-Type"]="application/octet-stream",B=p):typeof p=="string"?(j["Content-Type"]="text/plain",B=p):typeof FormData<"u"&&p instanceof FormData?B=p:(j["Content-Type"]="application/json",B=JSON.stringify(p)):p&&typeof p!="string"&&!(typeof Blob<"u"&&p instanceof Blob)&&!(p instanceof ArrayBuffer)&&!(typeof FormData<"u"&&p instanceof FormData)?B=JSON.stringify(p):B=p;let P=w;S&&(h=new AbortController,f=setTimeout(()=>h.abort(),S),w?(P=h.signal,w.addEventListener("abort",()=>h.abort())):P=h.signal);const Y=yield this.fetch(x.toString(),{method:g||"POST",headers:Object.assign(Object.assign(Object.assign({},j),this.headers),b),body:B,signal:P}).catch(ke=>{throw new Ib(ke)}),H=Y.headers.get("x-relay-error");if(H&&H==="true")throw new bm(Y);if(!Y.ok)throw new vm(Y);let D=((d=Y.headers.get("Content-Type"))!==null&&d!==void 0?d:"text/plain").split(";")[0].trim(),Z;return D==="application/json"?Z=yield Y.json():D==="application/octet-stream"||D==="application/pdf"?Z=yield Y.blob():D==="text/event-stream"?Z=Y:D==="multipart/form-data"?Z=yield Y.formData():Z=yield Y.text(),{data:Z,error:null,response:Y}}catch(b){return{data:null,error:b,response:b instanceof vm||b instanceof bm?b.context:void 0}}finally{f&&clearTimeout(f)}})}}var Hb=class extends Error{constructor(s){super(s.message),this.name="PostgrestError",this.details=s.details,this.hint=s.hint,this.code=s.code}},Gb=class{constructor(s){var n,r;this.shouldThrowOnError=!1,this.method=s.method,this.url=s.url,this.headers=new Headers(s.headers),this.schema=s.schema,this.body=s.body,this.shouldThrowOnError=(n=s.shouldThrowOnError)!==null&&n!==void 0?n:!1,this.signal=s.signal,this.isMaybeSingle=(r=s.isMaybeSingle)!==null&&r!==void 0?r:!1,s.fetch?this.fetch=s.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(s,n){return this.headers=new Headers(this.headers),this.headers.set(s,n),this}then(s,n){var r=this;this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const l=this.fetch;let d=l(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async f=>{let h=null,b=null,g=null,p=f.status,w=f.statusText;if(f.ok){var S,j;if(r.method!=="HEAD"){var E;const Y=await f.text();Y===""||(r.headers.get("Accept")==="text/csv"||r.headers.get("Accept")&&(!((E=r.headers.get("Accept"))===null||E===void 0)&&E.includes("application/vnd.pgrst.plan+text"))?b=Y:b=JSON.parse(Y))}const B=(S=r.headers.get("Prefer"))===null||S===void 0?void 0:S.match(/count=(exact|planned|estimated)/),P=(j=f.headers.get("content-range"))===null||j===void 0?void 0:j.split("/");B&&P&&P.length>1&&(g=parseInt(P[1])),r.isMaybeSingle&&r.method==="GET"&&Array.isArray(b)&&(b.length>1?(h={code:"PGRST116",details:`Results contain ${b.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},b=null,g=null,p=406,w="Not Acceptable"):b.length===1?b=b[0]:b=null)}else{var x;const B=await f.text();try{h=JSON.parse(B),Array.isArray(h)&&f.status===404&&(b=[],h=null,p=200,w="OK")}catch{f.status===404&&B===""?(p=204,w="No Content"):h={message:B}}if(h&&r.isMaybeSingle&&(!(h==null||(x=h.details)===null||x===void 0)&&x.includes("0 rows"))&&(h=null,p=200,w="OK"),h&&r.shouldThrowOnError)throw new Hb(h)}return{error:h,data:b,count:g,status:p,statusText:w}});return this.shouldThrowOnError||(d=d.catch(f=>{var h;let b="";const g=f==null?void 0:f.cause;if(g){var p,w,S,j;const x=(p=g==null?void 0:g.message)!==null&&p!==void 0?p:"",B=(w=g==null?void 0:g.code)!==null&&w!==void 0?w:"";b=`${(S=f==null?void 0:f.name)!==null&&S!==void 0?S:"FetchError"}: ${f==null?void 0:f.message}`,b+=`

Caused by: ${(j=g==null?void 0:g.name)!==null&&j!==void 0?j:"Error"}: ${x}`,B&&(b+=` (${B})`),g!=null&&g.stack&&(b+=`
${g.stack}`)}else{var E;b=(E=f==null?void 0:f.stack)!==null&&E!==void 0?E:""}return{error:{message:`${(h=f==null?void 0:f.name)!==null&&h!==void 0?h:"FetchError"}: ${f==null?void 0:f.message}`,details:b,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),d.then(s,n)}returns(){return this}overrideTypes(){return this}},Vb=class extends Gb{select(s){let n=!1;const r=(s??"*").split("").map(l=>/\s/.test(l)&&!n?"":(l==='"'&&(n=!n),l)).join("");return this.url.searchParams.set("select",r),this.headers.append("Prefer","return=representation"),this}order(s,{ascending:n=!0,nullsFirst:r,foreignTable:l,referencedTable:d=l}={}){const f=d?`${d}.order`:"order",h=this.url.searchParams.get(f);return this.url.searchParams.set(f,`${h?`${h},`:""}${s}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(s,{foreignTable:n,referencedTable:r=n}={}){const l=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(l,`${s}`),this}range(s,n,{foreignTable:r,referencedTable:l=r}={}){const d=typeof l>"u"?"offset":`${l}.offset`,f=typeof l>"u"?"limit":`${l}.limit`;return this.url.searchParams.set(d,`${s}`),this.url.searchParams.set(f,`${n-s+1}`),this}abortSignal(s){return this.signal=s,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:s=!1,verbose:n=!1,settings:r=!1,buffers:l=!1,wal:d=!1,format:f="text"}={}){var h;const b=[s?"analyze":null,n?"verbose":null,r?"settings":null,l?"buffers":null,d?"wal":null].filter(Boolean).join("|"),g=(h=this.headers.get("Accept"))!==null&&h!==void 0?h:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${f}; for="${g}"; options=${b};`),f==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(s){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${s}`),this}};const ym=new RegExp("[,()]");var zi=class extends Vb{eq(s,n){return this.url.searchParams.append(s,`eq.${n}`),this}neq(s,n){return this.url.searchParams.append(s,`neq.${n}`),this}gt(s,n){return this.url.searchParams.append(s,`gt.${n}`),this}gte(s,n){return this.url.searchParams.append(s,`gte.${n}`),this}lt(s,n){return this.url.searchParams.append(s,`lt.${n}`),this}lte(s,n){return this.url.searchParams.append(s,`lte.${n}`),this}like(s,n){return this.url.searchParams.append(s,`like.${n}`),this}likeAllOf(s,n){return this.url.searchParams.append(s,`like(all).{${n.join(",")}}`),this}likeAnyOf(s,n){return this.url.searchParams.append(s,`like(any).{${n.join(",")}}`),this}ilike(s,n){return this.url.searchParams.append(s,`ilike.${n}`),this}ilikeAllOf(s,n){return this.url.searchParams.append(s,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(s,n){return this.url.searchParams.append(s,`ilike(any).{${n.join(",")}}`),this}regexMatch(s,n){return this.url.searchParams.append(s,`match.${n}`),this}regexIMatch(s,n){return this.url.searchParams.append(s,`imatch.${n}`),this}is(s,n){return this.url.searchParams.append(s,`is.${n}`),this}isDistinct(s,n){return this.url.searchParams.append(s,`isdistinct.${n}`),this}in(s,n){const r=Array.from(new Set(n)).map(l=>typeof l=="string"&&ym.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(s,`in.(${r})`),this}notIn(s,n){const r=Array.from(new Set(n)).map(l=>typeof l=="string"&&ym.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(s,`not.in.(${r})`),this}contains(s,n){return typeof n=="string"?this.url.searchParams.append(s,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(s,`cs.{${n.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(n)}`),this}containedBy(s,n){return typeof n=="string"?this.url.searchParams.append(s,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(s,`cd.{${n.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(n)}`),this}rangeGt(s,n){return this.url.searchParams.append(s,`sr.${n}`),this}rangeGte(s,n){return this.url.searchParams.append(s,`nxl.${n}`),this}rangeLt(s,n){return this.url.searchParams.append(s,`sl.${n}`),this}rangeLte(s,n){return this.url.searchParams.append(s,`nxr.${n}`),this}rangeAdjacent(s,n){return this.url.searchParams.append(s,`adj.${n}`),this}overlaps(s,n){return typeof n=="string"?this.url.searchParams.append(s,`ov.${n}`):this.url.searchParams.append(s,`ov.{${n.join(",")}}`),this}textSearch(s,n,{config:r,type:l}={}){let d="";l==="plain"?d="pl":l==="phrase"?d="ph":l==="websearch"&&(d="w");const f=r===void 0?"":`(${r})`;return this.url.searchParams.append(s,`${d}fts${f}.${n}`),this}match(s){return Object.entries(s).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(s,n,r){return this.url.searchParams.append(s,`not.${n}.${r}`),this}or(s,{foreignTable:n,referencedTable:r=n}={}){const l=r?`${r}.or`:"or";return this.url.searchParams.append(l,`(${s})`),this}filter(s,n,r){return this.url.searchParams.append(s,`${n}.${r}`),this}},Pb=class{constructor(s,{headers:n={},schema:r,fetch:l}){this.url=s,this.headers=new Headers(n),this.schema=r,this.fetch=l}cloneRequestState(){return{url:new URL(this.url.toString()),headers:new Headers(this.headers)}}select(s,n){const{head:r=!1,count:l}=n??{},d=r?"HEAD":"GET";let f=!1;const h=(s??"*").split("").map(p=>/\s/.test(p)&&!f?"":(p==='"'&&(f=!f),p)).join(""),{url:b,headers:g}=this.cloneRequestState();return b.searchParams.set("select",h),l&&g.append("Prefer",`count=${l}`),new zi({method:d,url:b,headers:g,schema:this.schema,fetch:this.fetch})}insert(s,{count:n,defaultToNull:r=!0}={}){var l;const d="POST",{url:f,headers:h}=this.cloneRequestState();if(n&&h.append("Prefer",`count=${n}`),r||h.append("Prefer","missing=default"),Array.isArray(s)){const b=s.reduce((g,p)=>g.concat(Object.keys(p)),[]);if(b.length>0){const g=[...new Set(b)].map(p=>`"${p}"`);f.searchParams.set("columns",g.join(","))}}return new zi({method:d,url:f,headers:h,schema:this.schema,body:s,fetch:(l=this.fetch)!==null&&l!==void 0?l:fetch})}upsert(s,{onConflict:n,ignoreDuplicates:r=!1,count:l,defaultToNull:d=!0}={}){var f;const h="POST",{url:b,headers:g}=this.cloneRequestState();if(g.append("Prefer",`resolution=${r?"ignore":"merge"}-duplicates`),n!==void 0&&b.searchParams.set("on_conflict",n),l&&g.append("Prefer",`count=${l}`),d||g.append("Prefer","missing=default"),Array.isArray(s)){const p=s.reduce((w,S)=>w.concat(Object.keys(S)),[]);if(p.length>0){const w=[...new Set(p)].map(S=>`"${S}"`);b.searchParams.set("columns",w.join(","))}}return new zi({method:h,url:b,headers:g,schema:this.schema,body:s,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}update(s,{count:n}={}){var r;const l="PATCH",{url:d,headers:f}=this.cloneRequestState();return n&&f.append("Prefer",`count=${n}`),new zi({method:l,url:d,headers:f,schema:this.schema,body:s,fetch:(r=this.fetch)!==null&&r!==void 0?r:fetch})}delete({count:s}={}){var n;const r="DELETE",{url:l,headers:d}=this.cloneRequestState();return s&&d.append("Prefer",`count=${s}`),new zi({method:r,url:l,headers:d,schema:this.schema,fetch:(n=this.fetch)!==null&&n!==void 0?n:fetch})}},Fb=class Pm{constructor(n,{headers:r={},schema:l,fetch:d}={}){this.url=n,this.headers=new Headers(r),this.schemaName=l,this.fetch=d}from(n){if(!n||typeof n!="string"||n.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");return new Pb(new URL(`${this.url}/${n}`),{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(n){return new Pm(this.url,{headers:this.headers,schema:n,fetch:this.fetch})}rpc(n,r={},{head:l=!1,get:d=!1,count:f}={}){var h;let b;const g=new URL(`${this.url}/rpc/${n}`);let p;const w=E=>E!==null&&typeof E=="object"&&(!Array.isArray(E)||E.some(w)),S=l&&Object.values(r).some(w);S?(b="POST",p=r):l||d?(b=l?"HEAD":"GET",Object.entries(r).filter(([E,x])=>x!==void 0).map(([E,x])=>[E,Array.isArray(x)?`{${x.join(",")}}`:`${x}`]).forEach(([E,x])=>{g.searchParams.append(E,x)})):(b="POST",p=r);const j=new Headers(this.headers);return S?j.set("Prefer",f?`count=${f},return=minimal`:"return=minimal"):f&&j.set("Prefer",`count=${f}`),new zi({method:b,url:g,headers:j,schema:this.schemaName,body:p,fetch:(h=this.fetch)!==null&&h!==void 0?h:fetch})}};class Kb{constructor(){}static detectEnvironment(){var n;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((n=navigator.userAgent)===null||n===void 0)&&n.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};const r=globalThis.process;if(r){const l=r.versions;if(l&&l.node){const d=l.node,f=parseInt(d.replace(/^v/,"").split(".")[0]);return f>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${f} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${f} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const n=this.detectEnvironment();if(n.constructor)return n.constructor;let r=n.error||"WebSocket not supported in this environment.";throw n.workaround&&(r+=`

Suggested solution: ${n.workaround}`),new Error(r)}static createWebSocket(n,r){const l=this.getWebSocketConstructor();return new l(n,r)}static isWebSocketSupported(){try{const n=this.detectEnvironment();return n.type==="native"||n.type==="ws"}catch{return!1}}}const Yb="2.91.1",Qb=`realtime-js/${Yb}`,Xb="1.0.0",Fm="2.0.0",xm=Fm,id=1e4,Jb=1e3,Zb=100;var ss;(function(s){s[s.connecting=0]="connecting",s[s.open=1]="open",s[s.closing=2]="closing",s[s.closed=3]="closed"})(ss||(ss={}));var Gt;(function(s){s.closed="closed",s.errored="errored",s.joined="joined",s.joining="joining",s.leaving="leaving"})(Gt||(Gt={}));var Pa;(function(s){s.close="phx_close",s.error="phx_error",s.join="phx_join",s.reply="phx_reply",s.leave="phx_leave",s.access_token="access_token"})(Pa||(Pa={}));var rd;(function(s){s.websocket="websocket"})(rd||(rd={}));var zs;(function(s){s.Connecting="connecting",s.Open="open",s.Closing="closing",s.Closed="closed"})(zs||(zs={}));class Wb{constructor(n){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=n??[]}encode(n,r){if(n.event===this.BROADCAST_EVENT&&!(n.payload instanceof ArrayBuffer)&&typeof n.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(n));let l=[n.join_ref,n.ref,n.topic,n.event,n.payload];return r(JSON.stringify(l))}_binaryEncodeUserBroadcastPush(n){var r;return this._isArrayBuffer((r=n.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(n):this._encodeJsonUserBroadcastPush(n)}_encodeBinaryUserBroadcastPush(n){var r,l;const d=(l=(r=n.payload)===null||r===void 0?void 0:r.payload)!==null&&l!==void 0?l:new ArrayBuffer(0);return this._encodeUserBroadcastPush(n,this.BINARY_ENCODING,d)}_encodeJsonUserBroadcastPush(n){var r,l;const d=(l=(r=n.payload)===null||r===void 0?void 0:r.payload)!==null&&l!==void 0?l:{},h=new TextEncoder().encode(JSON.stringify(d)).buffer;return this._encodeUserBroadcastPush(n,this.JSON_ENCODING,h)}_encodeUserBroadcastPush(n,r,l){var d,f;const h=n.topic,b=(d=n.ref)!==null&&d!==void 0?d:"",g=(f=n.join_ref)!==null&&f!==void 0?f:"",p=n.payload.event,w=this.allowedMetadataKeys?this._pick(n.payload,this.allowedMetadataKeys):{},S=Object.keys(w).length===0?"":JSON.stringify(w);if(g.length>255)throw new Error(`joinRef length ${g.length} exceeds maximum of 255`);if(b.length>255)throw new Error(`ref length ${b.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`topic length ${h.length} exceeds maximum of 255`);if(p.length>255)throw new Error(`userEvent length ${p.length} exceeds maximum of 255`);if(S.length>255)throw new Error(`metadata length ${S.length} exceeds maximum of 255`);const j=this.USER_BROADCAST_PUSH_META_LENGTH+g.length+b.length+h.length+p.length+S.length,E=new ArrayBuffer(this.HEADER_LENGTH+j);let x=new DataView(E),B=0;x.setUint8(B++,this.KINDS.userBroadcastPush),x.setUint8(B++,g.length),x.setUint8(B++,b.length),x.setUint8(B++,h.length),x.setUint8(B++,p.length),x.setUint8(B++,S.length),x.setUint8(B++,r),Array.from(g,Y=>x.setUint8(B++,Y.charCodeAt(0))),Array.from(b,Y=>x.setUint8(B++,Y.charCodeAt(0))),Array.from(h,Y=>x.setUint8(B++,Y.charCodeAt(0))),Array.from(p,Y=>x.setUint8(B++,Y.charCodeAt(0))),Array.from(S,Y=>x.setUint8(B++,Y.charCodeAt(0)));var P=new Uint8Array(E.byteLength+l.byteLength);return P.set(new Uint8Array(E),0),P.set(new Uint8Array(l),E.byteLength),P.buffer}decode(n,r){if(this._isArrayBuffer(n)){let l=this._binaryDecode(n);return r(l)}if(typeof n=="string"){const l=JSON.parse(n),[d,f,h,b,g]=l;return r({join_ref:d,ref:f,topic:h,event:b,payload:g})}return r({})}_binaryDecode(n){const r=new DataView(n),l=r.getUint8(0),d=new TextDecoder;switch(l){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(n,r,d)}}_decodeUserBroadcast(n,r,l){const d=r.getUint8(1),f=r.getUint8(2),h=r.getUint8(3),b=r.getUint8(4);let g=this.HEADER_LENGTH+4;const p=l.decode(n.slice(g,g+d));g=g+d;const w=l.decode(n.slice(g,g+f));g=g+f;const S=l.decode(n.slice(g,g+h));g=g+h;const j=n.slice(g,n.byteLength),E=b===this.JSON_ENCODING?JSON.parse(l.decode(j)):j,x={type:this.BROADCAST_EVENT,event:w,payload:E};return h>0&&(x.meta=JSON.parse(S)),{join_ref:null,ref:null,topic:p,event:this.BROADCAST_EVENT,payload:x}}_isArrayBuffer(n){var r;return n instanceof ArrayBuffer||((r=n==null?void 0:n.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(n,r){return!n||typeof n!="object"?{}:Object.fromEntries(Object.entries(n).filter(([l])=>r.includes(l)))}}let Km=class{constructor(n,r){this.callback=n,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=n,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var ut;(function(s){s.abstime="abstime",s.bool="bool",s.date="date",s.daterange="daterange",s.float4="float4",s.float8="float8",s.int2="int2",s.int4="int4",s.int4range="int4range",s.int8="int8",s.int8range="int8range",s.json="json",s.jsonb="jsonb",s.money="money",s.numeric="numeric",s.oid="oid",s.reltime="reltime",s.text="text",s.time="time",s.timestamp="timestamp",s.timestamptz="timestamptz",s.timetz="timetz",s.tsrange="tsrange",s.tstzrange="tstzrange"})(ut||(ut={}));const wm=(s,n,r={})=>{var l;const d=(l=r.skipTypes)!==null&&l!==void 0?l:[];return n?Object.keys(n).reduce((f,h)=>(f[h]=ev(h,s,n,d),f),{}):{}},ev=(s,n,r,l)=>{const d=n.find(b=>b.name===s),f=d==null?void 0:d.type,h=r[s];return f&&!l.includes(f)?Ym(f,h):ld(h)},Ym=(s,n)=>{if(s.charAt(0)==="_"){const r=s.slice(1,s.length);return sv(n,r)}switch(s){case ut.bool:return tv(n);case ut.float4:case ut.float8:case ut.int2:case ut.int4:case ut.int8:case ut.numeric:case ut.oid:return av(n);case ut.json:case ut.jsonb:return nv(n);case ut.timestamp:return iv(n);case ut.abstime:case ut.date:case ut.daterange:case ut.int4range:case ut.int8range:case ut.money:case ut.reltime:case ut.text:case ut.time:case ut.timestamptz:case ut.timetz:case ut.tsrange:case ut.tstzrange:return ld(n);default:return ld(n)}},ld=s=>s,tv=s=>{switch(s){case"t":return!0;case"f":return!1;default:return s}},av=s=>{if(typeof s=="string"){const n=parseFloat(s);if(!Number.isNaN(n))return n}return s},nv=s=>{if(typeof s=="string")try{return JSON.parse(s)}catch{return s}return s},sv=(s,n)=>{if(typeof s!="string")return s;const r=s.length-1,l=s[r];if(s[0]==="{"&&l==="}"){let f;const h=s.slice(1,r);try{f=JSON.parse("["+h+"]")}catch{f=h?h.split(","):[]}return f.map(b=>Ym(n,b))}return s},iv=s=>typeof s=="string"?s.replace(" ","T"):s,Qm=s=>{const n=new URL(s);return n.protocol=n.protocol.replace(/^ws/i,"http"),n.pathname=n.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),n.pathname===""||n.pathname==="/"?n.pathname="/api/broadcast":n.pathname=n.pathname+"/api/broadcast",n.href};class Fu{constructor(n,r,l={},d=id){this.channel=n,this.event=r,this.payload=l,this.timeout=d,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(n){this.timeout=n,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(n){this.payload=Object.assign(Object.assign({},this.payload),n)}receive(n,r){var l;return this._hasReceived(n)&&r((l=this.receivedResp)===null||l===void 0?void 0:l.response),this.recHooks.push({status:n,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const n=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},n),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(n,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:n,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:n,response:r}){this.recHooks.filter(l=>l.status===n).forEach(l=>l.callback(r))}_hasReceived(n){return this.receivedResp&&this.receivedResp.status===n}}var _m;(function(s){s.SYNC="sync",s.JOIN="join",s.LEAVE="leave"})(_m||(_m={}));class $r{constructor(n,r){this.channel=n,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const l=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(l.state,{},d=>{const{onJoin:f,onLeave:h,onSync:b}=this.caller;this.joinRef=this.channel._joinRef(),this.state=$r.syncState(this.state,d,f,h),this.pendingDiffs.forEach(g=>{this.state=$r.syncDiff(this.state,g,f,h)}),this.pendingDiffs=[],b()}),this.channel._on(l.diff,{},d=>{const{onJoin:f,onLeave:h,onSync:b}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(d):(this.state=$r.syncDiff(this.state,d,f,h),b())}),this.onJoin((d,f,h)=>{this.channel._trigger("presence",{event:"join",key:d,currentPresences:f,newPresences:h})}),this.onLeave((d,f,h)=>{this.channel._trigger("presence",{event:"leave",key:d,currentPresences:f,leftPresences:h})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(n,r,l,d){const f=this.cloneDeep(n),h=this.transformState(r),b={},g={};return this.map(f,(p,w)=>{h[p]||(g[p]=w)}),this.map(h,(p,w)=>{const S=f[p];if(S){const j=w.map(P=>P.presence_ref),E=S.map(P=>P.presence_ref),x=w.filter(P=>E.indexOf(P.presence_ref)<0),B=S.filter(P=>j.indexOf(P.presence_ref)<0);x.length>0&&(b[p]=x),B.length>0&&(g[p]=B)}else b[p]=w}),this.syncDiff(f,{joins:b,leaves:g},l,d)}static syncDiff(n,r,l,d){const{joins:f,leaves:h}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return l||(l=()=>{}),d||(d=()=>{}),this.map(f,(b,g)=>{var p;const w=(p=n[b])!==null&&p!==void 0?p:[];if(n[b]=this.cloneDeep(g),w.length>0){const S=n[b].map(E=>E.presence_ref),j=w.filter(E=>S.indexOf(E.presence_ref)<0);n[b].unshift(...j)}l(b,w,g)}),this.map(h,(b,g)=>{let p=n[b];if(!p)return;const w=g.map(S=>S.presence_ref);p=p.filter(S=>w.indexOf(S.presence_ref)<0),n[b]=p,d(b,p,g),p.length===0&&delete n[b]}),n}static map(n,r){return Object.getOwnPropertyNames(n).map(l=>r(l,n[l]))}static transformState(n){return n=this.cloneDeep(n),Object.getOwnPropertyNames(n).reduce((r,l)=>{const d=n[l];return"metas"in d?r[l]=d.metas.map(f=>(f.presence_ref=f.phx_ref,delete f.phx_ref,delete f.phx_ref_prev,f)):r[l]=d,r},{})}static cloneDeep(n){return JSON.parse(JSON.stringify(n))}onJoin(n){this.caller.onJoin=n}onLeave(n){this.caller.onLeave=n}onSync(n){this.caller.onSync=n}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Sm;(function(s){s.ALL="*",s.INSERT="INSERT",s.UPDATE="UPDATE",s.DELETE="DELETE"})(Sm||(Sm={}));var Hr;(function(s){s.BROADCAST="broadcast",s.PRESENCE="presence",s.POSTGRES_CHANGES="postgres_changes",s.SYSTEM="system"})(Hr||(Hr={}));var En;(function(s){s.SUBSCRIBED="SUBSCRIBED",s.TIMED_OUT="TIMED_OUT",s.CLOSED="CLOSED",s.CHANNEL_ERROR="CHANNEL_ERROR"})(En||(En={}));class Ui{constructor(n,r={config:{}},l){var d,f;if(this.topic=n,this.params=r,this.socket=l,this.bindings={},this.state=Gt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=n.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new Fu(this,Pa.join,this.params,this.timeout),this.rejoinTimer=new Km(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=Gt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(h=>h.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=Gt.closed,this.socket._remove(this)}),this._onError(h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=Gt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=Gt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",h=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,h),this.state=Gt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Pa.reply,{},(h,b)=>{this._trigger(this._replyEventName(b),h)}),this.presence=new $r(this),this.broadcastEndpointURL=Qm(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((f=(d=this.params.config)===null||d===void 0?void 0:d.broadcast)===null||f===void 0)&&f.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(n,r=this.timeout){var l,d,f;if(this.socket.isConnected()||this.socket.connect(),this.state==Gt.closed){const{config:{broadcast:h,presence:b,private:g}}=this.params,p=(d=(l=this.bindings.postgres_changes)===null||l===void 0?void 0:l.map(E=>E.filter))!==null&&d!==void 0?d:[],w=!!this.bindings[Hr.PRESENCE]&&this.bindings[Hr.PRESENCE].length>0||((f=this.params.config.presence)===null||f===void 0?void 0:f.enabled)===!0,S={},j={broadcast:h,presence:Object.assign(Object.assign({},b),{enabled:w}),postgres_changes:p,private:g};this.socket.accessTokenValue&&(S.access_token=this.socket.accessTokenValue),this._onError(E=>n==null?void 0:n(En.CHANNEL_ERROR,E)),this._onClose(()=>n==null?void 0:n(En.CLOSED)),this.updateJoinPayload(Object.assign({config:j},S)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:E})=>{var x;if(this.socket._isManualToken()||this.socket.setAuth(),E===void 0){n==null||n(En.SUBSCRIBED);return}else{const B=this.bindings.postgres_changes,P=(x=B==null?void 0:B.length)!==null&&x!==void 0?x:0,Y=[];for(let H=0;H<P;H++){const D=B[H],{filter:{event:Z,schema:ke,table:oe,filter:se}}=D,te=E&&E[H];if(te&&te.event===Z&&Ui.isFilterValueEqual(te.schema,ke)&&Ui.isFilterValueEqual(te.table,oe)&&Ui.isFilterValueEqual(te.filter,se))Y.push(Object.assign(Object.assign({},D),{id:te.id}));else{this.unsubscribe(),this.state=Gt.errored,n==null||n(En.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=Y,n&&n(En.SUBSCRIBED);return}}).receive("error",E=>{this.state=Gt.errored,n==null||n(En.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(E).join(", ")||"error")))}).receive("timeout",()=>{n==null||n(En.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(n,r={}){return await this.send({type:"presence",event:"track",payload:n},r.timeout||this.timeout)}async untrack(n={}){return await this.send({type:"presence",event:"untrack"},n)}on(n,r,l){return this.state===Gt.joined&&n===Hr.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(async()=>await this.subscribe())),this._on(n,r,l)}async httpSend(n,r,l={}){var d;if(r==null)return Promise.reject("Payload is required for httpSend()");const f={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(f.Authorization=`Bearer ${this.socket.accessTokenValue}`);const h={method:"POST",headers:f,body:JSON.stringify({messages:[{topic:this.subTopic,event:n,payload:r,private:this.private}]})},b=await this._fetchWithTimeout(this.broadcastEndpointURL,h,(d=l.timeout)!==null&&d!==void 0?d:this.timeout);if(b.status===202)return{success:!0};let g=b.statusText;try{const p=await b.json();g=p.error||p.message||g}catch{}return Promise.reject(new Error(g))}async send(n,r={}){var l,d;if(!this._canPush()&&n.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:f,payload:h}=n,b={apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"};this.socket.accessTokenValue&&(b.Authorization=`Bearer ${this.socket.accessTokenValue}`);const g={method:"POST",headers:b,body:JSON.stringify({messages:[{topic:this.subTopic,event:f,payload:h,private:this.private}]})};try{const p=await this._fetchWithTimeout(this.broadcastEndpointURL,g,(l=r.timeout)!==null&&l!==void 0?l:this.timeout);return await((d=p.body)===null||d===void 0?void 0:d.cancel()),p.ok?"ok":"error"}catch(p){return p.name==="AbortError"?"timed out":"error"}}else return new Promise(f=>{var h,b,g;const p=this._push(n.type,n,r.timeout||this.timeout);n.type==="broadcast"&&!(!((g=(b=(h=this.params)===null||h===void 0?void 0:h.config)===null||b===void 0?void 0:b.broadcast)===null||g===void 0)&&g.ack)&&f("ok"),p.receive("ok",()=>f("ok")),p.receive("error",()=>f("error")),p.receive("timeout",()=>f("timed out"))})}updateJoinPayload(n){this.joinPush.updatePayload(n)}unsubscribe(n=this.timeout){this.state=Gt.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Pa.close,"leave",this._joinRef())};this.joinPush.destroy();let l=null;return new Promise(d=>{l=new Fu(this,Pa.leave,{},n),l.receive("ok",()=>{r(),d("ok")}).receive("timeout",()=>{r(),d("timed out")}).receive("error",()=>{d("error")}),l.send(),this._canPush()||l.trigger("ok",{})}).finally(()=>{l==null||l.destroy()})}teardown(){this.pushBuffer.forEach(n=>n.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=Gt.closed,this.bindings={}}async _fetchWithTimeout(n,r,l){const d=new AbortController,f=setTimeout(()=>d.abort(),l),h=await this.socket.fetch(n,Object.assign(Object.assign({},r),{signal:d.signal}));return clearTimeout(f),h}_push(n,r,l=this.timeout){if(!this.joinedOnce)throw`tried to push '${n}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let d=new Fu(this,n,r,l);return this._canPush()?d.send():this._addToPushBuffer(d),d}_addToPushBuffer(n){if(n.startTimeout(),this.pushBuffer.push(n),this.pushBuffer.length>Zb){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(n,r,l){return r}_isMember(n){return this.topic===n}_joinRef(){return this.joinPush.ref}_trigger(n,r,l){var d,f;const h=n.toLocaleLowerCase(),{close:b,error:g,leave:p,join:w}=Pa;if(l&&[b,g,p,w].indexOf(h)>=0&&l!==this._joinRef())return;let j=this._onMessage(h,r,l);if(r&&!j)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(h)?(d=this.bindings.postgres_changes)===null||d===void 0||d.filter(E=>{var x,B,P;return((x=E.filter)===null||x===void 0?void 0:x.event)==="*"||((P=(B=E.filter)===null||B===void 0?void 0:B.event)===null||P===void 0?void 0:P.toLocaleLowerCase())===h}).map(E=>E.callback(j,l)):(f=this.bindings[h])===null||f===void 0||f.filter(E=>{var x,B,P,Y,H,D,Z,ke;if(["broadcast","presence","postgres_changes"].includes(h))if("id"in E){const oe=E.id,se=(x=E.filter)===null||x===void 0?void 0:x.event;return oe&&((B=r.ids)===null||B===void 0?void 0:B.includes(oe))&&(se==="*"||(se==null?void 0:se.toLocaleLowerCase())===((P=r.data)===null||P===void 0?void 0:P.type.toLocaleLowerCase()))&&(!(!((Y=E.filter)===null||Y===void 0)&&Y.table)||E.filter.table===((H=r.data)===null||H===void 0?void 0:H.table))}else{const oe=(Z=(D=E==null?void 0:E.filter)===null||D===void 0?void 0:D.event)===null||Z===void 0?void 0:Z.toLocaleLowerCase();return oe==="*"||oe===((ke=r==null?void 0:r.event)===null||ke===void 0?void 0:ke.toLocaleLowerCase())}else return E.type.toLocaleLowerCase()===h}).map(E=>{if(typeof j=="object"&&"ids"in j){const x=j.data,{schema:B,table:P,commit_timestamp:Y,type:H,errors:D}=x;j=Object.assign(Object.assign({},{schema:B,table:P,commit_timestamp:Y,eventType:H,new:{},old:{},errors:D}),this._getPayloadRecords(x))}E.callback(j,l)})}_isClosed(){return this.state===Gt.closed}_isJoined(){return this.state===Gt.joined}_isJoining(){return this.state===Gt.joining}_isLeaving(){return this.state===Gt.leaving}_replyEventName(n){return`chan_reply_${n}`}_on(n,r,l){const d=n.toLocaleLowerCase(),f={type:d,filter:r,callback:l};return this.bindings[d]?this.bindings[d].push(f):this.bindings[d]=[f],this}_off(n,r){const l=n.toLocaleLowerCase();return this.bindings[l]&&(this.bindings[l]=this.bindings[l].filter(d=>{var f;return!(((f=d.type)===null||f===void 0?void 0:f.toLocaleLowerCase())===l&&Ui.isEqual(d.filter,r))})),this}static isEqual(n,r){if(Object.keys(n).length!==Object.keys(r).length)return!1;for(const l in n)if(n[l]!==r[l])return!1;return!0}static isFilterValueEqual(n,r){return(n??void 0)===(r??void 0)}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(n){this._on(Pa.close,{},n)}_onError(n){this._on(Pa.error,{},r=>n(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(n=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=Gt.joining,this.joinPush.resend(n))}_getPayloadRecords(n){const r={new:{},old:{}};return(n.type==="INSERT"||n.type==="UPDATE")&&(r.new=wm(n.columns,n.record)),(n.type==="UPDATE"||n.type==="DELETE")&&(r.old=wm(n.columns,n.old_record)),r}}const Ku=()=>{},co={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},rv=[1e3,2e3,5e3,1e4],lv=1e4,ov=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class cv{constructor(n,r){var l;if(this.accessTokenValue=null,this.apiKey=null,this._manuallySetToken=!1,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=id,this.transport=null,this.heartbeatIntervalMs=co.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=Ku,this.ref=0,this.reconnectTimer=null,this.vsn=xm,this.logger=Ku,this.conn=null,this.sendBuffer=[],this.serializer=new Wb,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._heartbeatSentAt=null,this._resolveFetch=d=>d?(...f)=>d(...f):(...f)=>fetch(...f),!(!((l=r==null?void 0:r.params)===null||l===void 0)&&l.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${n}/${rd.websocket}`,this.httpEndpoint=Qm(n),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=Kb.createWebSocket(this.endpointURL())}catch(n){this._setConnectionState("disconnected");const r=n.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(n,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const l=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(l),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(n?this.conn.close(n,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(n){const r=await n.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const n=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),n}log(n,r,l){this.logger(n,r,l)}connectionState(){switch(this.conn&&this.conn.readyState){case ss.connecting:return zs.Connecting;case ss.open:return zs.Open;case ss.closing:return zs.Closing;default:return zs.Closed}}isConnected(){return this.connectionState()===zs.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(n,r={config:{}}){const l=`realtime:${n}`,d=this.getChannels().find(f=>f.topic===l);if(d)return d;{const f=new Ui(`realtime:${n}`,r,this);return this.channels.push(f),f}}push(n){const{topic:r,event:l,payload:d,ref:f}=n,h=()=>{this.encode(n,b=>{var g;(g=this.conn)===null||g===void 0||g.send(b)})};this.log("push",`${r} ${l} (${f})`,d),this.isConnected()?h():this.sendBuffer.push(h)}async setAuth(n=null){this._authPromise=this._performAuth(n);try{await this._authPromise}finally{this._authPromise=null}}_isManualToken(){return this._manuallySetToken}async sendHeartbeat(){var n;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this._heartbeatSentAt=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(n=this.conn)===null||n===void 0||n.close(Jb,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},co.HEARTBEAT_TIMEOUT_FALLBACK);return}this._heartbeatSentAt=Date.now(),this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(n){this.heartbeatCallback=n}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(n=>n()),this.sendBuffer=[])}_makeRef(){let n=this.ref+1;return n===this.ref?this.ref=0:this.ref=n,this.ref.toString()}_leaveOpenTopic(n){let r=this.channels.find(l=>l.topic===n&&(l._isJoined()||l._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${n}"`),r.unsubscribe())}_remove(n){this.channels=this.channels.filter(r=>r.topic!==n.topic)}_onConnMessage(n){this.decode(n.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply"&&r.ref&&r.ref===this.pendingHeartbeatRef){const p=this._heartbeatSentAt?Date.now()-this._heartbeatSentAt:void 0;try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error",p)}catch(w){this.log("error","error in heartbeat callback",w)}this._heartbeatSentAt=null,this.pendingHeartbeatRef=null}const{topic:l,event:d,payload:f,ref:h}=r,b=h?`(${h})`:"",g=f.status||"";this.log("receive",`${g} ${l} ${d} ${b}`.trim(),f),this.channels.filter(p=>p._isMember(l)).forEach(p=>p._trigger(d,f,h)),this._triggerStateCallbacks("message",r)})}_clearTimer(n){var r;n==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):n==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=n=>this._onConnError(n),this.conn.onmessage=n=>this._onConnMessage(n),this.conn.onclose=n=>this._onConnClose(n),this.conn.readyState===ss.open&&this._onConnOpen())}_teardownConnection(){if(this.conn){if(this.conn.readyState===ss.open||this.conn.readyState===ss.connecting)try{this.conn.close()}catch(n){this.log("error","Error closing connection",n)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this._terminateWorker(),this.channels.forEach(n=>n.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const n=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(n),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this._terminateWorker()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_terminateWorker(){this.workerRef&&(this.log("worker","terminating worker"),this.workerRef.terminate(),this.workerRef=void 0)}_onConnClose(n){var r;this._setConnectionState("disconnected"),this.log("transport","close",n),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",n)}_onConnError(n){this._setConnectionState("disconnected"),this.log("transport",`${n}`),this._triggerChanError(),this._triggerStateCallbacks("error",n)}_triggerChanError(){this.channels.forEach(n=>n._trigger(Pa.error))}_appendParams(n,r){if(Object.keys(r).length===0)return n;const l=n.match(/\?/)?"&":"?",d=new URLSearchParams(r);return`${n}${l}${d}`}_workerObjectUrl(n){let r;if(n)r=n;else{const l=new Blob([ov],{type:"application/javascript"});r=URL.createObjectURL(l)}return r}_setConnectionState(n,r=!1){this._connectionState=n,n==="connecting"?this._wasManualDisconnect=!1:n==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(n=null){let r,l=!1;if(n)r=n,l=!0;else if(this.accessToken)try{r=await this.accessToken()}catch(d){this.log("error","Error fetching access token from callback",d),r=this.accessTokenValue}else r=this.accessTokenValue;l?this._manuallySetToken=!0:this.accessToken&&(this._manuallySetToken=!1),this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(d=>{const f={access_token:r,version:Qb};r&&d.updateJoinPayload(f),d.joinedOnce&&d._isJoined()&&d._push(Pa.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(n="general"){this._isManualToken()||this.setAuth().catch(r=>{this.log("error",`Error setting auth in ${n}`,r)})}_triggerStateCallbacks(n,r){try{this.stateChangeCallbacks[n].forEach(l=>{try{l(r)}catch(d){this.log("error",`error in ${n} callback`,d)}})}catch(l){this.log("error",`error triggering ${n} callbacks`,l)}}_setupReconnectionTimer(){this.reconnectTimer=new Km(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},co.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(n){var r,l,d,f,h,b,g,p,w,S,j,E;switch(this.transport=(r=n==null?void 0:n.transport)!==null&&r!==void 0?r:null,this.timeout=(l=n==null?void 0:n.timeout)!==null&&l!==void 0?l:id,this.heartbeatIntervalMs=(d=n==null?void 0:n.heartbeatIntervalMs)!==null&&d!==void 0?d:co.HEARTBEAT_INTERVAL,this.worker=(f=n==null?void 0:n.worker)!==null&&f!==void 0?f:!1,this.accessToken=(h=n==null?void 0:n.accessToken)!==null&&h!==void 0?h:null,this.heartbeatCallback=(b=n==null?void 0:n.heartbeatCallback)!==null&&b!==void 0?b:Ku,this.vsn=(g=n==null?void 0:n.vsn)!==null&&g!==void 0?g:xm,n!=null&&n.params&&(this.params=n.params),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(p=n==null?void 0:n.reconnectAfterMs)!==null&&p!==void 0?p:(x=>rv[x-1]||lv),this.vsn){case Xb:this.encode=(w=n==null?void 0:n.encode)!==null&&w!==void 0?w:((x,B)=>B(JSON.stringify(x))),this.decode=(S=n==null?void 0:n.decode)!==null&&S!==void 0?S:((x,B)=>B(JSON.parse(x)));break;case Fm:this.encode=(j=n==null?void 0:n.encode)!==null&&j!==void 0?j:this.serializer.encode.bind(this.serializer),this.decode=(E=n==null?void 0:n.decode)!==null&&E!==void 0?E:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=n==null?void 0:n.workerUrl}}}var Vr=class extends Error{constructor(s,n){var r;super(s),this.name="IcebergError",this.status=n.status,this.icebergType=n.icebergType,this.icebergCode=n.icebergCode,this.details=n.details,this.isCommitStateUnknown=n.icebergType==="CommitStateUnknownException"||[500,502,504].includes(n.status)&&((r=n.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function uv(s,n,r){const l=new URL(n,s);if(r)for(const[d,f]of Object.entries(r))f!==void 0&&l.searchParams.set(d,f);return l.toString()}async function dv(s){return!s||s.type==="none"?{}:s.type==="bearer"?{Authorization:`Bearer ${s.token}`}:s.type==="header"?{[s.name]:s.value}:s.type==="custom"?await s.getHeaders():{}}function fv(s){const n=s.fetchImpl??globalThis.fetch;return{async request({method:r,path:l,query:d,body:f,headers:h}){const b=uv(s.baseUrl,l,d),g=await dv(s.auth),p=await n(b,{method:r,headers:{...f?{"Content-Type":"application/json"}:{},...g,...h},body:f?JSON.stringify(f):void 0}),w=await p.text(),S=(p.headers.get("content-type")||"").includes("application/json"),j=S&&w?JSON.parse(w):w;if(!p.ok){const E=S?j:void 0,x=E==null?void 0:E.error;throw new Vr((x==null?void 0:x.message)??`Request failed with status ${p.status}`,{status:p.status,icebergType:x==null?void 0:x.type,icebergCode:x==null?void 0:x.code,details:E})}return{status:p.status,headers:p.headers,data:j}}}}function uo(s){return s.join("")}var hv=class{constructor(s,n=""){this.client=s,this.prefix=n}async listNamespaces(s){const n=s?{parent:uo(s.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:n})).data.namespaces.map(l=>({namespace:l}))}async createNamespace(s,n){const r={namespace:s.namespace,properties:n==null?void 0:n.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(s){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${uo(s.namespace)}`})}async loadNamespaceMetadata(s){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${uo(s.namespace)}`})).data.properties}}async namespaceExists(s){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${uo(s.namespace)}`}),!0}catch(n){if(n instanceof Vr&&n.status===404)return!1;throw n}}async createNamespaceIfNotExists(s,n){try{return await this.createNamespace(s,n)}catch(r){if(r instanceof Vr&&r.status===409)return;throw r}}};function Ti(s){return s.join("")}var mv=class{constructor(s,n="",r){this.client=s,this.prefix=n,this.accessDelegation=r}async listTables(s){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ti(s.namespace)}/tables`})).data.identifiers}async createTable(s,n){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ti(s.namespace)}/tables`,body:n,headers:r})).data.metadata}async updateTable(s,n){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ti(s.namespace)}/tables/${s.name}`,body:n});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(s,n){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ti(s.namespace)}/tables/${s.name}`,query:{purgeRequested:String((n==null?void 0:n.purge)??!1)}})}async loadTable(s){const n={};return this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ti(s.namespace)}/tables/${s.name}`,headers:n})).data.metadata}async tableExists(s){const n={};this.accessDelegation&&(n["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ti(s.namespace)}/tables/${s.name}`,headers:n}),!0}catch(r){if(r instanceof Vr&&r.status===404)return!1;throw r}}async createTableIfNotExists(s,n){try{return await this.createTable(s,n)}catch(r){if(r instanceof Vr&&r.status===409)return await this.loadTable({namespace:s.namespace,name:n.name});throw r}}},pv=class{constructor(s){var l;let n="v1";s.catalogName&&(n+=`/${s.catalogName}`);const r=s.baseUrl.endsWith("/")?s.baseUrl:`${s.baseUrl}/`;this.client=fv({baseUrl:r,auth:s.auth,fetchImpl:s.fetch}),this.accessDelegation=(l=s.accessDelegation)==null?void 0:l.join(","),this.namespaceOps=new hv(this.client,n),this.tableOps=new mv(this.client,n,this.accessDelegation)}async listNamespaces(s){return this.namespaceOps.listNamespaces(s)}async createNamespace(s,n){return this.namespaceOps.createNamespace(s,n)}async dropNamespace(s){await this.namespaceOps.dropNamespace(s)}async loadNamespaceMetadata(s){return this.namespaceOps.loadNamespaceMetadata(s)}async listTables(s){return this.tableOps.listTables(s)}async createTable(s,n){return this.tableOps.createTable(s,n)}async updateTable(s,n){return this.tableOps.updateTable(s,n)}async dropTable(s,n){await this.tableOps.dropTable(s,n)}async loadTable(s){return this.tableOps.loadTable(s)}async namespaceExists(s){return this.namespaceOps.namespaceExists(s)}async tableExists(s){return this.tableOps.tableExists(s)}async createNamespaceIfNotExists(s,n){return this.namespaceOps.createNamespaceIfNotExists(s,n)}async createTableIfNotExists(s,n){return this.tableOps.createTableIfNotExists(s,n)}},Co=class extends Error{constructor(s){super(s),this.__isStorageError=!0,this.name="StorageError"}};function jt(s){return typeof s=="object"&&s!==null&&"__isStorageError"in s}var gv=class extends Co{constructor(s,n,r){super(s),this.name="StorageApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},od=class extends Co{constructor(s,n){super(s),this.name="StorageUnknownError",this.originalError=n}};const Nd=s=>s?(...n)=>s(...n):(...n)=>fetch(...n),bv=()=>Response,cd=s=>{if(Array.isArray(s))return s.map(r=>cd(r));if(typeof s=="function"||s!==Object(s))return s;const n={};return Object.entries(s).forEach(([r,l])=>{const d=r.replace(/([-_][a-z])/gi,f=>f.toUpperCase().replace(/[-_]/g,""));n[d]=cd(l)}),n},vv=s=>{if(typeof s!="object"||s===null)return!1;const n=Object.getPrototypeOf(s);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},yv=s=>!s||typeof s!="string"||s.length===0||s.length>100||s.trim()!==s||s.includes("/")||s.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(s);function Pr(s){"@babel/helpers - typeof";return Pr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Pr(s)}function xv(s,n){if(Pr(s)!="object"||!s)return s;var r=s[Symbol.toPrimitive];if(r!==void 0){var l=r.call(s,n);if(Pr(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(s)}function wv(s){var n=xv(s,"string");return Pr(n)=="symbol"?n:n+""}function _v(s,n,r){return(n=wv(n))in s?Object.defineProperty(s,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):s[n]=r,s}function jm(s,n){var r=Object.keys(s);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(s);n&&(l=l.filter(function(d){return Object.getOwnPropertyDescriptor(s,d).enumerable})),r.push.apply(r,l)}return r}function Te(s){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?jm(Object(r),!0).forEach(function(l){_v(s,l,r[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(r)):jm(Object(r)).forEach(function(l){Object.defineProperty(s,l,Object.getOwnPropertyDescriptor(r,l))})}return s}const Yu=s=>{var n;return s.msg||s.message||s.error_description||(typeof s.error=="string"?s.error:(n=s.error)===null||n===void 0?void 0:n.message)||JSON.stringify(s)},Sv=async(s,n,r)=>{s instanceof await bv()&&!(r!=null&&r.noResolveJson)?s.json().then(l=>{const d=s.status||500,f=(l==null?void 0:l.statusCode)||d+"";n(new gv(Yu(l),d,f))}).catch(l=>{n(new od(Yu(l),l))}):n(new od(Yu(s),s))},jv=(s,n,r,l)=>{const d={method:s,headers:(n==null?void 0:n.headers)||{}};return s==="GET"||!l?d:(vv(l)?(d.headers=Te({"Content-Type":"application/json"},n==null?void 0:n.headers),d.body=JSON.stringify(l)):d.body=l,n!=null&&n.duplex&&(d.duplex=n.duplex),Te(Te({},d),r))};async function Jr(s,n,r,l,d,f){return new Promise((h,b)=>{s(r,jv(n,l,d,f)).then(g=>{if(!g.ok)throw g;return l!=null&&l.noResolveJson?g:g.json()}).then(g=>h(g)).catch(g=>Sv(g,b,l))})}async function Fr(s,n,r,l){return Jr(s,"GET",n,r,l)}async function Va(s,n,r,l,d){return Jr(s,"POST",n,l,d,r)}async function ud(s,n,r,l,d){return Jr(s,"PUT",n,l,d,r)}async function Nv(s,n,r,l){return Jr(s,"HEAD",n,Te(Te({},r),{},{noResolveJson:!0}),l)}async function Ed(s,n,r,l,d){return Jr(s,"DELETE",n,l,d,r)}var Ev=class{constructor(s,n){this.downloadFn=s,this.shouldThrowOnError=n}then(s,n){return this.execute().then(s,n)}async execute(){var s=this;try{return{data:(await s.downloadFn()).body,error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(jt(n))return{data:null,error:n};throw n}}};let Xm;Xm=Symbol.toStringTag;var Tv=class{constructor(s,n){this.downloadFn=s,this.shouldThrowOnError=n,this[Xm]="BlobDownloadBuilder",this.promise=null}asStream(){return new Ev(this.downloadFn,this.shouldThrowOnError)}then(s,n){return this.getPromise().then(s,n)}catch(s){return this.getPromise().catch(s)}finally(s){return this.getPromise().finally(s)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}async execute(){var s=this;try{return{data:await(await s.downloadFn()).blob(),error:null}}catch(n){if(s.shouldThrowOnError)throw n;if(jt(n))return{data:null,error:n};throw n}}};const kv={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Nm={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};var Av=class{constructor(s,n={},r,l){this.shouldThrowOnError=!1,this.url=s,this.headers=n,this.bucketId=r,this.fetch=Nd(l)}throwOnError(){return this.shouldThrowOnError=!0,this}async uploadOrUpdate(s,n,r,l){var d=this;try{let f;const h=Te(Te({},Nm),l);let b=Te(Te({},d.headers),s==="POST"&&{"x-upsert":String(h.upsert)});const g=h.metadata;typeof Blob<"u"&&r instanceof Blob?(f=new FormData,f.append("cacheControl",h.cacheControl),g&&f.append("metadata",d.encodeMetadata(g)),f.append("",r)):typeof FormData<"u"&&r instanceof FormData?(f=r,f.has("cacheControl")||f.append("cacheControl",h.cacheControl),g&&!f.has("metadata")&&f.append("metadata",d.encodeMetadata(g))):(f=r,b["cache-control"]=`max-age=${h.cacheControl}`,b["content-type"]=h.contentType,g&&(b["x-metadata"]=d.toBase64(d.encodeMetadata(g))),(typeof ReadableStream<"u"&&f instanceof ReadableStream||f&&typeof f=="object"&&"pipe"in f&&typeof f.pipe=="function")&&!h.duplex&&(h.duplex="half")),l!=null&&l.headers&&(b=Te(Te({},b),l.headers));const p=d._removeEmptyFolders(n),w=d._getFinalPath(p),S=await(s=="PUT"?ud:Va)(d.fetch,`${d.url}/object/${w}`,f,Te({headers:b},h!=null&&h.duplex?{duplex:h.duplex}:{}));return{data:{path:p,id:S.Id,fullPath:S.Key},error:null}}catch(f){if(d.shouldThrowOnError)throw f;if(jt(f))return{data:null,error:f};throw f}}async upload(s,n,r){return this.uploadOrUpdate("POST",s,n,r)}async uploadToSignedUrl(s,n,r,l){var d=this;const f=d._removeEmptyFolders(s),h=d._getFinalPath(f),b=new URL(d.url+`/object/upload/sign/${h}`);b.searchParams.set("token",n);try{let g;const p=Te({upsert:Nm.upsert},l),w=Te(Te({},d.headers),{"x-upsert":String(p.upsert)});return typeof Blob<"u"&&r instanceof Blob?(g=new FormData,g.append("cacheControl",p.cacheControl),g.append("",r)):typeof FormData<"u"&&r instanceof FormData?(g=r,g.append("cacheControl",p.cacheControl)):(g=r,w["cache-control"]=`max-age=${p.cacheControl}`,w["content-type"]=p.contentType),{data:{path:f,fullPath:(await ud(d.fetch,b.toString(),g,{headers:w})).Key},error:null}}catch(g){if(d.shouldThrowOnError)throw g;if(jt(g))return{data:null,error:g};throw g}}async createSignedUploadUrl(s,n){var r=this;try{let l=r._getFinalPath(s);const d=Te({},r.headers);n!=null&&n.upsert&&(d["x-upsert"]="true");const f=await Va(r.fetch,`${r.url}/object/upload/sign/${l}`,{},{headers:d}),h=new URL(r.url+f.url),b=h.searchParams.get("token");if(!b)throw new Co("No token returned by API");return{data:{signedUrl:h.toString(),path:s,token:b},error:null}}catch(l){if(r.shouldThrowOnError)throw l;if(jt(l))return{data:null,error:l};throw l}}async update(s,n,r){return this.uploadOrUpdate("PUT",s,n,r)}async move(s,n,r){var l=this;try{return{data:await Va(l.fetch,`${l.url}/object/move`,{bucketId:l.bucketId,sourceKey:s,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:l.headers}),error:null}}catch(d){if(l.shouldThrowOnError)throw d;if(jt(d))return{data:null,error:d};throw d}}async copy(s,n,r){var l=this;try{return{data:{path:(await Va(l.fetch,`${l.url}/object/copy`,{bucketId:l.bucketId,sourceKey:s,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:l.headers})).Key},error:null}}catch(d){if(l.shouldThrowOnError)throw d;if(jt(d))return{data:null,error:d};throw d}}async createSignedUrl(s,n,r){var l=this;try{let d=l._getFinalPath(s),f=await Va(l.fetch,`${l.url}/object/sign/${d}`,Te({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:l.headers});const h=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return f={signedUrl:encodeURI(`${l.url}${f.signedURL}${h}`)},{data:f,error:null}}catch(d){if(l.shouldThrowOnError)throw d;if(jt(d))return{data:null,error:d};throw d}}async createSignedUrls(s,n,r){var l=this;try{const d=await Va(l.fetch,`${l.url}/object/sign/${l.bucketId}`,{expiresIn:n,paths:s},{headers:l.headers}),f=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:d.map(h=>Te(Te({},h),{},{signedUrl:h.signedURL?encodeURI(`${l.url}${h.signedURL}${f}`):null})),error:null}}catch(d){if(l.shouldThrowOnError)throw d;if(jt(d))return{data:null,error:d};throw d}}download(s,n){const r=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),d=l?`?${l}`:"",f=this._getFinalPath(s),h=()=>Fr(this.fetch,`${this.url}/${r}/${f}${d}`,{headers:this.headers,noResolveJson:!0});return new Tv(h,this.shouldThrowOnError)}async info(s){var n=this;const r=n._getFinalPath(s);try{return{data:cd(await Fr(n.fetch,`${n.url}/object/info/${r}`,{headers:n.headers})),error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(jt(l))return{data:null,error:l};throw l}}async exists(s){var n=this;const r=n._getFinalPath(s);try{return await Nv(n.fetch,`${n.url}/object/${r}`,{headers:n.headers}),{data:!0,error:null}}catch(l){if(n.shouldThrowOnError)throw l;if(jt(l)&&l instanceof od){const d=l.originalError;if([400,404].includes(d==null?void 0:d.status))return{data:!1,error:l}}throw l}}getPublicUrl(s,n){const r=this._getFinalPath(s),l=[],d=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";d!==""&&l.push(d);const f=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",h=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});h!==""&&l.push(h);let b=l.join("&");return b!==""&&(b=`?${b}`),{data:{publicUrl:encodeURI(`${this.url}/${f}/public/${r}${b}`)}}}async remove(s){var n=this;try{return{data:await Ed(n.fetch,`${n.url}/object/${n.bucketId}`,{prefixes:s},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(jt(r))return{data:null,error:r};throw r}}async list(s,n,r){var l=this;try{const d=Te(Te(Te({},kv),n),{},{prefix:s||""});return{data:await Va(l.fetch,`${l.url}/object/list/${l.bucketId}`,d,{headers:l.headers},r),error:null}}catch(d){if(l.shouldThrowOnError)throw d;if(jt(d))return{data:null,error:d};throw d}}async listV2(s,n){var r=this;try{const l=Te({},s);return{data:await Va(r.fetch,`${r.url}/object/list-v2/${r.bucketId}`,l,{headers:r.headers},n),error:null}}catch(l){if(r.shouldThrowOnError)throw l;if(jt(l))return{data:null,error:l};throw l}}encodeMetadata(s){return JSON.stringify(s)}toBase64(s){return typeof Buffer<"u"?Buffer.from(s).toString("base64"):btoa(s)}_getFinalPath(s){return`${this.bucketId}/${s.replace(/^\/+/,"")}`}_removeEmptyFolders(s){return s.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(s){const n=[];return s.width&&n.push(`width=${s.width}`),s.height&&n.push(`height=${s.height}`),s.resize&&n.push(`resize=${s.resize}`),s.format&&n.push(`format=${s.format}`),s.quality&&n.push(`quality=${s.quality}`),n.join("&")}};const Jm="2.91.1",Zm={"X-Client-Info":`storage-js/${Jm}`};var Ov=class{constructor(s,n={},r,l){this.shouldThrowOnError=!1;const d=new URL(s);l!=null&&l.useNewHostname&&/supabase\.(co|in|red)$/.test(d.hostname)&&!d.hostname.includes("storage.supabase.")&&(d.hostname=d.hostname.replace("supabase.","storage.supabase.")),this.url=d.href.replace(/\/$/,""),this.headers=Te(Te({},Zm),n),this.fetch=Nd(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async listBuckets(s){var n=this;try{const r=n.listBucketOptionsToQueryString(s);return{data:await Fr(n.fetch,`${n.url}/bucket${r}`,{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(jt(r))return{data:null,error:r};throw r}}async getBucket(s){var n=this;try{return{data:await Fr(n.fetch,`${n.url}/bucket/${s}`,{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(jt(r))return{data:null,error:r};throw r}}async createBucket(s,n={public:!1}){var r=this;try{return{data:await Va(r.fetch,`${r.url}/bucket`,{id:s,name:s,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:r.headers}),error:null}}catch(l){if(r.shouldThrowOnError)throw l;if(jt(l))return{data:null,error:l};throw l}}async updateBucket(s,n){var r=this;try{return{data:await ud(r.fetch,`${r.url}/bucket/${s}`,{id:s,name:s,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:r.headers}),error:null}}catch(l){if(r.shouldThrowOnError)throw l;if(jt(l))return{data:null,error:l};throw l}}async emptyBucket(s){var n=this;try{return{data:await Va(n.fetch,`${n.url}/bucket/${s}/empty`,{},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(jt(r))return{data:null,error:r};throw r}}async deleteBucket(s){var n=this;try{return{data:await Ed(n.fetch,`${n.url}/bucket/${s}`,{},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(jt(r))return{data:null,error:r};throw r}}listBucketOptionsToQueryString(s){const n={};return s&&("limit"in s&&(n.limit=String(s.limit)),"offset"in s&&(n.offset=String(s.offset)),s.search&&(n.search=s.search),s.sortColumn&&(n.sortColumn=s.sortColumn),s.sortOrder&&(n.sortOrder=s.sortOrder)),Object.keys(n).length>0?"?"+new URLSearchParams(n).toString():""}},Rv=class{constructor(s,n={},r){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=Te(Te({},Zm),n),this.fetch=Nd(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(s){var n=this;try{return{data:await Va(n.fetch,`${n.url}/bucket`,{name:s},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(jt(r))return{data:null,error:r};throw r}}async listBuckets(s){var n=this;try{const r=new URLSearchParams;(s==null?void 0:s.limit)!==void 0&&r.set("limit",s.limit.toString()),(s==null?void 0:s.offset)!==void 0&&r.set("offset",s.offset.toString()),s!=null&&s.sortColumn&&r.set("sortColumn",s.sortColumn),s!=null&&s.sortOrder&&r.set("sortOrder",s.sortOrder),s!=null&&s.search&&r.set("search",s.search);const l=r.toString(),d=l?`${n.url}/bucket?${l}`:`${n.url}/bucket`;return{data:await Fr(n.fetch,d,{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(jt(r))return{data:null,error:r};throw r}}async deleteBucket(s){var n=this;try{return{data:await Ed(n.fetch,`${n.url}/bucket/${s}`,{},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(jt(r))return{data:null,error:r};throw r}}from(s){var n=this;if(!yv(s))throw new Co("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");const r=new pv({baseUrl:this.url,catalogName:s,auth:{type:"custom",getHeaders:async()=>n.headers},fetch:this.fetch}),l=this.shouldThrowOnError;return new Proxy(r,{get(d,f){const h=d[f];return typeof h!="function"?h:async(...b)=>{try{return{data:await h.apply(d,b),error:null}}catch(g){if(l)throw g;return{data:null,error:g}}}}})}};const Td={"X-Client-Info":`storage-js/${Jm}`,"Content-Type":"application/json"};var Wm=class extends Error{constructor(s){super(s),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}};function ja(s){return typeof s=="object"&&s!==null&&"__isStorageVectorsError"in s}var Qu=class extends Wm{constructor(s,n,r){super(s),this.name="StorageVectorsApiError",this.status=n,this.statusCode=r}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}},Cv=class extends Wm{constructor(s,n){super(s),this.name="StorageVectorsUnknownError",this.originalError=n}};const kd=s=>s?(...n)=>s(...n):(...n)=>fetch(...n),zv=s=>{if(typeof s!="object"||s===null)return!1;const n=Object.getPrototypeOf(s);return(n===null||n===Object.prototype||Object.getPrototypeOf(n)===null)&&!(Symbol.toStringTag in s)&&!(Symbol.iterator in s)},Em=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),Mv=async(s,n,r)=>{if(s&&typeof s=="object"&&"status"in s&&"ok"in s&&typeof s.status=="number"&&!(r!=null&&r.noResolveJson)){const l=s.status||500,d=s;if(typeof d.json=="function")d.json().then(f=>{const h=(f==null?void 0:f.statusCode)||(f==null?void 0:f.code)||l+"";n(new Qu(Em(f),l,h))}).catch(()=>{const f=l+"";n(new Qu(d.statusText||`HTTP ${l} error`,l,f))});else{const f=l+"";n(new Qu(d.statusText||`HTTP ${l} error`,l,f))}}else n(new Cv(Em(s),s))},Dv=(s,n,r,l)=>{const d={method:s,headers:(n==null?void 0:n.headers)||{}};return l?(zv(l)?(d.headers=Te({"Content-Type":"application/json"},n==null?void 0:n.headers),d.body=JSON.stringify(l)):d.body=l,Te(Te({},d),r)):d};async function Uv(s,n,r,l,d,f){return new Promise((h,b)=>{s(r,Dv(n,l,d,f)).then(g=>{if(!g.ok)throw g;if(l!=null&&l.noResolveJson)return g;const p=g.headers.get("content-type");return!p||!p.includes("application/json")?{}:g.json()}).then(g=>h(g)).catch(g=>Mv(g,b,l))})}async function Na(s,n,r,l,d){return Uv(s,"POST",n,l,d,r)}var Bv=class{constructor(s,n={},r){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=Te(Te({},Td),n),this.fetch=kd(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createIndex(s){var n=this;try{return{data:await Na(n.fetch,`${n.url}/CreateIndex`,s,{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(ja(r))return{data:null,error:r};throw r}}async getIndex(s,n){var r=this;try{return{data:await Na(r.fetch,`${r.url}/GetIndex`,{vectorBucketName:s,indexName:n},{headers:r.headers}),error:null}}catch(l){if(r.shouldThrowOnError)throw l;if(ja(l))return{data:null,error:l};throw l}}async listIndexes(s){var n=this;try{return{data:await Na(n.fetch,`${n.url}/ListIndexes`,s,{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(ja(r))return{data:null,error:r};throw r}}async deleteIndex(s,n){var r=this;try{return{data:await Na(r.fetch,`${r.url}/DeleteIndex`,{vectorBucketName:s,indexName:n},{headers:r.headers})||{},error:null}}catch(l){if(r.shouldThrowOnError)throw l;if(ja(l))return{data:null,error:l};throw l}}},Lv=class{constructor(s,n={},r){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=Te(Te({},Td),n),this.fetch=kd(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async putVectors(s){var n=this;try{if(s.vectors.length<1||s.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:await Na(n.fetch,`${n.url}/PutVectors`,s,{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(ja(r))return{data:null,error:r};throw r}}async getVectors(s){var n=this;try{return{data:await Na(n.fetch,`${n.url}/GetVectors`,s,{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(ja(r))return{data:null,error:r};throw r}}async listVectors(s){var n=this;try{if(s.segmentCount!==void 0){if(s.segmentCount<1||s.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(s.segmentIndex!==void 0&&(s.segmentIndex<0||s.segmentIndex>=s.segmentCount))throw new Error(`segmentIndex must be between 0 and ${s.segmentCount-1}`)}return{data:await Na(n.fetch,`${n.url}/ListVectors`,s,{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(ja(r))return{data:null,error:r};throw r}}async queryVectors(s){var n=this;try{return{data:await Na(n.fetch,`${n.url}/QueryVectors`,s,{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(ja(r))return{data:null,error:r};throw r}}async deleteVectors(s){var n=this;try{if(s.keys.length<1||s.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:await Na(n.fetch,`${n.url}/DeleteVectors`,s,{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(ja(r))return{data:null,error:r};throw r}}},qv=class{constructor(s,n={},r){this.shouldThrowOnError=!1,this.url=s.replace(/\/$/,""),this.headers=Te(Te({},Td),n),this.fetch=kd(r)}throwOnError(){return this.shouldThrowOnError=!0,this}async createBucket(s){var n=this;try{return{data:await Na(n.fetch,`${n.url}/CreateVectorBucket`,{vectorBucketName:s},{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(ja(r))return{data:null,error:r};throw r}}async getBucket(s){var n=this;try{return{data:await Na(n.fetch,`${n.url}/GetVectorBucket`,{vectorBucketName:s},{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(ja(r))return{data:null,error:r};throw r}}async listBuckets(s={}){var n=this;try{return{data:await Na(n.fetch,`${n.url}/ListVectorBuckets`,s,{headers:n.headers}),error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(ja(r))return{data:null,error:r};throw r}}async deleteBucket(s){var n=this;try{return{data:await Na(n.fetch,`${n.url}/DeleteVectorBucket`,{vectorBucketName:s},{headers:n.headers})||{},error:null}}catch(r){if(n.shouldThrowOnError)throw r;if(ja(r))return{data:null,error:r};throw r}}},Iv=class extends qv{constructor(s,n={}){super(s,n.headers||{},n.fetch)}from(s){return new $v(this.url,this.headers,s,this.fetch)}async createBucket(s){var n=()=>super.createBucket,r=this;return n().call(r,s)}async getBucket(s){var n=()=>super.getBucket,r=this;return n().call(r,s)}async listBuckets(s={}){var n=()=>super.listBuckets,r=this;return n().call(r,s)}async deleteBucket(s){var n=()=>super.deleteBucket,r=this;return n().call(r,s)}},$v=class extends Bv{constructor(s,n,r,l){super(s,n,l),this.vectorBucketName=r}async createIndex(s){var n=()=>super.createIndex,r=this;return n().call(r,Te(Te({},s),{},{vectorBucketName:r.vectorBucketName}))}async listIndexes(s={}){var n=()=>super.listIndexes,r=this;return n().call(r,Te(Te({},s),{},{vectorBucketName:r.vectorBucketName}))}async getIndex(s){var n=()=>super.getIndex,r=this;return n().call(r,r.vectorBucketName,s)}async deleteIndex(s){var n=()=>super.deleteIndex,r=this;return n().call(r,r.vectorBucketName,s)}index(s){return new Hv(this.url,this.headers,this.vectorBucketName,s,this.fetch)}},Hv=class extends Lv{constructor(s,n,r,l,d){super(s,n,d),this.vectorBucketName=r,this.indexName=l}async putVectors(s){var n=()=>super.putVectors,r=this;return n().call(r,Te(Te({},s),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async getVectors(s){var n=()=>super.getVectors,r=this;return n().call(r,Te(Te({},s),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async listVectors(s={}){var n=()=>super.listVectors,r=this;return n().call(r,Te(Te({},s),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async queryVectors(s){var n=()=>super.queryVectors,r=this;return n().call(r,Te(Te({},s),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}async deleteVectors(s){var n=()=>super.deleteVectors,r=this;return n().call(r,Te(Te({},s),{},{vectorBucketName:r.vectorBucketName,indexName:r.indexName}))}},Gv=class extends Ov{constructor(s,n={},r,l){super(s,n,r,l)}from(s){return new Av(this.url,this.headers,s,this.fetch)}get vectors(){return new Iv(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new Rv(this.url+"/iceberg",this.headers,this.fetch)}};const ep="2.91.1",Mi=30*1e3,dd=3,Xu=dd*Mi,Vv="http://localhost:9999",Pv="supabase.auth.token",Fv={"X-Client-Info":`gotrue-js/${ep}`},fd="X-Supabase-Api-Version",tp={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Kv=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Yv=600*1e3;class Kr extends Error{constructor(n,r,l){super(n),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=l}}function ge(s){return typeof s=="object"&&s!==null&&"__isAuthError"in s}class Qv extends Kr{constructor(n,r,l){super(n,r,l),this.name="AuthApiError",this.status=r,this.code=l}}function Xv(s){return ge(s)&&s.name==="AuthApiError"}class Ms extends Kr{constructor(n,r){super(n),this.name="AuthUnknownError",this.originalError=r}}class Tn extends Kr{constructor(n,r,l,d){super(n,l,d),this.name=r,this.status=l}}class Sa extends Tn{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Jv(s){return ge(s)&&s.name==="AuthSessionMissingError"}class ki extends Tn{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class fo extends Tn{constructor(n){super(n,"AuthInvalidCredentialsError",400,void 0)}}class ho extends Tn{constructor(n,r=null){super(n,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Zv(s){return ge(s)&&s.name==="AuthImplicitGrantRedirectError"}class Tm extends Tn{constructor(n,r=null){super(n,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Wv extends Tn{constructor(){super("PKCE code verifier not found in storage. This can happen if the auth flow was initiated in a different browser or device, or if the storage was cleared. For SSR frameworks (Next.js, SvelteKit, etc.), use @supabase/ssr on both the server and client to store the code verifier in cookies.","AuthPKCECodeVerifierMissingError",400,"pkce_code_verifier_not_found")}}class hd extends Tn{constructor(n,r){super(n,"AuthRetryableFetchError",r,void 0)}}function Ju(s){return ge(s)&&s.name==="AuthRetryableFetchError"}class km extends Tn{constructor(n,r,l){super(n,"AuthWeakPasswordError",r,"weak_password"),this.reasons=l}}class md extends Tn{constructor(n){super(n,"AuthInvalidJwtError",400,"invalid_jwt")}}const jo="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Am=` 	
\r=`.split(""),ey=(()=>{const s=new Array(128);for(let n=0;n<s.length;n+=1)s[n]=-1;for(let n=0;n<Am.length;n+=1)s[Am[n].charCodeAt(0)]=-2;for(let n=0;n<jo.length;n+=1)s[jo[n].charCodeAt(0)]=n;return s})();function Om(s,n,r){if(s!==null)for(n.queue=n.queue<<8|s,n.queuedBits+=8;n.queuedBits>=6;){const l=n.queue>>n.queuedBits-6&63;r(jo[l]),n.queuedBits-=6}else if(n.queuedBits>0)for(n.queue=n.queue<<6-n.queuedBits,n.queuedBits=6;n.queuedBits>=6;){const l=n.queue>>n.queuedBits-6&63;r(jo[l]),n.queuedBits-=6}}function ap(s,n,r){const l=ey[s];if(l>-1)for(n.queue=n.queue<<6|l,n.queuedBits+=6;n.queuedBits>=8;)r(n.queue>>n.queuedBits-8&255),n.queuedBits-=8;else{if(l===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(s)}"`)}}function Rm(s){const n=[],r=h=>{n.push(String.fromCodePoint(h))},l={utf8seq:0,codepoint:0},d={queue:0,queuedBits:0},f=h=>{ny(h,l,r)};for(let h=0;h<s.length;h+=1)ap(s.charCodeAt(h),d,f);return n.join("")}function ty(s,n){if(s<=127){n(s);return}else if(s<=2047){n(192|s>>6),n(128|s&63);return}else if(s<=65535){n(224|s>>12),n(128|s>>6&63),n(128|s&63);return}else if(s<=1114111){n(240|s>>18),n(128|s>>12&63),n(128|s>>6&63),n(128|s&63);return}throw new Error(`Unrecognized Unicode codepoint: ${s.toString(16)}`)}function ay(s,n){for(let r=0;r<s.length;r+=1){let l=s.charCodeAt(r);if(l>55295&&l<=56319){const d=(l-55296)*1024&65535;l=(s.charCodeAt(r+1)-56320&65535|d)+65536,r+=1}ty(l,n)}}function ny(s,n,r){if(n.utf8seq===0){if(s<=127){r(s);return}for(let l=1;l<6;l+=1)if((s>>7-l&1)===0){n.utf8seq=l;break}if(n.utf8seq===2)n.codepoint=s&31;else if(n.utf8seq===3)n.codepoint=s&15;else if(n.utf8seq===4)n.codepoint=s&7;else throw new Error("Invalid UTF-8 sequence");n.utf8seq-=1}else if(n.utf8seq>0){if(s<=127)throw new Error("Invalid UTF-8 sequence");n.codepoint=n.codepoint<<6|s&63,n.utf8seq-=1,n.utf8seq===0&&r(n.codepoint)}}function Li(s){const n=[],r={queue:0,queuedBits:0},l=d=>{n.push(d)};for(let d=0;d<s.length;d+=1)ap(s.charCodeAt(d),r,l);return new Uint8Array(n)}function sy(s){const n=[];return ay(s,r=>n.push(r)),new Uint8Array(n)}function Us(s){const n=[],r={queue:0,queuedBits:0},l=d=>{n.push(d)};return s.forEach(d=>Om(d,r,l)),Om(null,r,l),n.join("")}function iy(s){return Math.round(Date.now()/1e3)+s}function ry(){return Symbol("auth-callback")}const ea=()=>typeof window<"u"&&typeof document<"u",ks={tested:!1,writable:!1},np=()=>{if(!ea())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(ks.tested)return ks.writable;const s=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(s,s),globalThis.localStorage.removeItem(s),ks.tested=!0,ks.writable=!0}catch{ks.tested=!0,ks.writable=!1}return ks.writable};function ly(s){const n={},r=new URL(s);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((d,f)=>{n[f]=d})}catch{}return r.searchParams.forEach((l,d)=>{n[d]=l}),n}const sp=s=>s?(...n)=>s(...n):(...n)=>fetch(...n),oy=s=>typeof s=="object"&&s!==null&&"status"in s&&"ok"in s&&"json"in s&&typeof s.json=="function",Di=async(s,n,r)=>{await s.setItem(n,JSON.stringify(r))},As=async(s,n)=>{const r=await s.getItem(n);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Wt=async(s,n)=>{await s.removeItem(n)};class zo{constructor(){this.promise=new zo.promiseConstructor((n,r)=>{this.resolve=n,this.reject=r})}}zo.promiseConstructor=Promise;function Zu(s){const n=s.split(".");if(n.length!==3)throw new md("Invalid JWT structure");for(let l=0;l<n.length;l++)if(!Kv.test(n[l]))throw new md("JWT not in base64url format");return{header:JSON.parse(Rm(n[0])),payload:JSON.parse(Rm(n[1])),signature:Li(n[2]),raw:{header:n[0],payload:n[1]}}}async function cy(s){return await new Promise(n=>{setTimeout(()=>n(null),s)})}function uy(s,n){return new Promise((l,d)=>{(async()=>{for(let f=0;f<1/0;f++)try{const h=await s(f);if(!n(f,null,h)){l(h);return}}catch(h){if(!n(f,h)){d(h);return}}})()})}function dy(s){return("0"+s.toString(16)).substr(-2)}function fy(){const n=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",l=r.length;let d="";for(let f=0;f<56;f++)d+=r.charAt(Math.floor(Math.random()*l));return d}return crypto.getRandomValues(n),Array.from(n,dy).join("")}async function hy(s){const r=new TextEncoder().encode(s),l=await crypto.subtle.digest("SHA-256",r),d=new Uint8Array(l);return Array.from(d).map(f=>String.fromCharCode(f)).join("")}async function my(s){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),s;const r=await hy(s);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Ai(s,n,r=!1){const l=fy();let d=l;r&&(d+="/PASSWORD_RECOVERY"),await Di(s,`${n}-code-verifier`,d);const f=await my(l);return[f,l===f?"plain":"s256"]}const py=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function gy(s){const n=s.headers.get(fd);if(!n||!n.match(py))return null;try{return new Date(`${n}T00:00:00.0Z`)}catch{return null}}function by(s){if(!s)throw new Error("Missing exp claim");const n=Math.floor(Date.now()/1e3);if(s<=n)throw new Error("JWT has expired")}function vy(s){switch(s){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const yy=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Oi(s){if(!yy.test(s))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function Wu(){const s={};return new Proxy(s,{get:(n,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const l=r.toString();if(l==="Symbol(Symbol.toPrimitive)"||l==="Symbol(Symbol.toStringTag)"||l==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(n,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(n,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function xy(s,n){return new Proxy(s,{get:(r,l,d)=>{if(l==="__isInsecureUserWarningProxy")return!0;if(typeof l=="symbol"){const f=l.toString();if(f==="Symbol(Symbol.toPrimitive)"||f==="Symbol(Symbol.toStringTag)"||f==="Symbol(util.inspect.custom)"||f==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,l,d)}return!n.value&&typeof l=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),n.value=!0),Reflect.get(r,l,d)}})}function Cm(s){return JSON.parse(JSON.stringify(s))}const Cs=s=>s.msg||s.message||s.error_description||s.error||JSON.stringify(s),wy=[502,503,504];async function zm(s){var n;if(!oy(s))throw new hd(Cs(s),0);if(wy.includes(s.status))throw new hd(Cs(s),s.status);let r;try{r=await s.json()}catch(f){throw new Ms(Cs(f),f)}let l;const d=gy(s);if(d&&d.getTime()>=tp["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?l=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(l=r.error_code),l){if(l==="weak_password")throw new km(Cs(r),s.status,((n=r.weak_password)===null||n===void 0?void 0:n.reasons)||[]);if(l==="session_not_found")throw new Sa}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((f,h)=>f&&typeof h=="string",!0))throw new km(Cs(r),s.status,r.weak_password.reasons);throw new Qv(Cs(r),s.status||500,l)}const _y=(s,n,r,l)=>{const d={method:s,headers:(n==null?void 0:n.headers)||{}};return s==="GET"?d:(d.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},n==null?void 0:n.headers),d.body=JSON.stringify(l),Object.assign(Object.assign({},d),r))};async function Ee(s,n,r,l){var d;const f=Object.assign({},l==null?void 0:l.headers);f[fd]||(f[fd]=tp["2024-01-01"].name),l!=null&&l.jwt&&(f.Authorization=`Bearer ${l.jwt}`);const h=(d=l==null?void 0:l.query)!==null&&d!==void 0?d:{};l!=null&&l.redirectTo&&(h.redirect_to=l.redirectTo);const b=Object.keys(h).length?"?"+new URLSearchParams(h).toString():"",g=await Sy(s,n,r+b,{headers:f,noResolveJson:l==null?void 0:l.noResolveJson},{},l==null?void 0:l.body);return l!=null&&l.xform?l==null?void 0:l.xform(g):{data:Object.assign({},g),error:null}}async function Sy(s,n,r,l,d,f){const h=_y(n,l,d,f);let b;try{b=await s(r,Object.assign({},h))}catch(g){throw console.error(g),new hd(Cs(g),0)}if(b.ok||await zm(b),l!=null&&l.noResolveJson)return b;try{return await b.json()}catch(g){await zm(g)}}function Ga(s){var n;let r=null;Ey(s)&&(r=Object.assign({},s),s.expires_at||(r.expires_at=iy(s.expires_in)));const l=(n=s.user)!==null&&n!==void 0?n:s;return{data:{session:r,user:l},error:null}}function Mm(s){const n=Ga(s);return!n.error&&s.weak_password&&typeof s.weak_password=="object"&&Array.isArray(s.weak_password.reasons)&&s.weak_password.reasons.length&&s.weak_password.message&&typeof s.weak_password.message=="string"&&s.weak_password.reasons.reduce((r,l)=>r&&typeof l=="string",!0)&&(n.data.weak_password=s.weak_password),n}function is(s){var n;return{data:{user:(n=s.user)!==null&&n!==void 0?n:s},error:null}}function jy(s){return{data:s,error:null}}function Ny(s){const{action_link:n,email_otp:r,hashed_token:l,redirect_to:d,verification_type:f}=s,h=Ro(s,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),b={action_link:n,email_otp:r,hashed_token:l,redirect_to:d,verification_type:f},g=Object.assign({},h);return{data:{properties:b,user:g},error:null}}function Dm(s){return s}function Ey(s){return s.access_token&&s.refresh_token&&s.expires_in}const ed=["global","local","others"];class Ty{constructor({url:n="",headers:r={},fetch:l}){this.url=n,this.headers=r,this.fetch=sp(l),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(n,r=ed[0]){if(ed.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${ed.join(", ")}`);try{return await Ee(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:n,noResolveJson:!0}),{data:null,error:null}}catch(l){if(ge(l))return{data:null,error:l};throw l}}async inviteUserByEmail(n,r={}){try{return await Ee(this.fetch,"POST",`${this.url}/invite`,{body:{email:n,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:is})}catch(l){if(ge(l))return{data:{user:null},error:l};throw l}}async generateLink(n){try{const{options:r}=n,l=Ro(n,["options"]),d=Object.assign(Object.assign({},l),r);return"newEmail"in l&&(d.new_email=l==null?void 0:l.newEmail,delete d.newEmail),await Ee(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:d,headers:this.headers,xform:Ny,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(ge(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(n){try{return await Ee(this.fetch,"POST",`${this.url}/admin/users`,{body:n,headers:this.headers,xform:is})}catch(r){if(ge(r))return{data:{user:null},error:r};throw r}}async listUsers(n){var r,l,d,f,h,b,g;try{const p={nextPage:null,lastPage:0,total:0},w=await Ee(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(r=n==null?void 0:n.page)===null||r===void 0?void 0:r.toString())!==null&&l!==void 0?l:"",per_page:(f=(d=n==null?void 0:n.perPage)===null||d===void 0?void 0:d.toString())!==null&&f!==void 0?f:""},xform:Dm});if(w.error)throw w.error;const S=await w.json(),j=(h=w.headers.get("x-total-count"))!==null&&h!==void 0?h:0,E=(g=(b=w.headers.get("link"))===null||b===void 0?void 0:b.split(","))!==null&&g!==void 0?g:[];return E.length>0&&(E.forEach(x=>{const B=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),P=JSON.parse(x.split(";")[1].split("=")[1]);p[`${P}Page`]=B}),p.total=parseInt(j)),{data:Object.assign(Object.assign({},S),p),error:null}}catch(p){if(ge(p))return{data:{users:[]},error:p};throw p}}async getUserById(n){Oi(n);try{return await Ee(this.fetch,"GET",`${this.url}/admin/users/${n}`,{headers:this.headers,xform:is})}catch(r){if(ge(r))return{data:{user:null},error:r};throw r}}async updateUserById(n,r){Oi(n);try{return await Ee(this.fetch,"PUT",`${this.url}/admin/users/${n}`,{body:r,headers:this.headers,xform:is})}catch(l){if(ge(l))return{data:{user:null},error:l};throw l}}async deleteUser(n,r=!1){Oi(n);try{return await Ee(this.fetch,"DELETE",`${this.url}/admin/users/${n}`,{headers:this.headers,body:{should_soft_delete:r},xform:is})}catch(l){if(ge(l))return{data:{user:null},error:l};throw l}}async _listFactors(n){Oi(n.userId);try{const{data:r,error:l}=await Ee(this.fetch,"GET",`${this.url}/admin/users/${n.userId}/factors`,{headers:this.headers,xform:d=>({data:{factors:d},error:null})});return{data:r,error:l}}catch(r){if(ge(r))return{data:null,error:r};throw r}}async _deleteFactor(n){Oi(n.userId),Oi(n.id);try{return{data:await Ee(this.fetch,"DELETE",`${this.url}/admin/users/${n.userId}/factors/${n.id}`,{headers:this.headers}),error:null}}catch(r){if(ge(r))return{data:null,error:r};throw r}}async _listOAuthClients(n){var r,l,d,f,h,b,g;try{const p={nextPage:null,lastPage:0,total:0},w=await Ee(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(l=(r=n==null?void 0:n.page)===null||r===void 0?void 0:r.toString())!==null&&l!==void 0?l:"",per_page:(f=(d=n==null?void 0:n.perPage)===null||d===void 0?void 0:d.toString())!==null&&f!==void 0?f:""},xform:Dm});if(w.error)throw w.error;const S=await w.json(),j=(h=w.headers.get("x-total-count"))!==null&&h!==void 0?h:0,E=(g=(b=w.headers.get("link"))===null||b===void 0?void 0:b.split(","))!==null&&g!==void 0?g:[];return E.length>0&&(E.forEach(x=>{const B=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),P=JSON.parse(x.split(";")[1].split("=")[1]);p[`${P}Page`]=B}),p.total=parseInt(j)),{data:Object.assign(Object.assign({},S),p),error:null}}catch(p){if(ge(p))return{data:{clients:[]},error:p};throw p}}async _createOAuthClient(n){try{return await Ee(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:n,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ge(r))return{data:null,error:r};throw r}}async _getOAuthClient(n){try{return await Ee(this.fetch,"GET",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ge(r))return{data:null,error:r};throw r}}async _updateOAuthClient(n,r){try{return await Ee(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${n}`,{body:r,headers:this.headers,xform:l=>({data:l,error:null})})}catch(l){if(ge(l))return{data:null,error:l};throw l}}async _deleteOAuthClient(n){try{return await Ee(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${n}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(ge(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(n){try{return await Ee(this.fetch,"POST",`${this.url}/admin/oauth/clients/${n}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(ge(r))return{data:null,error:r};throw r}}}function Um(s={}){return{getItem:n=>s[n]||null,setItem:(n,r)=>{s[n]=r},removeItem:n=>{delete s[n]}}}const Ri={debug:!!(globalThis&&np()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class ip extends Error{constructor(n){super(n),this.isAcquireTimeout=!0}}class ky extends ip{}async function Ay(s,n,r){Ri.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",s,n);const l=new globalThis.AbortController;return n>0&&setTimeout(()=>{l.abort(),Ri.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",s)},n),await Promise.resolve().then(()=>globalThis.navigator.locks.request(s,n===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:l.signal},async d=>{if(d){Ri.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",s,d.name);try{return await r()}finally{Ri.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",s,d.name)}}else{if(n===0)throw Ri.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",s),new ky(`Acquiring an exclusive Navigator LockManager lock "${s}" immediately failed`);if(Ri.debug)try{const f=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(f,null,"  "))}catch(f){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",f)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function Oy(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function rp(s){if(!/^0x[a-fA-F0-9]{40}$/.test(s))throw new Error(`@supabase/auth-js: Address "${s}" is invalid.`);return s.toLowerCase()}function Ry(s){return parseInt(s,16)}function Cy(s){const n=new TextEncoder().encode(s);return"0x"+Array.from(n,l=>l.toString(16).padStart(2,"0")).join("")}function zy(s){var n;const{chainId:r,domain:l,expirationTime:d,issuedAt:f=new Date,nonce:h,notBefore:b,requestId:g,resources:p,scheme:w,uri:S,version:j}=s;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!l)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(h&&h.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${h}`);if(!S)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(j!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${j}`);if(!((n=s.statement)===null||n===void 0)&&n.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${s.statement}`)}const E=rp(s.address),x=w?`${w}://${l}`:l,B=s.statement?`${s.statement}
`:"",P=`${x} wants you to sign in with your Ethereum account:
${E}

${B}`;let Y=`URI: ${S}
Version: ${j}
Chain ID: ${r}${h?`
Nonce: ${h}`:""}
Issued At: ${f.toISOString()}`;if(d&&(Y+=`
Expiration Time: ${d.toISOString()}`),b&&(Y+=`
Not Before: ${b.toISOString()}`),g&&(Y+=`
Request ID: ${g}`),p){let H=`
Resources:`;for(const D of p){if(!D||typeof D!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${D}`);H+=`
- ${D}`}Y+=H}return`${P}
${Y}`}class It extends Error{constructor({message:n,code:r,cause:l,name:d}){var f;super(n,{cause:l}),this.__isWebAuthnError=!0,this.name=(f=d??(l instanceof Error?l.name:void 0))!==null&&f!==void 0?f:"Unknown Error",this.code=r}}class No extends It{constructor(n,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:n}),this.name="WebAuthnUnknownError",this.originalError=r}}function My({error:s,options:n}){var r,l,d;const{publicKey:f}=n;if(!f)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(n.signal instanceof AbortSignal)return new It({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else if(s.name==="ConstraintError"){if(((r=f.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new It({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:s});if(n.mediation==="conditional"&&((l=f.authenticatorSelection)===null||l===void 0?void 0:l.userVerification)==="required")return new It({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:s});if(((d=f.authenticatorSelection)===null||d===void 0?void 0:d.userVerification)==="required")return new It({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:s})}else{if(s.name==="InvalidStateError")return new It({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:s});if(s.name==="NotAllowedError")return new It({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="NotSupportedError")return f.pubKeyCredParams.filter(b=>b.type==="public-key").length===0?new It({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:s}):new It({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:s});if(s.name==="SecurityError"){const h=window.location.hostname;if(lp(h)){if(f.rp.id!==h)return new It({message:`The RP ID "${f.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new It({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="TypeError"){if(f.user.id.byteLength<1||f.user.id.byteLength>64)return new It({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:s})}else if(s.name==="UnknownError")return new It({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return new It({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s})}function Dy({error:s,options:n}){const{publicKey:r}=n;if(!r)throw Error("options was missing required publicKey property");if(s.name==="AbortError"){if(n.signal instanceof AbortSignal)return new It({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:s})}else{if(s.name==="NotAllowedError")return new It({message:s.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s});if(s.name==="SecurityError"){const l=window.location.hostname;if(lp(l)){if(r.rpId!==l)return new It({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:s})}else return new It({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:s})}else if(s.name==="UnknownError")return new It({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:s})}return new It({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:s})}class Uy{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const n=new AbortController;return this.controller=n,n.signal}cancelCeremony(){if(this.controller){const n=new Error("Manually cancelling existing WebAuthn API call");n.name="AbortError",this.controller.abort(n),this.controller=void 0}}}const By=new Uy;function Ly(s){if(!s)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(s);const{challenge:n,user:r,excludeCredentials:l}=s,d=Ro(s,["challenge","user","excludeCredentials"]),f=Li(n).buffer,h=Object.assign(Object.assign({},r),{id:Li(r.id).buffer}),b=Object.assign(Object.assign({},d),{challenge:f,user:h});if(l&&l.length>0){b.excludeCredentials=new Array(l.length);for(let g=0;g<l.length;g++){const p=l[g];b.excludeCredentials[g]=Object.assign(Object.assign({},p),{id:Li(p.id).buffer,type:p.type||"public-key",transports:p.transports})}}return b}function qy(s){if(!s)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(s);const{challenge:n,allowCredentials:r}=s,l=Ro(s,["challenge","allowCredentials"]),d=Li(n).buffer,f=Object.assign(Object.assign({},l),{challenge:d});if(r&&r.length>0){f.allowCredentials=new Array(r.length);for(let h=0;h<r.length;h++){const b=r[h];f.allowCredentials[h]=Object.assign(Object.assign({},b),{id:Li(b.id).buffer,type:b.type||"public-key",transports:b.transports})}}return f}function Iy(s){var n;if("toJSON"in s&&typeof s.toJSON=="function")return s.toJSON();const r=s;return{id:s.id,rawId:s.id,response:{attestationObject:Us(new Uint8Array(s.response.attestationObject)),clientDataJSON:Us(new Uint8Array(s.response.clientDataJSON))},type:"public-key",clientExtensionResults:s.getClientExtensionResults(),authenticatorAttachment:(n=r.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function $y(s){var n;if("toJSON"in s&&typeof s.toJSON=="function")return s.toJSON();const r=s,l=s.getClientExtensionResults(),d=s.response;return{id:s.id,rawId:s.id,response:{authenticatorData:Us(new Uint8Array(d.authenticatorData)),clientDataJSON:Us(new Uint8Array(d.clientDataJSON)),signature:Us(new Uint8Array(d.signature)),userHandle:d.userHandle?Us(new Uint8Array(d.userHandle)):void 0},type:"public-key",clientExtensionResults:l,authenticatorAttachment:(n=r.authenticatorAttachment)!==null&&n!==void 0?n:void 0}}function lp(s){return s==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(s)}function Bm(){var s,n;return!!(ea()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((s=navigator==null?void 0:navigator.credentials)===null||s===void 0?void 0:s.create)=="function"&&typeof((n=navigator==null?void 0:navigator.credentials)===null||n===void 0?void 0:n.get)=="function")}async function Hy(s){try{const n=await navigator.credentials.create(s);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new No("Browser returned unexpected credential type",n)}:{data:null,error:new No("Empty credential response",n)}}catch(n){return{data:null,error:My({error:n,options:s})}}}async function Gy(s){try{const n=await navigator.credentials.get(s);return n?n instanceof PublicKeyCredential?{data:n,error:null}:{data:null,error:new No("Browser returned unexpected credential type",n)}:{data:null,error:new No("Empty credential response",n)}}catch(n){return{data:null,error:Dy({error:n,options:s})}}}const Vy={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Py={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function Eo(...s){const n=d=>d!==null&&typeof d=="object"&&!Array.isArray(d),r=d=>d instanceof ArrayBuffer||ArrayBuffer.isView(d),l={};for(const d of s)if(d)for(const f in d){const h=d[f];if(h!==void 0)if(Array.isArray(h))l[f]=h;else if(r(h))l[f]=h;else if(n(h)){const b=l[f];n(b)?l[f]=Eo(b,h):l[f]=Eo(h)}else l[f]=h}return l}function Fy(s,n){return Eo(Vy,s,n||{})}function Ky(s,n){return Eo(Py,s,n||{})}class Yy{constructor(n){this.client=n,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(n){return this.client.mfa.enroll(Object.assign(Object.assign({},n),{factorType:"webauthn"}))}async _challenge({factorId:n,webauthn:r,friendlyName:l,signal:d},f){try{const{data:h,error:b}=await this.client.mfa.challenge({factorId:n,webauthn:r});if(!h)return{data:null,error:b};const g=d??By.createNewAbortSignal();if(h.webauthn.type==="create"){const{user:p}=h.webauthn.credential_options.publicKey;p.name||(p.name=`${p.id}:${l}`),p.displayName||(p.displayName=p.name)}switch(h.webauthn.type){case"create":{const p=Fy(h.webauthn.credential_options.publicKey,f==null?void 0:f.create),{data:w,error:S}=await Hy({publicKey:p,signal:g});return w?{data:{factorId:n,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:w}},error:null}:{data:null,error:S}}case"request":{const p=Ky(h.webauthn.credential_options.publicKey,f==null?void 0:f.request),{data:w,error:S}=await Gy(Object.assign(Object.assign({},h.webauthn.credential_options),{publicKey:p,signal:g}));return w?{data:{factorId:n,challengeId:h.id,webauthn:{type:h.webauthn.type,credential_response:w}},error:null}:{data:null,error:S}}}}catch(h){return ge(h)?{data:null,error:h}:{data:null,error:new Ms("Unexpected error in challenge",h)}}}async _verify({challengeId:n,factorId:r,webauthn:l}){return this.client.mfa.verify({factorId:r,challengeId:n,webauthn:l})}async _authenticate({factorId:n,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:d}={}},f){if(!r)return{data:null,error:new Kr("rpId is required for WebAuthn authentication")};try{if(!Bm())return{data:null,error:new Ms("Browser does not support WebAuthn",null)};const{data:h,error:b}=await this.challenge({factorId:n,webauthn:{rpId:r,rpOrigins:l},signal:d},{request:f});if(!h)return{data:null,error:b};const{webauthn:g}=h;return this._verify({factorId:n,challengeId:h.challengeId,webauthn:{type:g.type,rpId:r,rpOrigins:l,credential_response:g.credential_response}})}catch(h){return ge(h)?{data:null,error:h}:{data:null,error:new Ms("Unexpected error in authenticate",h)}}}async _register({friendlyName:n,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:l=typeof window<"u"?[window.location.origin]:void 0,signal:d}={}},f){if(!r)return{data:null,error:new Kr("rpId is required for WebAuthn registration")};try{if(!Bm())return{data:null,error:new Ms("Browser does not support WebAuthn",null)};const{data:h,error:b}=await this._enroll({friendlyName:n});if(!h)return await this.client.mfa.listFactors().then(w=>{var S;return(S=w.data)===null||S===void 0?void 0:S.all.find(j=>j.factor_type==="webauthn"&&j.friendly_name===n&&j.status!=="unverified")}).then(w=>w?this.client.mfa.unenroll({factorId:w==null?void 0:w.id}):void 0),{data:null,error:b};const{data:g,error:p}=await this._challenge({factorId:h.id,friendlyName:h.friendly_name,webauthn:{rpId:r,rpOrigins:l},signal:d},{create:f});return g?this._verify({factorId:h.id,challengeId:g.challengeId,webauthn:{rpId:r,rpOrigins:l,type:g.webauthn.type,credential_response:g.webauthn.credential_response}}):{data:null,error:p}}catch(h){return ge(h)?{data:null,error:h}:{data:null,error:new Ms("Unexpected error in register",h)}}}}Oy();const Qy={url:Vv,storageKey:Pv,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Fv,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1,lockAcquireTimeout:1e4};async function Lm(s,n,r){return await r()}const Ci={};class Yr{get jwks(){var n,r;return(r=(n=Ci[this.storageKey])===null||n===void 0?void 0:n.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(n){Ci[this.storageKey]=Object.assign(Object.assign({},Ci[this.storageKey]),{jwks:n})}get jwks_cached_at(){var n,r;return(r=(n=Ci[this.storageKey])===null||n===void 0?void 0:n.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(n){Ci[this.storageKey]=Object.assign(Object.assign({},Ci[this.storageKey]),{cachedAt:n})}constructor(n){var r,l,d;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.autoRefreshTickTimeout=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const f=Object.assign(Object.assign({},Qy),n);if(this.storageKey=f.storageKey,this.instanceID=(r=Yr.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,Yr.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!f.debug,typeof f.debug=="function"&&(this.logger=f.debug),this.instanceID>0&&ea()){const h=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(h),this.logDebugMessages&&console.trace(h)}if(this.persistSession=f.persistSession,this.autoRefreshToken=f.autoRefreshToken,this.admin=new Ty({url:f.url,headers:f.headers,fetch:f.fetch}),this.url=f.url,this.headers=f.headers,this.fetch=sp(f.fetch),this.lock=f.lock||Lm,this.detectSessionInUrl=f.detectSessionInUrl,this.flowType=f.flowType,this.hasCustomAuthorizationHeader=f.hasCustomAuthorizationHeader,this.throwOnError=f.throwOnError,this.lockAcquireTimeout=f.lockAcquireTimeout,f.lock?this.lock=f.lock:this.persistSession&&ea()&&(!((l=globalThis==null?void 0:globalThis.navigator)===null||l===void 0)&&l.locks)?this.lock=Ay:this.lock=Lm,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Yy(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(f.storage?this.storage=f.storage:np()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Um(this.memoryStorage)),f.userStorage&&(this.userStorage=f.userStorage)):(this.memoryStorage={},this.storage=Um(this.memoryStorage)),ea()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(h){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",h)}(d=this.broadcastChannel)===null||d===void 0||d.addEventListener("message",async h=>{this._debug("received broadcast notification from other tab or client",h),await this._notifyAllSubscribers(h.data.event,h.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(n){if(this.throwOnError&&n&&n.error)throw n.error;return n}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${ep}) ${new Date().toISOString()}`}_debug(...n){return this.logDebugMessages&&this.logger(this._logPrefix(),...n),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(this.lockAcquireTimeout,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var n;try{let r={},l="none";if(ea()&&(r=ly(window.location.href),this._isImplicitGrantCallback(r)?l="implicit":await this._isPKCECallback(r)&&(l="pkce")),ea()&&this.detectSessionInUrl&&l!=="none"){const{data:d,error:f}=await this._getSessionFromURL(r,l);if(f){if(this._debug("#_initialize()","error detecting session from URL",f),Zv(f)){const g=(n=f.details)===null||n===void 0?void 0:n.code;if(g==="identity_already_exists"||g==="identity_not_found"||g==="single_identity_not_deletable")return{error:f}}return{error:f}}const{session:h,redirectType:b}=d;return this._debug("#_initialize()","detected session in URL",h,"redirect type",b),await this._saveSession(h),setTimeout(async()=>{b==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",h):await this._notifyAllSubscribers("SIGNED_IN",h)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return ge(r)?this._returnResult({error:r}):this._returnResult({error:new Ms("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(n){var r,l,d;try{const f=await Ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(l=(r=n==null?void 0:n.options)===null||r===void 0?void 0:r.data)!==null&&l!==void 0?l:{},gotrue_meta_security:{captcha_token:(d=n==null?void 0:n.options)===null||d===void 0?void 0:d.captchaToken}},xform:Ga}),{data:h,error:b}=f;if(b||!h)return this._returnResult({data:{user:null,session:null},error:b});const g=h.session,p=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:p,session:g},error:null})}catch(f){if(ge(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async signUp(n){var r,l,d;try{let f;if("email"in n){const{email:w,password:S,options:j}=n;let E=null,x=null;this.flowType==="pkce"&&([E,x]=await Ai(this.storage,this.storageKey)),f=await Ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:j==null?void 0:j.emailRedirectTo,body:{email:w,password:S,data:(r=j==null?void 0:j.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:j==null?void 0:j.captchaToken},code_challenge:E,code_challenge_method:x},xform:Ga})}else if("phone"in n){const{phone:w,password:S,options:j}=n;f=await Ee(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:w,password:S,data:(l=j==null?void 0:j.data)!==null&&l!==void 0?l:{},channel:(d=j==null?void 0:j.channel)!==null&&d!==void 0?d:"sms",gotrue_meta_security:{captcha_token:j==null?void 0:j.captchaToken}},xform:Ga})}else throw new fo("You must provide either an email or phone number and a password");const{data:h,error:b}=f;if(b||!h)return await Wt(this.storage,`${this.storageKey}-code-verifier`),this._returnResult({data:{user:null,session:null},error:b});const g=h.session,p=h.user;return h.session&&(await this._saveSession(h.session),await this._notifyAllSubscribers("SIGNED_IN",g)),this._returnResult({data:{user:p,session:g},error:null})}catch(f){if(await Wt(this.storage,`${this.storageKey}-code-verifier`),ge(f))return this._returnResult({data:{user:null,session:null},error:f});throw f}}async signInWithPassword(n){try{let r;if("email"in n){const{email:f,password:h,options:b}=n;r=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:f,password:h,gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken}},xform:Mm})}else if("phone"in n){const{phone:f,password:h,options:b}=n;r=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:f,password:h,gotrue_meta_security:{captcha_token:b==null?void 0:b.captchaToken}},xform:Mm})}else throw new fo("You must provide either an email or phone number and a password");const{data:l,error:d}=r;if(d)return this._returnResult({data:{user:null,session:null},error:d});if(!l||!l.session||!l.user){const f=new ki;return this._returnResult({data:{user:null,session:null},error:f})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:Object.assign({user:l.user,session:l.session},l.weak_password?{weakPassword:l.weak_password}:null),error:d})}catch(r){if(ge(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(n){var r,l,d,f;return await this._handleProviderSignIn(n.provider,{redirectTo:(r=n.options)===null||r===void 0?void 0:r.redirectTo,scopes:(l=n.options)===null||l===void 0?void 0:l.scopes,queryParams:(d=n.options)===null||d===void 0?void 0:d.queryParams,skipBrowserRedirect:(f=n.options)===null||f===void 0?void 0:f.skipBrowserRedirect})}async exchangeCodeForSession(n){return await this.initializePromise,this._acquireLock(this.lockAcquireTimeout,async()=>this._exchangeCodeForSession(n))}async signInWithWeb3(n){const{chain:r}=n;switch(r){case"ethereum":return await this.signInWithEthereum(n);case"solana":return await this.signInWithSolana(n);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(n){var r,l,d,f,h,b,g,p,w,S,j;let E,x;if("message"in n)E=n.message,x=n.signature;else{const{chain:B,wallet:P,statement:Y,options:H}=n;let D;if(ea())if(typeof P=="object")D=P;else{const Me=window;if("ethereum"in Me&&typeof Me.ethereum=="object"&&"request"in Me.ethereum&&typeof Me.ethereum.request=="function")D=Me.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof P!="object"||!(H!=null&&H.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");D=P}const Z=new URL((r=H==null?void 0:H.url)!==null&&r!==void 0?r:window.location.href),ke=await D.request({method:"eth_requestAccounts"}).then(Me=>Me).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!ke||ke.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const oe=rp(ke[0]);let se=(l=H==null?void 0:H.signInWithEthereum)===null||l===void 0?void 0:l.chainId;if(!se){const Me=await D.request({method:"eth_chainId"});se=Ry(Me)}const te={domain:Z.host,address:oe,statement:Y,uri:Z.href,version:"1",chainId:se,nonce:(d=H==null?void 0:H.signInWithEthereum)===null||d===void 0?void 0:d.nonce,issuedAt:(h=(f=H==null?void 0:H.signInWithEthereum)===null||f===void 0?void 0:f.issuedAt)!==null&&h!==void 0?h:new Date,expirationTime:(b=H==null?void 0:H.signInWithEthereum)===null||b===void 0?void 0:b.expirationTime,notBefore:(g=H==null?void 0:H.signInWithEthereum)===null||g===void 0?void 0:g.notBefore,requestId:(p=H==null?void 0:H.signInWithEthereum)===null||p===void 0?void 0:p.requestId,resources:(w=H==null?void 0:H.signInWithEthereum)===null||w===void 0?void 0:w.resources};E=zy(te),x=await D.request({method:"personal_sign",params:[Cy(E),oe]})}try{const{data:B,error:P}=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:E,signature:x},!((S=n.options)===null||S===void 0)&&S.captchaToken?{gotrue_meta_security:{captcha_token:(j=n.options)===null||j===void 0?void 0:j.captchaToken}}:null),xform:Ga});if(P)throw P;if(!B||!B.session||!B.user){const Y=new ki;return this._returnResult({data:{user:null,session:null},error:Y})}return B.session&&(await this._saveSession(B.session),await this._notifyAllSubscribers("SIGNED_IN",B.session)),this._returnResult({data:Object.assign({},B),error:P})}catch(B){if(ge(B))return this._returnResult({data:{user:null,session:null},error:B});throw B}}async signInWithSolana(n){var r,l,d,f,h,b,g,p,w,S,j,E;let x,B;if("message"in n)x=n.message,B=n.signature;else{const{chain:P,wallet:Y,statement:H,options:D}=n;let Z;if(ea())if(typeof Y=="object")Z=Y;else{const oe=window;if("solana"in oe&&typeof oe.solana=="object"&&("signIn"in oe.solana&&typeof oe.solana.signIn=="function"||"signMessage"in oe.solana&&typeof oe.solana.signMessage=="function"))Z=oe.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof Y!="object"||!(D!=null&&D.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");Z=Y}const ke=new URL((r=D==null?void 0:D.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in Z&&Z.signIn){const oe=await Z.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},D==null?void 0:D.signInWithSolana),{version:"1",domain:ke.host,uri:ke.href}),H?{statement:H}:null));let se;if(Array.isArray(oe)&&oe[0]&&typeof oe[0]=="object")se=oe[0];else if(oe&&typeof oe=="object"&&"signedMessage"in oe&&"signature"in oe)se=oe;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in se&&"signature"in se&&(typeof se.signedMessage=="string"||se.signedMessage instanceof Uint8Array)&&se.signature instanceof Uint8Array)x=typeof se.signedMessage=="string"?se.signedMessage:new TextDecoder().decode(se.signedMessage),B=se.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in Z)||typeof Z.signMessage!="function"||!("publicKey"in Z)||typeof Z!="object"||!Z.publicKey||!("toBase58"in Z.publicKey)||typeof Z.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${ke.host} wants you to sign in with your Solana account:`,Z.publicKey.toBase58(),...H?["",H,""]:[""],"Version: 1",`URI: ${ke.href}`,`Issued At: ${(d=(l=D==null?void 0:D.signInWithSolana)===null||l===void 0?void 0:l.issuedAt)!==null&&d!==void 0?d:new Date().toISOString()}`,...!((f=D==null?void 0:D.signInWithSolana)===null||f===void 0)&&f.notBefore?[`Not Before: ${D.signInWithSolana.notBefore}`]:[],...!((h=D==null?void 0:D.signInWithSolana)===null||h===void 0)&&h.expirationTime?[`Expiration Time: ${D.signInWithSolana.expirationTime}`]:[],...!((b=D==null?void 0:D.signInWithSolana)===null||b===void 0)&&b.chainId?[`Chain ID: ${D.signInWithSolana.chainId}`]:[],...!((g=D==null?void 0:D.signInWithSolana)===null||g===void 0)&&g.nonce?[`Nonce: ${D.signInWithSolana.nonce}`]:[],...!((p=D==null?void 0:D.signInWithSolana)===null||p===void 0)&&p.requestId?[`Request ID: ${D.signInWithSolana.requestId}`]:[],...!((S=(w=D==null?void 0:D.signInWithSolana)===null||w===void 0?void 0:w.resources)===null||S===void 0)&&S.length?["Resources",...D.signInWithSolana.resources.map(se=>`- ${se}`)]:[]].join(`
`);const oe=await Z.signMessage(new TextEncoder().encode(x),"utf8");if(!oe||!(oe instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");B=oe}}try{const{data:P,error:Y}=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:Us(B)},!((j=n.options)===null||j===void 0)&&j.captchaToken?{gotrue_meta_security:{captcha_token:(E=n.options)===null||E===void 0?void 0:E.captchaToken}}:null),xform:Ga});if(Y)throw Y;if(!P||!P.session||!P.user){const H=new ki;return this._returnResult({data:{user:null,session:null},error:H})}return P.session&&(await this._saveSession(P.session),await this._notifyAllSubscribers("SIGNED_IN",P.session)),this._returnResult({data:Object.assign({},P),error:Y})}catch(P){if(ge(P))return this._returnResult({data:{user:null,session:null},error:P});throw P}}async _exchangeCodeForSession(n){const r=await As(this.storage,`${this.storageKey}-code-verifier`),[l,d]=(r??"").split("/");try{if(!l&&this.flowType==="pkce")throw new Wv;const{data:f,error:h}=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:n,code_verifier:l},xform:Ga});if(await Wt(this.storage,`${this.storageKey}-code-verifier`),h)throw h;if(!f||!f.session||!f.user){const b=new ki;return this._returnResult({data:{user:null,session:null,redirectType:null},error:b})}return f.session&&(await this._saveSession(f.session),await this._notifyAllSubscribers("SIGNED_IN",f.session)),this._returnResult({data:Object.assign(Object.assign({},f),{redirectType:d??null}),error:h})}catch(f){if(await Wt(this.storage,`${this.storageKey}-code-verifier`),ge(f))return this._returnResult({data:{user:null,session:null,redirectType:null},error:f});throw f}}async signInWithIdToken(n){try{const{options:r,provider:l,token:d,access_token:f,nonce:h}=n,b=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:l,id_token:d,access_token:f,nonce:h,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Ga}),{data:g,error:p}=b;if(p)return this._returnResult({data:{user:null,session:null},error:p});if(!g||!g.session||!g.user){const w=new ki;return this._returnResult({data:{user:null,session:null},error:w})}return g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("SIGNED_IN",g.session)),this._returnResult({data:g,error:p})}catch(r){if(ge(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(n){var r,l,d,f,h;try{if("email"in n){const{email:b,options:g}=n;let p=null,w=null;this.flowType==="pkce"&&([p,w]=await Ai(this.storage,this.storageKey));const{error:S}=await Ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:b,data:(r=g==null?void 0:g.data)!==null&&r!==void 0?r:{},create_user:(l=g==null?void 0:g.shouldCreateUser)!==null&&l!==void 0?l:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:p,code_challenge_method:w},redirectTo:g==null?void 0:g.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:S})}if("phone"in n){const{phone:b,options:g}=n,{data:p,error:w}=await Ee(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:b,data:(d=g==null?void 0:g.data)!==null&&d!==void 0?d:{},create_user:(f=g==null?void 0:g.shouldCreateUser)!==null&&f!==void 0?f:!0,gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},channel:(h=g==null?void 0:g.channel)!==null&&h!==void 0?h:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:p==null?void 0:p.message_id},error:w})}throw new fo("You must provide either an email or phone number.")}catch(b){if(await Wt(this.storage,`${this.storageKey}-code-verifier`),ge(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async verifyOtp(n){var r,l;try{let d,f;"options"in n&&(d=(r=n.options)===null||r===void 0?void 0:r.redirectTo,f=(l=n.options)===null||l===void 0?void 0:l.captchaToken);const{data:h,error:b}=await Ee(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},n),{gotrue_meta_security:{captcha_token:f}}),redirectTo:d,xform:Ga});if(b)throw b;if(!h)throw new Error("An error occurred on token verification.");const g=h.session,p=h.user;return g!=null&&g.access_token&&(await this._saveSession(g),await this._notifyAllSubscribers(n.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",g)),this._returnResult({data:{user:p,session:g},error:null})}catch(d){if(ge(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}}async signInWithSSO(n){var r,l,d,f,h;try{let b=null,g=null;this.flowType==="pkce"&&([b,g]=await Ai(this.storage,this.storageKey));const p=await Ee(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in n?{provider_id:n.providerId}:null),"domain"in n?{domain:n.domain}:null),{redirect_to:(l=(r=n.options)===null||r===void 0?void 0:r.redirectTo)!==null&&l!==void 0?l:void 0}),!((d=n==null?void 0:n.options)===null||d===void 0)&&d.captchaToken?{gotrue_meta_security:{captcha_token:n.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:b,code_challenge_method:g}),headers:this.headers,xform:jy});return!((f=p.data)===null||f===void 0)&&f.url&&ea()&&!(!((h=n.options)===null||h===void 0)&&h.skipBrowserRedirect)&&window.location.assign(p.data.url),this._returnResult(p)}catch(b){if(await Wt(this.storage,`${this.storageKey}-code-verifier`),ge(b))return this._returnResult({data:null,error:b});throw b}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async n=>{const{data:{session:r},error:l}=n;if(l)throw l;if(!r)throw new Sa;const{error:d}=await Ee(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:d})})}catch(n){if(ge(n))return this._returnResult({data:{user:null,session:null},error:n});throw n}}async resend(n){try{const r=`${this.url}/resend`;if("email"in n){const{email:l,type:d,options:f}=n,{error:h}=await Ee(this.fetch,"POST",r,{headers:this.headers,body:{email:l,type:d,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},redirectTo:f==null?void 0:f.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}else if("phone"in n){const{phone:l,type:d,options:f}=n,{data:h,error:b}=await Ee(this.fetch,"POST",r,{headers:this.headers,body:{phone:l,type:d,gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:h==null?void 0:h.message_id},error:b})}throw new fo("You must provide either an email or phone number and a type")}catch(r){if(ge(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>this._useSession(async r=>r))}async _acquireLock(n,r){this._debug("#_acquireLock","begin",n);try{if(this.lockAcquired){const l=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),d=(async()=>(await l,await r()))();return this.pendingInLock.push((async()=>{try{await d}catch{}})()),d}return await this.lock(`lock:${this.storageKey}`,n,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const l=r();for(this.pendingInLock.push((async()=>{try{await l}catch{}})()),await l;this.pendingInLock.length;){const d=[...this.pendingInLock];await Promise.all(d),this.pendingInLock.splice(0,d.length)}return await l}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(n){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await n(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let n=null;const r=await As(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?n=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!n)return{data:{session:null},error:null};const l=n.expires_at?n.expires_at*1e3-Date.now()<Xu:!1;if(this._debug("#__loadSession()",`session has${l?"":" not"} expired`,"expires_at",n.expires_at),!l){if(this.userStorage){const h=await As(this.userStorage,this.storageKey+"-user");h!=null&&h.user?n.user=h.user:n.user=Wu()}if(this.storage.isServer&&n.user&&!n.user.__isUserNotAvailableProxy){const h={value:this.suppressGetSessionWarning};n.user=xy(n.user,h),h.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:n},error:null}}const{data:d,error:f}=await this._callRefreshToken(n.refresh_token);return f?this._returnResult({data:{session:null},error:f}):this._returnResult({data:{session:d},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(n){if(n)return await this._getUser(n);await this.initializePromise;const r=await this._acquireLock(this.lockAcquireTimeout,async()=>await this._getUser());return r.data.user&&(this.suppressGetSessionWarning=!0),r}async _getUser(n){try{return n?await Ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:n,xform:is}):await this._useSession(async r=>{var l,d,f;const{data:h,error:b}=r;if(b)throw b;return!(!((l=h.session)===null||l===void 0)&&l.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Sa}:await Ee(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(f=(d=h.session)===null||d===void 0?void 0:d.access_token)!==null&&f!==void 0?f:void 0,xform:is})})}catch(r){if(ge(r))return Jv(r)&&(await this._removeSession(),await Wt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(n,r={}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._updateUser(n,r))}async _updateUser(n,r={}){try{return await this._useSession(async l=>{const{data:d,error:f}=l;if(f)throw f;if(!d.session)throw new Sa;const h=d.session;let b=null,g=null;this.flowType==="pkce"&&n.email!=null&&([b,g]=await Ai(this.storage,this.storageKey));const{data:p,error:w}=await Ee(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},n),{code_challenge:b,code_challenge_method:g}),jwt:h.access_token,xform:is});if(w)throw w;return h.user=p.user,await this._saveSession(h),await this._notifyAllSubscribers("USER_UPDATED",h),this._returnResult({data:{user:h.user},error:null})})}catch(l){if(await Wt(this.storage,`${this.storageKey}-code-verifier`),ge(l))return this._returnResult({data:{user:null},error:l});throw l}}async setSession(n){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._setSession(n))}async _setSession(n){try{if(!n.access_token||!n.refresh_token)throw new Sa;const r=Date.now()/1e3;let l=r,d=!0,f=null;const{payload:h}=Zu(n.access_token);if(h.exp&&(l=h.exp,d=l<=r),d){const{data:b,error:g}=await this._callRefreshToken(n.refresh_token);if(g)return this._returnResult({data:{user:null,session:null},error:g});if(!b)return{data:{user:null,session:null},error:null};f=b}else{const{data:b,error:g}=await this._getUser(n.access_token);if(g)throw g;f={access_token:n.access_token,refresh_token:n.refresh_token,user:b.user,token_type:"bearer",expires_in:l-r,expires_at:l},await this._saveSession(f),await this._notifyAllSubscribers("SIGNED_IN",f)}return this._returnResult({data:{user:f.user,session:f},error:null})}catch(r){if(ge(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(n){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._refreshSession(n))}async _refreshSession(n){try{return await this._useSession(async r=>{var l;if(!n){const{data:h,error:b}=r;if(b)throw b;n=(l=h.session)!==null&&l!==void 0?l:void 0}if(!(n!=null&&n.refresh_token))throw new Sa;const{data:d,error:f}=await this._callRefreshToken(n.refresh_token);return f?this._returnResult({data:{user:null,session:null},error:f}):d?this._returnResult({data:{user:d.user,session:d},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(ge(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(n,r){try{if(!ea())throw new ho("No browser detected.");if(n.error||n.error_description||n.error_code)throw new ho(n.error_description||"Error in URL with unspecified error_description",{error:n.error||"unspecified_error",code:n.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Tm("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new ho("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!n.code)throw new Tm("No code detected.");const{data:H,error:D}=await this._exchangeCodeForSession(n.code);if(D)throw D;const Z=new URL(window.location.href);return Z.searchParams.delete("code"),window.history.replaceState(window.history.state,"",Z.toString()),{data:{session:H.session,redirectType:null},error:null}}const{provider_token:l,provider_refresh_token:d,access_token:f,refresh_token:h,expires_in:b,expires_at:g,token_type:p}=n;if(!f||!b||!h||!p)throw new ho("No session defined in URL");const w=Math.round(Date.now()/1e3),S=parseInt(b);let j=w+S;g&&(j=parseInt(g));const E=j-w;E*1e3<=Mi&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${E}s, should have been closer to ${S}s`);const x=j-S;w-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,j,w):w-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,j,w);const{data:B,error:P}=await this._getUser(f);if(P)throw P;const Y={provider_token:l,provider_refresh_token:d,access_token:f,expires_in:S,expires_at:j,refresh_token:h,token_type:p,user:B.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:Y,redirectType:n.type},error:null})}catch(l){if(ge(l))return this._returnResult({data:{session:null,redirectType:null},error:l});throw l}}_isImplicitGrantCallback(n){return typeof this.detectSessionInUrl=="function"?this.detectSessionInUrl(new URL(window.location.href),n):!!(n.access_token||n.error_description)}async _isPKCECallback(n){const r=await As(this.storage,`${this.storageKey}-code-verifier`);return!!(n.code&&r)}async signOut(n={scope:"global"}){return await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>await this._signOut(n))}async _signOut({scope:n}={scope:"global"}){return await this._useSession(async r=>{var l;const{data:d,error:f}=r;if(f)return this._returnResult({error:f});const h=(l=d.session)===null||l===void 0?void 0:l.access_token;if(h){const{error:b}=await this.admin.signOut(h,n);if(b&&!(Xv(b)&&(b.status===404||b.status===401||b.status===403)))return this._returnResult({error:b})}return n!=="others"&&(await this._removeSession(),await Wt(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(n){const r=ry(),l={id:r,callback:n,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,l),(async()=>(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:l}}}async _emitInitialSession(n){return await this._useSession(async r=>{var l,d;try{const{data:{session:f},error:h}=r;if(h)throw h;await((l=this.stateChangeEmitters.get(n))===null||l===void 0?void 0:l.callback("INITIAL_SESSION",f)),this._debug("INITIAL_SESSION","callback id",n,"session",f)}catch(f){await((d=this.stateChangeEmitters.get(n))===null||d===void 0?void 0:d.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",n,"error",f),console.error(f)}})}async resetPasswordForEmail(n,r={}){let l=null,d=null;this.flowType==="pkce"&&([l,d]=await Ai(this.storage,this.storageKey,!0));try{return await Ee(this.fetch,"POST",`${this.url}/recover`,{body:{email:n,code_challenge:l,code_challenge_method:d,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(f){if(await Wt(this.storage,`${this.storageKey}-code-verifier`),ge(f))return this._returnResult({data:null,error:f});throw f}}async getUserIdentities(){var n;try{const{data:r,error:l}=await this.getUser();if(l)throw l;return this._returnResult({data:{identities:(n=r.user.identities)!==null&&n!==void 0?n:[]},error:null})}catch(r){if(ge(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(n){return"token"in n?this.linkIdentityIdToken(n):this.linkIdentityOAuth(n)}async linkIdentityOAuth(n){var r;try{const{data:l,error:d}=await this._useSession(async f=>{var h,b,g,p,w;const{data:S,error:j}=f;if(j)throw j;const E=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,n.provider,{redirectTo:(h=n.options)===null||h===void 0?void 0:h.redirectTo,scopes:(b=n.options)===null||b===void 0?void 0:b.scopes,queryParams:(g=n.options)===null||g===void 0?void 0:g.queryParams,skipBrowserRedirect:!0});return await Ee(this.fetch,"GET",E,{headers:this.headers,jwt:(w=(p=S.session)===null||p===void 0?void 0:p.access_token)!==null&&w!==void 0?w:void 0})});if(d)throw d;return ea()&&!(!((r=n.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(l==null?void 0:l.url),this._returnResult({data:{provider:n.provider,url:l==null?void 0:l.url},error:null})}catch(l){if(ge(l))return this._returnResult({data:{provider:n.provider,url:null},error:l});throw l}}async linkIdentityIdToken(n){return await this._useSession(async r=>{var l;try{const{error:d,data:{session:f}}=r;if(d)throw d;const{options:h,provider:b,token:g,access_token:p,nonce:w}=n,S=await Ee(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(l=f==null?void 0:f.access_token)!==null&&l!==void 0?l:void 0,body:{provider:b,id_token:g,access_token:p,nonce:w,link_identity:!0,gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:Ga}),{data:j,error:E}=S;return E?this._returnResult({data:{user:null,session:null},error:E}):!j||!j.session||!j.user?this._returnResult({data:{user:null,session:null},error:new ki}):(j.session&&(await this._saveSession(j.session),await this._notifyAllSubscribers("USER_UPDATED",j.session)),this._returnResult({data:j,error:E}))}catch(d){if(await Wt(this.storage,`${this.storageKey}-code-verifier`),ge(d))return this._returnResult({data:{user:null,session:null},error:d});throw d}})}async unlinkIdentity(n){try{return await this._useSession(async r=>{var l,d;const{data:f,error:h}=r;if(h)throw h;return await Ee(this.fetch,"DELETE",`${this.url}/user/identities/${n.identity_id}`,{headers:this.headers,jwt:(d=(l=f.session)===null||l===void 0?void 0:l.access_token)!==null&&d!==void 0?d:void 0})})}catch(r){if(ge(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(n){const r=`#_refreshAccessToken(${n.substring(0,5)}...)`;this._debug(r,"begin");try{const l=Date.now();return await uy(async d=>(d>0&&await cy(200*Math.pow(2,d-1)),this._debug(r,"refreshing attempt",d),await Ee(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:n},headers:this.headers,xform:Ga})),(d,f)=>{const h=200*Math.pow(2,d);return f&&Ju(f)&&Date.now()+h-l<Mi})}catch(l){if(this._debug(r,"error",l),ge(l))return this._returnResult({data:{session:null,user:null},error:l});throw l}finally{this._debug(r,"end")}}_isValidSession(n){return typeof n=="object"&&n!==null&&"access_token"in n&&"refresh_token"in n&&"expires_at"in n}async _handleProviderSignIn(n,r){const l=await this._getUrlForProvider(`${this.url}/authorize`,n,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",n,"options",r,"url",l),ea()&&!r.skipBrowserRedirect&&window.location.assign(l),{data:{provider:n,url:l},error:null}}async _recoverAndRefresh(){var n,r;const l="#_recoverAndRefresh()";this._debug(l,"begin");try{const d=await As(this.storage,this.storageKey);if(d&&this.userStorage){let h=await As(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!h&&(h={user:d.user},await Di(this.userStorage,this.storageKey+"-user",h)),d.user=(n=h==null?void 0:h.user)!==null&&n!==void 0?n:Wu()}else if(d&&!d.user&&!d.user){const h=await As(this.storage,this.storageKey+"-user");h&&(h!=null&&h.user)?(d.user=h.user,await Wt(this.storage,this.storageKey+"-user"),await Di(this.storage,this.storageKey,d)):d.user=Wu()}if(this._debug(l,"session from storage",d),!this._isValidSession(d)){this._debug(l,"session is not valid"),d!==null&&await this._removeSession();return}const f=((r=d.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<Xu;if(this._debug(l,`session has${f?"":" not"} expired with margin of ${Xu}s`),f){if(this.autoRefreshToken&&d.refresh_token){const{error:h}=await this._callRefreshToken(d.refresh_token);h&&(console.error(h),Ju(h)||(this._debug(l,"refresh failed with a non-retryable error, removing the session",h),await this._removeSession()))}}else if(d.user&&d.user.__isUserNotAvailableProxy===!0)try{const{data:h,error:b}=await this._getUser(d.access_token);!b&&(h!=null&&h.user)?(d.user=h.user,await this._saveSession(d),await this._notifyAllSubscribers("SIGNED_IN",d)):this._debug(l,"could not get user data, skipping SIGNED_IN notification")}catch(h){console.error("Error getting user data:",h),this._debug(l,"error getting user data, skipping SIGNED_IN notification",h)}else await this._notifyAllSubscribers("SIGNED_IN",d)}catch(d){this._debug(l,"error",d),console.error(d);return}finally{this._debug(l,"end")}}async _callRefreshToken(n){var r,l;if(!n)throw new Sa;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const d=`#_callRefreshToken(${n.substring(0,5)}...)`;this._debug(d,"begin");try{this.refreshingDeferred=new zo;const{data:f,error:h}=await this._refreshAccessToken(n);if(h)throw h;if(!f.session)throw new Sa;await this._saveSession(f.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",f.session);const b={data:f.session,error:null};return this.refreshingDeferred.resolve(b),b}catch(f){if(this._debug(d,"error",f),ge(f)){const h={data:null,error:f};return Ju(f)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(h),h}throw(l=this.refreshingDeferred)===null||l===void 0||l.reject(f),f}finally{this.refreshingDeferred=null,this._debug(d,"end")}}async _notifyAllSubscribers(n,r,l=!0){const d=`#_notifyAllSubscribers(${n})`;this._debug(d,"begin",r,`broadcast = ${l}`);try{this.broadcastChannel&&l&&this.broadcastChannel.postMessage({event:n,session:r});const f=[],h=Array.from(this.stateChangeEmitters.values()).map(async b=>{try{await b.callback(n,r)}catch(g){f.push(g)}});if(await Promise.all(h),f.length>0){for(let b=0;b<f.length;b+=1)console.error(f[b]);throw f[0]}}finally{this._debug(d,"end")}}async _saveSession(n){this._debug("#_saveSession()",n),this.suppressGetSessionWarning=!0,await Wt(this.storage,`${this.storageKey}-code-verifier`);const r=Object.assign({},n),l=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!l&&r.user&&await Di(this.userStorage,this.storageKey+"-user",{user:r.user});const d=Object.assign({},r);delete d.user;const f=Cm(d);await Di(this.storage,this.storageKey,f)}else{const d=Cm(r);await Di(this.storage,this.storageKey,d)}}async _removeSession(){this._debug("#_removeSession()"),this.suppressGetSessionWarning=!1,await Wt(this.storage,this.storageKey),await Wt(this.storage,this.storageKey+"-code-verifier"),await Wt(this.storage,this.storageKey+"-user"),this.userStorage&&await Wt(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const n=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{n&&ea()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",n)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const n=setInterval(()=>this._autoRefreshTokenTick(),Mi);this.autoRefreshTicker=n,n&&typeof n=="object"&&typeof n.unref=="function"?n.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(n);const r=setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0);this.autoRefreshTickTimeout=r,r&&typeof r=="object"&&typeof r.unref=="function"?r.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(r)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const n=this.autoRefreshTicker;this.autoRefreshTicker=null,n&&clearInterval(n);const r=this.autoRefreshTickTimeout;this.autoRefreshTickTimeout=null,r&&clearTimeout(r)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const n=Date.now();try{return await this._useSession(async r=>{const{data:{session:l}}=r;if(!l||!l.refresh_token||!l.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const d=Math.floor((l.expires_at*1e3-n)/Mi);this._debug("#_autoRefreshTokenTick()",`access token expires in ${d} ticks, a tick lasts ${Mi}ms, refresh threshold is ${dd} ticks`),d<=dd&&await this._callRefreshToken(l.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(n){if(n.isAcquireTimeout||n instanceof ip)this._debug("auto refresh token tick lock not available");else throw n}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!ea()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(n){console.error("_handleVisibilityChange",n)}}async _onVisibilityChanged(n){const r=`#_onVisibilityChanged(${n})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),n||(await this.initializePromise,await this._acquireLock(this.lockAcquireTimeout,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(n,r,l){const d=[`provider=${encodeURIComponent(r)}`];if(l!=null&&l.redirectTo&&d.push(`redirect_to=${encodeURIComponent(l.redirectTo)}`),l!=null&&l.scopes&&d.push(`scopes=${encodeURIComponent(l.scopes)}`),this.flowType==="pkce"){const[f,h]=await Ai(this.storage,this.storageKey),b=new URLSearchParams({code_challenge:`${encodeURIComponent(f)}`,code_challenge_method:`${encodeURIComponent(h)}`});d.push(b.toString())}if(l!=null&&l.queryParams){const f=new URLSearchParams(l.queryParams);d.push(f.toString())}return l!=null&&l.skipBrowserRedirect&&d.push(`skip_http_redirect=${l.skipBrowserRedirect}`),`${n}?${d.join("&")}`}async _unenroll(n){try{return await this._useSession(async r=>{var l;const{data:d,error:f}=r;return f?this._returnResult({data:null,error:f}):await Ee(this.fetch,"DELETE",`${this.url}/factors/${n.factorId}`,{headers:this.headers,jwt:(l=d==null?void 0:d.session)===null||l===void 0?void 0:l.access_token})})}catch(r){if(ge(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(n){try{return await this._useSession(async r=>{var l,d;const{data:f,error:h}=r;if(h)return this._returnResult({data:null,error:h});const b=Object.assign({friendly_name:n.friendlyName,factor_type:n.factorType},n.factorType==="phone"?{phone:n.phone}:n.factorType==="totp"?{issuer:n.issuer}:{}),{data:g,error:p}=await Ee(this.fetch,"POST",`${this.url}/factors`,{body:b,headers:this.headers,jwt:(l=f==null?void 0:f.session)===null||l===void 0?void 0:l.access_token});return p?this._returnResult({data:null,error:p}):(n.factorType==="totp"&&g.type==="totp"&&(!((d=g==null?void 0:g.totp)===null||d===void 0)&&d.qr_code)&&(g.totp.qr_code=`data:image/svg+xml;utf-8,${g.totp.qr_code}`),this._returnResult({data:g,error:null}))})}catch(r){if(ge(r))return this._returnResult({data:null,error:r});throw r}}async _verify(n){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var l;const{data:d,error:f}=r;if(f)return this._returnResult({data:null,error:f});const h=Object.assign({challenge_id:n.challengeId},"webauthn"in n?{webauthn:Object.assign(Object.assign({},n.webauthn),{credential_response:n.webauthn.type==="create"?Iy(n.webauthn.credential_response):$y(n.webauthn.credential_response)})}:{code:n.code}),{data:b,error:g}=await Ee(this.fetch,"POST",`${this.url}/factors/${n.factorId}/verify`,{body:h,headers:this.headers,jwt:(l=d==null?void 0:d.session)===null||l===void 0?void 0:l.access_token});return g?this._returnResult({data:null,error:g}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+b.expires_in},b)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",b),this._returnResult({data:b,error:g}))})}catch(r){if(ge(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(n){return this._acquireLock(this.lockAcquireTimeout,async()=>{try{return await this._useSession(async r=>{var l;const{data:d,error:f}=r;if(f)return this._returnResult({data:null,error:f});const h=await Ee(this.fetch,"POST",`${this.url}/factors/${n.factorId}/challenge`,{body:n,headers:this.headers,jwt:(l=d==null?void 0:d.session)===null||l===void 0?void 0:l.access_token});if(h.error)return h;const{data:b}=h;if(b.type!=="webauthn")return{data:b,error:null};switch(b.webauthn.type){case"create":return{data:Object.assign(Object.assign({},b),{webauthn:Object.assign(Object.assign({},b.webauthn),{credential_options:Object.assign(Object.assign({},b.webauthn.credential_options),{publicKey:Ly(b.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},b),{webauthn:Object.assign(Object.assign({},b.webauthn),{credential_options:Object.assign(Object.assign({},b.webauthn.credential_options),{publicKey:qy(b.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(ge(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(n){const{data:r,error:l}=await this._challenge({factorId:n.factorId});return l?this._returnResult({data:null,error:l}):await this._verify({factorId:n.factorId,challengeId:r.id,code:n.code})}async _listFactors(){var n;const{data:{user:r},error:l}=await this.getUser();if(l)return{data:null,error:l};const d={all:[],phone:[],totp:[],webauthn:[]};for(const f of(n=r==null?void 0:r.factors)!==null&&n!==void 0?n:[])d.all.push(f),f.status==="verified"&&d[f.factor_type].push(f);return{data:d,error:null}}async _getAuthenticatorAssuranceLevel(){var n,r;const{data:{session:l},error:d}=await this.getSession();if(d)return this._returnResult({data:null,error:d});if(!l)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:f}=Zu(l.access_token);let h=null;f.aal&&(h=f.aal);let b=h;((r=(n=l.user.factors)===null||n===void 0?void 0:n.filter(w=>w.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(b="aal2");const p=f.amr||[];return{data:{currentLevel:h,nextLevel:b,currentAuthenticationMethods:p},error:null}}async _getAuthorizationDetails(n){try{return await this._useSession(async r=>{const{data:{session:l},error:d}=r;return d?this._returnResult({data:null,error:d}):l?await Ee(this.fetch,"GET",`${this.url}/oauth/authorizations/${n}`,{headers:this.headers,jwt:l.access_token,xform:f=>({data:f,error:null})}):this._returnResult({data:null,error:new Sa})})}catch(r){if(ge(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(n,r){try{return await this._useSession(async l=>{const{data:{session:d},error:f}=l;if(f)return this._returnResult({data:null,error:f});if(!d)return this._returnResult({data:null,error:new Sa});const h=await Ee(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:d.access_token,body:{action:"approve"},xform:b=>({data:b,error:null})});return h.data&&h.data.redirect_url&&ea()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(h.data.redirect_url),h})}catch(l){if(ge(l))return this._returnResult({data:null,error:l});throw l}}async _denyAuthorization(n,r){try{return await this._useSession(async l=>{const{data:{session:d},error:f}=l;if(f)return this._returnResult({data:null,error:f});if(!d)return this._returnResult({data:null,error:new Sa});const h=await Ee(this.fetch,"POST",`${this.url}/oauth/authorizations/${n}/consent`,{headers:this.headers,jwt:d.access_token,body:{action:"deny"},xform:b=>({data:b,error:null})});return h.data&&h.data.redirect_url&&ea()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(h.data.redirect_url),h})}catch(l){if(ge(l))return this._returnResult({data:null,error:l});throw l}}async _listOAuthGrants(){try{return await this._useSession(async n=>{const{data:{session:r},error:l}=n;return l?this._returnResult({data:null,error:l}):r?await Ee(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:d=>({data:d,error:null})}):this._returnResult({data:null,error:new Sa})})}catch(n){if(ge(n))return this._returnResult({data:null,error:n});throw n}}async _revokeOAuthGrant(n){try{return await this._useSession(async r=>{const{data:{session:l},error:d}=r;return d?this._returnResult({data:null,error:d}):l?(await Ee(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:l.access_token,query:{client_id:n.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Sa})})}catch(r){if(ge(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(n,r={keys:[]}){let l=r.keys.find(b=>b.kid===n);if(l)return l;const d=Date.now();if(l=this.jwks.keys.find(b=>b.kid===n),l&&this.jwks_cached_at+Yv>d)return l;const{data:f,error:h}=await Ee(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(h)throw h;return!f.keys||f.keys.length===0||(this.jwks=f,this.jwks_cached_at=d,l=f.keys.find(b=>b.kid===n),!l)?null:l}async getClaims(n,r={}){try{let l=n;if(!l){const{data:E,error:x}=await this.getSession();if(x||!E.session)return this._returnResult({data:null,error:x});l=E.session.access_token}const{header:d,payload:f,signature:h,raw:{header:b,payload:g}}=Zu(l);r!=null&&r.allowExpired||by(f.exp);const p=!d.alg||d.alg.startsWith("HS")||!d.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(d.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!p){const{error:E}=await this.getUser(l);if(E)throw E;return{data:{claims:f,header:d,signature:h},error:null}}const w=vy(d.alg),S=await crypto.subtle.importKey("jwk",p,w,!0,["verify"]);if(!await crypto.subtle.verify(w,S,h,sy(`${b}.${g}`)))throw new md("Invalid JWT signature");return{data:{claims:f,header:d,signature:h},error:null}}catch(l){if(ge(l))return this._returnResult({data:null,error:l});throw l}}}Yr.nextInstanceID={};const Xy=Yr,Jy="2.91.1";let Ir="";typeof Deno<"u"?Ir="deno":typeof document<"u"?Ir="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ir="react-native":Ir="node";const Zy={"X-Client-Info":`supabase-js-${Ir}/${Jy}`},Wy={headers:Zy},ex={schema:"public"},tx={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},ax={};function Qr(s){"@babel/helpers - typeof";return Qr=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(n){return typeof n}:function(n){return n&&typeof Symbol=="function"&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n},Qr(s)}function nx(s,n){if(Qr(s)!="object"||!s)return s;var r=s[Symbol.toPrimitive];if(r!==void 0){var l=r.call(s,n);if(Qr(l)!="object")return l;throw new TypeError("@@toPrimitive must return a primitive value.")}return(n==="string"?String:Number)(s)}function sx(s){var n=nx(s,"string");return Qr(n)=="symbol"?n:n+""}function ix(s,n,r){return(n=sx(n))in s?Object.defineProperty(s,n,{value:r,enumerable:!0,configurable:!0,writable:!0}):s[n]=r,s}function qm(s,n){var r=Object.keys(s);if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(s);n&&(l=l.filter(function(d){return Object.getOwnPropertyDescriptor(s,d).enumerable})),r.push.apply(r,l)}return r}function At(s){for(var n=1;n<arguments.length;n++){var r=arguments[n]!=null?arguments[n]:{};n%2?qm(Object(r),!0).forEach(function(l){ix(s,l,r[l])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(r)):qm(Object(r)).forEach(function(l){Object.defineProperty(s,l,Object.getOwnPropertyDescriptor(r,l))})}return s}const rx=s=>s?(...n)=>s(...n):(...n)=>fetch(...n),lx=()=>Headers,ox=(s,n,r)=>{const l=rx(r),d=lx();return async(f,h)=>{var b;const g=(b=await n())!==null&&b!==void 0?b:s;let p=new d(h==null?void 0:h.headers);return p.has("apikey")||p.set("apikey",s),p.has("Authorization")||p.set("Authorization",`Bearer ${g}`),l(f,At(At({},h),{},{headers:p}))}};function cx(s){return s.endsWith("/")?s:s+"/"}function ux(s,n){var r,l;const{db:d,auth:f,realtime:h,global:b}=s,{db:g,auth:p,realtime:w,global:S}=n,j={db:At(At({},g),d),auth:At(At({},p),f),realtime:At(At({},w),h),storage:{},global:At(At(At({},S),b),{},{headers:At(At({},(r=S==null?void 0:S.headers)!==null&&r!==void 0?r:{}),(l=b==null?void 0:b.headers)!==null&&l!==void 0?l:{})}),accessToken:async()=>""};return s.accessToken?j.accessToken=s.accessToken:delete j.accessToken,j}function dx(s){const n=s==null?void 0:s.trim();if(!n)throw new Error("supabaseUrl is required.");if(!n.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(cx(n))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}var fx=class extends Xy{constructor(s){super(s)}},hx=class{constructor(s,n,r){var l,d;this.supabaseUrl=s,this.supabaseKey=n;const f=dx(s);if(!n)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",f),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",f),this.storageUrl=new URL("storage/v1",f),this.functionsUrl=new URL("functions/v1",f);const h=`sb-${f.hostname.split(".")[0]}-auth-token`,b={db:ex,realtime:ax,auth:At(At({},tx),{},{storageKey:h}),global:Wy},g=ux(r??{},b);if(this.storageKey=(l=g.auth.storageKey)!==null&&l!==void 0?l:"",this.headers=(d=g.global.headers)!==null&&d!==void 0?d:{},g.accessToken)this.accessToken=g.accessToken,this.auth=new Proxy({},{get:(w,S)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(S)} is not possible`)}});else{var p;this.auth=this._initSupabaseAuthClient((p=g.auth)!==null&&p!==void 0?p:{},this.headers,g.global.fetch)}this.fetch=ox(n,this._getAccessToken.bind(this),g.global.fetch),this.realtime=this._initRealtimeClient(At({headers:this.headers,accessToken:this._getAccessToken.bind(this)},g.realtime)),this.accessToken&&Promise.resolve(this.accessToken()).then(w=>this.realtime.setAuth(w)).catch(w=>console.warn("Failed to set initial Realtime auth token:",w)),this.rest=new Fb(new URL("rest/v1",f).href,{headers:this.headers,schema:g.db.schema,fetch:this.fetch}),this.storage=new Gv(this.storageUrl.href,this.headers,this.fetch,r==null?void 0:r.storage),g.accessToken||this._listenForAuthEvents()}get functions(){return new $b(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(s){return this.rest.from(s)}schema(s){return this.rest.schema(s)}rpc(s,n={},r={head:!1,get:!1,count:void 0}){return this.rest.rpc(s,n,r)}channel(s,n={config:{}}){return this.realtime.channel(s,n)}getChannels(){return this.realtime.getChannels()}removeChannel(s){return this.realtime.removeChannel(s)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var s=this,n,r;if(s.accessToken)return await s.accessToken();const{data:l}=await s.auth.getSession();return(n=(r=l.session)===null||r===void 0?void 0:r.access_token)!==null&&n!==void 0?n:s.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:s,persistSession:n,detectSessionInUrl:r,storage:l,userStorage:d,storageKey:f,flowType:h,lock:b,debug:g,throwOnError:p},w,S){const j={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new fx({url:this.authUrl.href,headers:At(At({},j),w),storageKey:f,autoRefreshToken:s,persistSession:n,detectSessionInUrl:r,storage:l,userStorage:d,flowType:h,lock:b,debug:g,throwOnError:p,fetch:S,hasCustomAuthorizationHeader:Object.keys(this.headers).some(E=>E.toLowerCase()==="authorization")})}_initRealtimeClient(s){return new cv(this.realtimeUrl.href,At(At({},s),{},{params:At(At({},{apikey:this.supabaseKey}),s==null?void 0:s.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((s,n)=>{this._handleTokenChanged(s,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(s,n,r){(s==="TOKEN_REFRESHED"||s==="SIGNED_IN")&&this.changedAccessToken!==r?(this.changedAccessToken=r,this.realtime.setAuth(r)):s==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}};const mx=(s,n,r)=>new hx(s,n,r);function px(){if(typeof window<"u")return!1;const s=globalThis.process;if(!s)return!1;const n=s.version;if(n==null)return!1;const r=n.match(/^v(\d+)\./);return r?parseInt(r[1],10)<=18:!1}px()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Os="https://bpyqazhiespiknhflowh.supabase.co",td="sb_publishable_xMiHJsO79O5pUMGSDp6OJA_ZxVY_DMJ",gx=()=>({auth:{getSession:async()=>({data:{session:null},error:null}),getUser:async()=>({data:{user:null},error:null}),signUp:async()=>({data:{user:null,session:null},error:{message:"Offline Mode: Missing API Keys"}}),signInWithPassword:async()=>({data:{user:null,session:null},error:{message:"Offline Mode: Missing API Keys"}}),signOut:async()=>({error:null}),onAuthStateChange:s=>({data:{subscription:{unsubscribe:()=>{}}}}),resetPasswordForEmail:async()=>({data:null,error:{message:"Offline Mode"}})},from:()=>({select:()=>({eq:()=>({single:async()=>({data:null,error:{message:"Offline Mode",code:"OFFLINE"}}),maybeSingle:async()=>({data:null,error:null})}),order:()=>({limit:async()=>({data:[],error:null})}),upsert:async()=>({select:()=>({single:async()=>({data:null,error:null})})}),insert:async()=>({error:{message:"Offline Mode"}}),update:async()=>({eq:async()=>({error:null})})}),upsert:async()=>({select:()=>({single:async()=>({data:null,error:null})})}),insert:async()=>({error:null}),update:async()=>({eq:async()=>({error:null})})}),rpc:async()=>({data:null,error:{message:"Offline Mode: RPC not available"}})});let op=gx();try{Os&&td&&Os.startsWith("http")?(console.log(" Attempting Supabase Connection..."),op=mx(Os,td),console.log(" Supabase Client Initialized")):(console.warn(" Supabase credentials missing! App running in Offline/Demo mode."),console.debug("Debug Info:",{urlPresent:!!Os,keyPresent:!!td,urlStartWithHttp:Os==null?void 0:Os.startsWith("http")}))}catch(s){console.error(" Supabase Critical Init Error:",s)}const le=op,Gr={async signUp(s,n,r){const{data:l,error:d}=await le.auth.signUp({email:s,password:r,options:{data:{username:n}}});return l.user&&!d&&await le.from("profiles").upsert({id:l.user.id,username:n,email:s}),{data:l,error:d}},async signIn(s,n){const{data:r,error:l}=await le.from("profiles").select("email").eq("username",s).single();if(l||!r||!r.email)return{data:{user:null,session:null},error:{message:"Username non trovato."}};const{data:d,error:f}=await le.auth.signInWithPassword({email:r.email,password:n});return{data:d,error:f}},async signOut(){const{error:s}=await le.auth.signOut();return{error:s}},async resetPassword(s){let n=s;if(!s.includes("@")){const{data:l}=await le.from("profiles").select("email").eq("username",s).single();l!=null&&l.email&&(n=l.email)}const{error:r}=await le.auth.resetPasswordForEmail(n,{redirectTo:window.location.origin+"/reset-password"});return{error:r}},async getCurrentSession(){const{data:s}=await le.auth.getSession();return s.session},async getUser(){const{data:s}=await le.auth.getUser();return s.user}},qt={async getProfile(s){const{data:n,error:r}=await le.from("profiles").select("*").eq("id",s).single();return r?(console.warn("Error fetching profile or profile does not exist:",r.message),null):n},async searchUsers(s){let n=le.from("profiles").select("id, username, total_score, max_level, avatar_url, email");s?n=n.ilike("username",`%${s}%`):n=n.order("updated_at",{ascending:!1});const{data:r,error:l}=await n.limit(20);return l?(console.error("Error searching users:",l),[]):r||[]},async updateProfile(s){const{data:n,error:r}=await le.from("profiles").upsert(s).select().single();if(r)throw console.error("Error updating profile:",r),r;return n},async syncProgress(s,n,r,l){const d=await this.getProfile(s),f={id:s,updated_at:new Date().toISOString()};let h=!1;return d?(r>(d.max_level||0)&&(f.max_level=r,h=!0),l>(d.estimated_iq||0)&&(f.estimated_iq=l,h=!0),n>0&&(f.total_score=(d.total_score||0)+n,h=!0)):(f.total_score=n,f.max_level=r,f.estimated_iq=l,h=!0),h&&await this.updateProfile(f),d},async saveGameState(s,n){const{error:r}=await le.from("profiles").update({current_run_state:n,updated_at:new Date().toISOString()}).eq("id",s);r&&console.error("Error saving game state:",r)},async loadGameState(s){const{data:n,error:r}=await le.from("profiles").select("current_run_state").eq("id",s).single();return r?(console.error("Error loading game state:",r),null):n==null?void 0:n.current_run_state},async clearSavedGame(s){const{error:n}=await le.from("profiles").update({current_run_state:null}).eq("id",s);n&&console.error("Error clearing game save:",n)},async completeBoss(s,n){const r=await this.getProfile(s);if(!r)return;const l=n===1?"boss_matematico":`boss_${n}_defeated`,d=r.badges||[];if(!d.includes(l)){const f=[...d,l];return await this.updateProfile({id:s,badges:f,total_score:(r.total_score||0)+1e3,career_time_bonus:(r.career_time_bonus||0)+(n===1?30:0)}),console.log(` Boss ${n} completed! Badge awarded: ${l}`),!0}return!1}},cp={async getTopPlayers(s=10){const{data:n}=await le.from("profiles").select("username, total_score, max_level, estimated_iq, avatar_url").order("total_score",{ascending:!1}).limit(s),{data:r}=await le.from("profiles").select("username, total_score, max_level, estimated_iq, avatar_url").order("max_level",{ascending:!1}).limit(s);return{byScore:n||[],byLevel:r||[]}},async addEntry(s){const{error:n}=await le.from("leaderboard").insert([s]);n&&console.error("Error adding score:",n)}},bx=Object.freeze(Object.defineProperty({__proto__:null,authService:Gr,leaderboardService:cp,profileService:qt,supabase:le},Symbol.toStringTag,{value:"Module"})),$e={async cleanupUserMatches(s){console.log(" Inizializzazione pulizia partite per:",s);const{error:n}=await le.from("matches").update({status:"finished"}).or(`player1_id.eq.${s},player2_id.eq.${s}`).in("status",["pending","active"]);n&&console.error("Errore pulizia sessioni:",n)},async createMatch(s,n,r="standard"){await this.cleanupUserMatches(s);const{data:l}=await le.from("profiles").select("id").eq("id",s).maybeSingle();if(!l){console.warn(" Profile not found for user. Attempting auto-fix...",s);const{error:h}=await le.from("profiles").insert([{id:s,username:"Player_"+s.substring(0,4),max_level:1,elo_rating:1200}]);h?console.error(" CRITICAL: Failed to create fallback profile. Match creation will likely fail.",h):console.info(" Profile auto-created. Proceeding with match.")}const{data:d,error:f}=await le.from("matches").insert([{player1_id:s,grid_seed:n,mode:r,status:"pending",target_score:r==="blitz"?3:5,p1_rounds:0,p2_rounds:0,current_round:1}]).select().single();if(f)throw console.error("CREATE MATCH ERROR FULL:",f),console.error("Payload:",{player1_id:s,grid_seed:n,mode:r}),f.code==="23503"?new Error("PROFILO NON TROVATO: Effettua il logout e rientra per sincronizzare i dati."):f.code==="42703"?new Error("ERRORE SCHEMA: Il database non  aggiornato alle ultime funzionalit."):new Error(`ERRORE SFIDA (${f.code}): ${f.message}`);return d},async createInviteMatch(s,n,r,l="standard"){await this.cleanupUserMatches(s);const{data:d,error:f}=await le.from("matches").insert([{player1_id:s,player2_id:n,grid_seed:r,mode:l,status:"invite_pending",target_score:l==="blitz"?3:5,p1_rounds:0,p2_rounds:0,current_round:1}]).select().single();if(f)throw console.error("CREATE INVITE MATCH ERROR:",f),new Error("Impossibile creare l'invito. Riprova.");return d},async joinMatch(s,n){await this.cleanupUserMatches(n);const{error:r}=await le.from("matches").update({player2_id:n,status:"active"}).eq("id",s).is("player2_id",null);return r?(console.error("Error joining match:",r),!1):!0},async acceptInvite(s,n){await this.cleanupUserMatches(n);const{error:r}=await le.from("matches").update({status:"active"}).eq("id",s).eq("player2_id",n).eq("status","invite_pending");return r?(console.error("Error accepting invite:",r),!1):!0},async getPendingInvitesForUser(s){const{data:n,error:r}=await le.from("matches").select(`
                *,
                player1:player1_id (username, avatar_url, max_level)
            `).eq("player2_id",s).eq("status","invite_pending");return r?(console.error("Error fetching pending invites:",r),[]):n||[]},async declineInvite(s,n){const{error:r}=await le.from("matches").update({status:"cancelled"}).eq("id",s).eq("player2_id",n);r&&console.error("Error declining invite:",r)},async findOpenMatch(s="standard"){const{data:n,error:r}=await le.from("matches").select("*").eq("status","pending").eq("mode",s).is("player2_id",null).order("created_at",{ascending:!1}).limit(1).single();return r&&r.code!=="PGRST116"&&console.error("Error finding match:",r),n||null},async getOpenMatches(s){console.log("Fetching matches for mode:",s);const{data:n,error:r}=await le.from("matches").select("*").in("status",["pending","active","invite_pending"]).eq("mode",s).order("created_at",{ascending:!1}).limit(30);if(r)return console.error("LOBBY ERROR (RAW):",r),[];console.log(`LOBBY: Raw matches found for ${s}:`,(n==null?void 0:n.length)||0);const{data:l,error:d}=await le.from("matches").select(`
                *,
                player1:profiles!player1_id (*),
                player2:profiles!player2_id (*)
            `).in("status",["pending","active","invite_pending"]).eq("mode",s).order("created_at",{ascending:!1}).limit(30);d&&console.error("LOBBY ERROR (JOINED):",d);const f=l&&l.length>0?l:n||[],h=new Set;if(f.forEach(b=>{b.player1_id&&h.add(b.player1_id),b.player2_id&&h.add(b.player2_id)}),h.size>0){console.log(`LOBBY: Idratazione manuale per ${h.size} profili...`);const{data:b,error:g}=await le.from("profiles").select("id, username, max_level").in("id",Array.from(h));g&&console.error("LOBBY: Errore idratazione profili:",g),b&&f.forEach(p=>{if(p.player1_id){const w=b.find(S=>S.id===p.player1_id);w&&(p.player1=p.player1?{...p.player1,...w}:w)}if(p.player2_id){const w=b.find(S=>S.id===p.player2_id);w&&(p.player2=p.player2?{...p.player2,...w}:w)}})}return f},async cancelMatch(s){const{error:n}=await le.from("matches").delete().eq("id",s);n&&console.error("Error canceling match:",n)},async updateScore(s,n,r,l){const d=l?{player1_score:r}:{player2_score:r},{error:f}=await le.from("matches").update(d).eq("id",s);if(f)throw console.error("Error updating score:",f),f},async updateTargets(s,n,r){const l=n?{p1_rounds:r}:{p2_rounds:r},{error:d}=await le.from("matches").update(l).eq("id",s);if(d)throw console.error("Error updating targets:",d),d},async updateMatchStats(s,n,r,l){const d=n?{player1_score:r,p1_rounds:l}:{player2_score:r,p2_rounds:l},{error:f}=await le.from("matches").update(d).eq("id",s);if(f)throw console.error("Error updating match stats:",f),f},async stealTarget(s,n,r,l,d,f,h){const b=n?r:-r,g={p1_rounds:l,p2_rounds:d,player1_score:f,player2_score:h,current_round:b},{error:p}=await le.from("matches").update(g).eq("id",s);p&&console.error("Error stealing target:",p)},async incrementRound(s,n,r,l){const d=n?{p1_rounds:r+1,current_round:l,player1_score:0,player2_score:0}:{p2_rounds:r+1,current_round:l,player1_score:0,player2_score:0},{error:f}=await le.from("matches").update(d).eq("id",s);f&&console.error("Error incrementing round:",f)},async declareWinner(s,n){const{error:r}=await le.from("matches").update({status:"finished",winner_id:n}).eq("id",s);if(r)throw console.error("Error declaring winner:",r),r},async setPlayerReady(s,n,r){const l=n?{p1_ready:r}:{p2_ready:r},{error:d}=await le.from("matches").update(l).eq("id",s);d&&console.error("Error setting player ready:",d)},async resetRoundStatus(s){const{error:n}=await le.from("matches").update({p1_ready:!1,p2_ready:!1}).eq("id",s);n&&console.error("Error resetting round status:",n)},async abandonMatch(s,n){await this.sendAbandonment(s,n);const{data:r}=await le.from("matches").select("status, player1_id, player2_id").eq("id",s).single();if(r){if(r.status==="pending")await this.cancelMatch(s);else if(r.status==="active"){const l=r.player1_id===n?r.player2_id:r.player1_id;await le.from("matches").update({status:"cancelled",winner_id:l,finished_at:new Date().toISOString()}).eq("id",s)}}},subscribeToMatchEvents(s,n){const r=le.channel(`match_${s}_events`);return r.on("broadcast",{event:"match_abandoned"},l=>n("match_abandoned",l.payload)).on("broadcast",{event:"rematch_started"},l=>n("rematch_started",l.payload)).subscribe(),r},async sendAbandonment(s,n){const r=le.channel(`match_${s}_events`);r.subscribe(async l=>{if(l==="SUBSCRIBED")try{await r.send({type:"broadcast",event:"match_abandoned",payload:{fromUserId:n}})}catch(d){console.error("Broadcast send failed:",d)}})},async sendRematchEvent(s,n,r){const l=le.channel(`match_${s}_events`);l.subscribe(async d=>{if(d==="SUBSCRIBED")try{await l.send({type:"broadcast",event:"rematch_started",payload:{newMatchId:n,seed:r}})}catch(f){console.error("Rematch broadcast failed:",f)}})},async startRematch(s,n){const{data:r,error:l}=await le.from("matches").insert([{player1_id:s.player1_id,player2_id:s.player2_id,grid_seed:n,mode:s.mode,status:"active",target_score:s.target_score,p1_rounds:0,p2_rounds:0,current_round:1}]).select().single();return l?(console.error("Error creating rematch:",l),null):r},subscribeToMatch(s,n){return le.channel(`match:${s}`).on("postgres_changes",{event:"UPDATE",schema:"public",table:"matches",filter:`id=eq.${s}`},r=>n(r)).subscribe()},async verifyMatchStatus(s){const{data:n,error:r}=await le.from("matches").select("status, winner_id").eq("id",s).single();return r?r.code==="PGRST116"?null:(console.warn("Sync Watchdog Transient Error:",r.message),{status:"ERROR"}):n},async getMatchById(s){const{data:n,error:r}=await le.from("matches").select("*").eq("id",s).single();return r?(console.error("Error fetching match by id:",r),null):n},async getHeadToHeadStats(s,n){if(!s)return{};try{const{data:r,error:l}=await le.from("matches").select("winner_id, player1_id, player2_id").or(`player1_id.eq.${s},player2_id.eq.${s}`).eq("status","finished");if(l)return console.error("Error fetching global H2H stats:",l),{};const d={};return n.forEach(f=>d[f]={wins:0,losses:0}),r&&r.forEach(f=>{const h=f.player1_id===s?f.player2_id:f.player1_id;h&&d[h]&&(f.winner_id===s?d[h].wins++:f.winner_id===h&&d[h].losses++)}),d}catch(r){return console.error("Exception in H2H stats:",r),{}}}};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vx=s=>s.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),yx=s=>s.replace(/^([A-Z])|[\s-_]+(\w)/g,(n,r,l)=>l?l.toUpperCase():r.toLowerCase()),Im=s=>{const n=yx(s);return n.charAt(0).toUpperCase()+n.slice(1)},up=(...s)=>s.filter((n,r,l)=>!!n&&n.trim()!==""&&l.indexOf(n)===r).join(" ").trim(),xx=s=>{for(const n in s)if(n.startsWith("aria-")||n==="role"||n==="title")return!0};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var wx={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _x=M.forwardRef(({color:s="currentColor",size:n=24,strokeWidth:r=2,absoluteStrokeWidth:l,className:d="",children:f,iconNode:h,...b},g)=>M.createElement("svg",{ref:g,...wx,width:n,height:n,stroke:s,strokeWidth:l?Number(r)*24/Number(n):r,className:up("lucide",d),...!f&&!xx(b)&&{"aria-hidden":"true"},...b},[...h.map(([p,w])=>M.createElement(p,w)),...Array.isArray(f)?f:[f]]));/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const be=(s,n)=>{const r=M.forwardRef(({className:l,...d},f)=>M.createElement(_x,{ref:f,iconNode:n,className:up(`lucide-${vx(Im(s))}`,`lucide-${s}`,l),...d}));return r.displayName=Im(s),r};/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sx=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],xo=be("activity",Sx);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jx=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],Nx=be("arrow-right",jx);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ex=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],dp=be("award",Ex);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tx=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],kx=be("book-open",Tx);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ax=[["path",{d:"M12 18V5",key:"adv99a"}],["path",{d:"M15 13a4.17 4.17 0 0 1-3-4 4.17 4.17 0 0 1-3 4",key:"1e3is1"}],["path",{d:"M17.598 6.5A3 3 0 1 0 12 5a3 3 0 1 0-5.598 1.5",key:"1gqd8o"}],["path",{d:"M17.997 5.125a4 4 0 0 1 2.526 5.77",key:"iwvgf7"}],["path",{d:"M18 18a4 4 0 0 0 2-7.464",key:"efp6ie"}],["path",{d:"M19.967 17.483A4 4 0 1 1 12 18a4 4 0 1 1-7.967-.517",key:"1gq6am"}],["path",{d:"M6 18a4 4 0 0 1-2-7.464",key:"k1g0md"}],["path",{d:"M6.003 5.125a4 4 0 0 0-2.526 5.77",key:"q97ue3"}]],qi=be("brain",Ax);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ox=[["path",{d:"M12 20v-9",key:"1qisl0"}],["path",{d:"M14 7a4 4 0 0 1 4 4v3a6 6 0 0 1-12 0v-3a4 4 0 0 1 4-4z",key:"uouzyp"}],["path",{d:"M14.12 3.88 16 2",key:"qol33r"}],["path",{d:"M21 21a4 4 0 0 0-3.81-4",key:"1b0z45"}],["path",{d:"M21 5a4 4 0 0 1-3.55 3.97",key:"5cxbf6"}],["path",{d:"M22 13h-4",key:"1jl80f"}],["path",{d:"M3 21a4 4 0 0 1 3.81-4",key:"1fjd4g"}],["path",{d:"M3 5a4 4 0 0 0 3.55 3.97",key:"1d7oge"}],["path",{d:"M6 13H2",key:"82j7cp"}],["path",{d:"m8 2 1.88 1.88",key:"fmnt4t"}],["path",{d:"M9 7.13V6a3 3 0 1 1 6 0v1.13",key:"1vgav8"}]],Rx=be("bug",Ox);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cx=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],ad=be("calendar",Cx);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zx=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Mx=be("camera",zx);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dx=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],Ux=be("chart-column",Dx);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bx=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],mo=be("chevron-right",Bx);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],qx=be("circle-alert",Lx);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ix=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],$x=be("circle-check-big",Ix);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Gx=be("circle-question-mark",Hx);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]],Px=be("circle-x",Vx);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fx=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],fp=be("clock",Fx);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kx=[["path",{d:"M11.562 3.266a.5.5 0 0 1 .876 0L15.39 8.87a1 1 0 0 0 1.516.294L21.183 5.5a.5.5 0 0 1 .798.519l-2.834 10.246a1 1 0 0 1-.956.734H5.81a1 1 0 0 1-.957-.734L2.02 6.02a.5.5 0 0 1 .798-.519l4.276 3.664a1 1 0 0 0 1.516-.294z",key:"1vdc57"}],["path",{d:"M5 21h14",key:"11awu3"}]],Bs=be("crown",Kx);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yx=[["path",{d:"M2.7 10.3a2.41 2.41 0 0 0 0 3.41l7.59 7.59a2.41 2.41 0 0 0 3.41 0l7.59-7.59a2.41 2.41 0 0 0 0-3.41l-7.59-7.59a2.41 2.41 0 0 0-3.41 0Z",key:"1f1r0c"}]],Qx=be("diamond",Yx);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xx=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Jx=be("dollar-sign",Xx);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zx=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],pd=be("eye",Zx);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wx=[["path",{d:"M12 6a2 2 0 0 1 3.414-1.414l6 6a2 2 0 0 1 0 2.828l-6 6A2 2 0 0 1 12 18z",key:"b19h5q"}],["path",{d:"M2 6a2 2 0 0 1 3.414-1.414l6 6a2 2 0 0 1 0 2.828l-6 6A2 2 0 0 1 2 18z",key:"h7h5ge"}]],gd=be("fast-forward",Wx);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const e1=[["path",{d:"M12 3q1 4 4 6.5t3 5.5a1 1 0 0 1-14 0 5 5 0 0 1 1-3 1 1 0 0 0 5 0c0-2-1.5-3-1.5-5q0-2 2.5-4",key:"1slcih"}]],t1=be("flame",e1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const a1=[["path",{d:"M10.5 3 8 9l4 13 4-13-2.5-6",key:"b3dvk1"}],["path",{d:"M17 3a2 2 0 0 1 1.6.8l3 4a2 2 0 0 1 .013 2.382l-7.99 10.986a2 2 0 0 1-3.247 0l-7.99-10.986A2 2 0 0 1 2.4 7.8l2.998-3.997A2 2 0 0 1 7 3z",key:"7w4byz"}],["path",{d:"M2 9h20",key:"16fsjt"}]],bd=be("gem",a1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const n1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],s1=be("globe",n1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const i1=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],r1=be("hash",i1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const l1=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],vd=be("house",l1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const o1=[["path",{d:"M6 16c5 0 7-8 12-8a4 4 0 0 1 0 8c-5 0-7-8-12-8a4 4 0 1 0 0 8",key:"18ogeb"}]],wo=be("infinity",o1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c1=[["path",{d:"M2.586 17.414A2 2 0 0 0 2 18.828V21a1 1 0 0 0 1 1h3a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h1a1 1 0 0 0 1-1v-1a1 1 0 0 1 1-1h.172a2 2 0 0 0 1.414-.586l.814-.814a6.5 6.5 0 1 0-4-4z",key:"1s6t7t"}],["circle",{cx:"16.5",cy:"7.5",r:".5",fill:"currentColor",key:"w0ekpg"}]],u1=be("key-round",c1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d1=[["path",{d:"M12.83 2.18a2 2 0 0 0-1.66 0L2.6 6.08a1 1 0 0 0 0 1.83l8.58 3.91a2 2 0 0 0 1.66 0l8.58-3.9a1 1 0 0 0 0-1.83z",key:"zw3jo"}],["path",{d:"M2 12a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 12",key:"1wduqc"}],["path",{d:"M2 17a1 1 0 0 0 .58.91l8.6 3.91a2 2 0 0 0 1.65 0l8.58-3.9A1 1 0 0 0 22 17",key:"kqbvx6"}]],f1=be("layers",d1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h1=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],m1=be("lightbulb",h1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p1=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],yd=be("loader-circle",p1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g1=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],To=be("lock",g1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b1=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],xd=be("mail",b1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const v1=[["path",{d:"M7.21 15 2.66 7.14a2 2 0 0 1 .13-2.2L4.4 2.8A2 2 0 0 1 6 2h12a2 2 0 0 1 1.6.8l1.6 2.14a2 2 0 0 1 .14 2.2L16.79 15",key:"143lza"}],["path",{d:"M11 12 5.12 2.2",key:"qhuxz6"}],["path",{d:"m13 12 5.88-9.8",key:"hbye0f"}],["path",{d:"M8 7h8",key:"i86dvs"}],["circle",{cx:"12",cy:"17",r:"5",key:"qbz8iq"}],["path",{d:"M12 18v-2h-.5",key:"fawc4q"}]],y1=be("medal",v1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x1=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],nd=be("pause",x1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w1=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],Ds=be("play",w1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _1=[["path",{d:"M16.247 7.761a6 6 0 0 1 0 8.478",key:"1fwjs5"}],["path",{d:"M19.075 4.933a10 10 0 0 1 0 14.134",key:"ehdyv1"}],["path",{d:"M4.925 19.067a10 10 0 0 1 0-14.134",key:"1q22gi"}],["path",{d:"M7.753 16.239a6 6 0 0 1 0-8.478",key:"r2q7qm"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],S1=be("radio",_1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j1=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],N1=be("refresh-cw",j1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E1=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],T1=be("rocket",E1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k1=[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]],A1=be("save",k1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O1=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],$m=be("search",O1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R1=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Bi=be("send",R1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C1=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Ka=be("shield",C1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const z1=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],Xr=be("sparkles",z1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M1=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],wd=be("star",M1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D1=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],U1=be("sun",D1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B1=[["polyline",{points:"14.5 17.5 3 6 3 3 6 3 17.5 14.5",key:"1hfsw2"}],["line",{x1:"13",x2:"19",y1:"19",y2:"13",key:"1vrmhu"}],["line",{x1:"16",x2:"20",y1:"16",y2:"20",key:"1bron3"}],["line",{x1:"19",x2:"21",y1:"21",y2:"19",key:"13pww6"}],["polyline",{points:"14.5 6.5 18 3 21 3 21 6 17.5 9.5",key:"hbey2j"}],["line",{x1:"5",x2:"9",y1:"14",y2:"18",key:"1hf58s"}],["line",{x1:"7",x2:"4",y1:"17",y2:"20",key:"pidxm4"}],["line",{x1:"3",x2:"5",y1:"19",y2:"21",key:"1pehsh"}]],ia=be("swords",B1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L1=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],ko=be("target",L1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const q1=[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]],I1=be("timer",q1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $1=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],_d=be("trash-2",$1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H1=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],G1=be("trending-up",H1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V1=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],po=be("triangle-alert",V1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P1=[["path",{d:"M10 14.66v1.626a2 2 0 0 1-.976 1.696A5 5 0 0 0 7 21.978",key:"1n3hpd"}],["path",{d:"M14 14.66v1.626a2 2 0 0 0 .976 1.696A5 5 0 0 1 17 21.978",key:"rfe1zi"}],["path",{d:"M18 9h1.5a1 1 0 0 0 0-5H18",key:"7xy6bh"}],["path",{d:"M4 22h16",key:"57wxv0"}],["path",{d:"M6 9a6 6 0 0 0 12 0V3a1 1 0 0 0-1-1H7a1 1 0 0 0-1 1z",key:"1mhfuq"}],["path",{d:"M6 9H4.5a1 1 0 0 1 0-5H6",key:"tex48p"}]],rs=be("trophy",P1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F1=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Ao=be("user",F1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K1=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],go=be("users",K1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y1=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["path",{d:"M16 9a5 5 0 0 1 0 6",key:"1q6k2b"}],["path",{d:"M19.364 18.364a9 9 0 0 0 0-12.728",key:"ijwkga"}]],_o=be("volume-2",Y1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q1=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],So=be("volume-x",Q1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X1=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Fa=be("x",X1);/**
 * @license lucide-react v0.562.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J1=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Ls=be("zap",J1),Z1=({onClose:s,onSuccess:n})=>{const[r,l]=M.useState("login"),[d,f]=M.useState(""),[h,b]=M.useState(""),[g,p]=M.useState(""),[w,S]=M.useState(!1),[j,E]=M.useState(null),[x,B]=M.useState(null),P=async H=>{H.preventDefault(),E(null),B(null),S(!0);try{if(r==="signup"){const{data:D,error:Z}=await Gr.signUp(d,g,h);if(Z)throw Z;D.user&&(B("Account creato! Controlla la tua email per confermare."),D.session&&n(D.user))}else if(r==="login"){const{data:D,error:Z}=await Gr.signIn(g,h);if(Z)throw Z;D.user&&D.session&&(n(D.user),s())}else if(r==="forgot-password"){const{error:D}=await Gr.resetPassword(g);if(D)throw D;B("Ti abbiamo inviato una email per reimpostare la password.")}}catch(D){E(D.message||"Si  verificato un errore.")}finally{S(!1)}},Y=H=>{l(H),E(null),B(null)};return c.jsx("div",{className:"fixed inset-0 z-[2000] flex items-center justify-center p-6 modal-overlay bg-black/80 backdrop-blur-sm",onPointerDown:s,children:c.jsxs("div",{className:"glass-panel w-full max-w-md p-8 rounded-[2rem] border-[3px] border-cyan-500/30 shadow-[0_0_50px_rgba(6,182,212,0.2)] bg-[#0f172a] relative overflow-hidden",onPointerDown:H=>H.stopPropagation(),children:[c.jsx("div",{className:"absolute top-0 right-0 w-64 h-64 bg-cyan-500/10 rounded-full blur-3xl -translate-y-1/2 translate-x-1/2 pointer-events-none"}),c.jsx("button",{onClick:s,className:"absolute top-4 right-4 text-slate-400 hover:text-white transition-colors",children:c.jsx(Fa,{className:"w-6 h-6"})}),c.jsxs("h2",{className:"text-3xl font-black font-orbitron text-center mb-2 text-white uppercase tracking-wider",children:[r==="login"&&"ACCESSO",r==="signup"&&"REGISTRAZIONE",r==="forgot-password"&&"RECUPERO"]}),c.jsxs("p",{className:"text-slate-400 text-center text-xs font-bold mb-8 uppercase tracking-widest",children:[r==="login"&&"Bentornato Operatore",r==="signup"&&"Unisciti al network",r==="forgot-password"&&"Ripristina credenziali"]}),c.jsxs("form",{onSubmit:P,className:"space-y-4",children:[c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-[10px] uppercase font-bold text-cyan-400 ml-2",children:"Username"}),c.jsxs("div",{className:"relative",children:[c.jsx(Ao,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),c.jsx("input",{type:"text",value:g,onChange:H=>p(H.target.value),className:"w-full bg-slate-900/50 border-2 border-slate-700/50 rounded-xl py-3 pl-12 pr-4 text-white placeholder-slate-600 focus:border-cyan-400 focus:outline-none transition-colors font-bold",placeholder:r==="forgot-password"?"Username o Email":"Il tuo nome in codice",required:!0})]})]}),r==="signup"&&c.jsxs("div",{className:"space-y-1 animate-fadeIn",children:[c.jsx("label",{className:"text-[10px] uppercase font-bold text-cyan-400 ml-2",children:"Email (Personale)"}),c.jsxs("div",{className:"relative",children:[c.jsx(xd,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),c.jsx("input",{type:"email",value:d,onChange:H=>f(H.target.value),className:"w-full bg-slate-900/50 border-2 border-slate-700/50 rounded-xl py-3 pl-12 pr-4 text-white placeholder-slate-600 focus:border-cyan-400 focus:outline-none transition-colors font-bold",placeholder:"Per il recupero password",required:!0})]})]}),r!=="forgot-password"&&c.jsxs("div",{className:"space-y-1",children:[c.jsx("label",{className:"text-[10px] uppercase font-bold text-cyan-400 ml-2",children:"Password"}),c.jsxs("div",{className:"relative",children:[c.jsx(To,{className:"absolute left-4 top-1/2 -translate-y-1/2 w-5 h-5 text-slate-400"}),c.jsx("input",{type:"password",value:h,onChange:H=>b(H.target.value),className:"w-full bg-slate-900/50 border-2 border-slate-700/50 rounded-xl py-3 pl-12 pr-4 text-white placeholder-slate-600 focus:border-cyan-400 focus:outline-none transition-colors font-bold",placeholder:"",required:!0})]})]}),j&&c.jsxs("div",{className:"p-3 rounded-lg bg-red-500/10 border border-red-500/20 text-red-200 text-xs flex items-center gap-2",children:[c.jsx(qx,{className:"w-4 h-4 text-red-400"}),j]}),x&&c.jsxs("div",{className:"p-3 rounded-lg bg-green-500/10 border border-green-500/20 text-green-200 text-xs flex items-center gap-2",children:[c.jsx($x,{className:"w-4 h-4 text-green-400"}),x]}),c.jsxs("button",{type:"submit",disabled:w,className:"w-full bg-gradient-to-r from-cyan-600 to-blue-600 hover:from-cyan-500 hover:to-blue-500 text-white py-4 rounded-xl font-black font-orbitron uppercase tracking-widest shadow-lg shadow-cyan-900/20 active:scale-95 transition-all flex items-center justify-center gap-2 disabled:opacity-70 disabled:pointer-events-none mt-6",children:[w&&c.jsx(yd,{className:"w-5 h-5 animate-spin"}),r==="login"&&"ENTRA NEL SISTEMA",r==="signup"&&"REGISTRA CODICE",r==="forgot-password"&&"INVIA CODICE RIPRISTINO"]})]}),c.jsxs("div",{className:"mt-6 flex flex-col items-center gap-3 text-xs font-bold text-slate-400",children:[r==="login"&&c.jsxs(c.Fragment,{children:[c.jsxs("button",{onClick:()=>Y("signup"),className:"hover:text-white transition-colors uppercase tracking-wider",children:["Non hai un account? ",c.jsx("span",{className:"text-cyan-400",children:"Registrati"})]}),c.jsxs("button",{onClick:()=>Y("forgot-password"),className:"hover:text-white transition-colors flex items-center gap-1",children:[c.jsx(u1,{className:"w-3 h-3"})," Password dimenticata?"]})]}),r==="signup"&&c.jsxs("button",{onClick:()=>Y("login"),className:"hover:text-white transition-colors uppercase tracking-wider",children:["Hai gi un account? ",c.jsx("span",{className:"text-cyan-400",children:"Accedi"})]}),r==="forgot-password"&&c.jsx("button",{onClick:()=>Y("login"),className:"hover:text-white transition-colors uppercase tracking-wider",children:c.jsx("span",{className:"text-cyan-400",children:" Torna al Login"})})]})]})})},W1=({onClose:s})=>{const[n,r]=M.useState(!1),[l,d]=M.useState(""),[f,h]=M.useState(""),[b,g]=M.useState({subscribersCount:0,maxScore:0,maxLevel:0}),[p,w]=M.useState([]),[S,j]=M.useState(!1),[E,x]=M.useState("overview"),[B,P]=M.useState(null),[Y,H]=M.useState({msg:"",visible:!1}),D=te=>{H({msg:te,visible:!0}),setTimeout(()=>H(Me=>({...Me,visible:!1})),3e3)},Z=te=>{te.preventDefault(),l==="admin"&&f==="accessometti"?(r(!0),ke()):D("Credenziali non valide")},ke=async()=>{j(!0);try{const{data:te,count:Me,error:Ft}=await le.from("profiles").select("id, username, email, total_score, max_level, updated_at",{count:"exact"}).order("updated_at",{ascending:!1});if(Ft)throw Ft;let yt=0,dt=0;if(te){const ot=new Date;ot.setMonth(ot.getMonth()-5),te.forEach(Ze=>{(Ze.total_score||0)>yt&&(yt=Ze.total_score),(Ze.max_level||0)>dt&&(dt=Ze.max_level);const ft=Ze.updated_at?new Date(Ze.updated_at):new Date;Ze.status=ft<ot?"Inattivo":"Attivo"}),w(te)}g({subscribersCount:Me||(te==null?void 0:te.length)||0,maxScore:yt,maxLevel:dt})}catch(te){console.error("Admin fetch error:",te)}finally{j(!1)}},oe=te=>{P(te)},se=async()=>{if(B)try{console.log("Attempting delete via RPC for:",B);const{error:te}=await le.rpc("admin_delete_user",{target_user_id:B,admin_secret:"accessometti"});if(te){console.warn("RPC Delete failed, trying standard delete...",te);const{error:Me}=await le.from("profiles").delete().eq("id",B);if(Me)throw Me}D("Utente eliminato correttamente."),ke(),P(null)}catch(te){console.error("Delete error:",te),D("Errore: "+(te.message||"Controlla la funzione SQL."))}};return n?c.jsxs("div",{className:"fixed inset-0 z-50 flex flex-col md:flex-row bg-[#0a0a0a] text-white overflow-hidden animate-fade-in",children:[c.jsxs("div",{className:"hidden md:flex w-64 bg-[#111] border-r border-[#222] flex-col p-4",children:[c.jsxs("div",{className:"flex items-center gap-3 px-2 mb-8 mt-2",children:[c.jsx("div",{className:"w-8 h-8 bg-[#FF8800] rounded-lg flex items-center justify-center text-black font-bold",children:c.jsx(Ka,{size:18})}),c.jsxs("span",{className:"font-bold text-lg tracking-tight",children:["Admin",c.jsx("span",{className:"text-[#FF8800]",children:"Panel"})]})]}),c.jsxs("nav",{className:"flex-1 space-y-1",children:[c.jsx(bo,{icon:c.jsx(xo,{}),label:"Panoramica",active:E==="overview",onClick:()=>x("overview")}),c.jsx(bo,{icon:c.jsx(go,{}),label:"Iscritti",active:E==="subscribers",onClick:()=>x("subscribers")}),c.jsx(bo,{icon:c.jsx(ad,{}),label:"Pianificazione",active:E==="planning",onClick:()=>x("planning")}),c.jsx(bo,{icon:c.jsx(xd,{}),label:"Newsletter",active:E==="newsletter",onClick:()=>x("newsletter")})]}),c.jsxs("button",{onClick:s,className:"mt-auto flex items-center gap-3 px-4 py-3 text-gray-400 hover:text-white hover:bg-[#222] rounded-xl transition-all",children:[c.jsx(Fa,{size:18}),c.jsx("span",{className:"font-medium",children:"Esci"})]})]}),c.jsxs("div",{className:"md:hidden bg-[#111] border-b border-[#222] p-4 pt-10 flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx("div",{className:"w-8 h-8 bg-[#FF8800] rounded-lg flex items-center justify-center text-black font-bold",children:c.jsx(Ka,{size:18})}),c.jsx("span",{className:"font-bold text-lg",children:"Admin"})]}),c.jsx("button",{onClick:s,className:"p-2 text-gray-400 hover:text-white",children:c.jsx(Fa,{size:24})})]}),c.jsxs("div",{className:"flex-1 overflow-y-auto bg-[#0a0a0a] p-4 md:p-8 pb-24 md:pb-8",children:[c.jsxs("header",{className:"flex flex-col md:flex-row justify-between md:items-center mb-6 md:mb-8 gap-2",children:[c.jsx("h1",{className:"text-2xl md:text-3xl font-bold flex items-center gap-3",children:E==="overview"?"Panoramica App":E==="subscribers"?c.jsxs(c.Fragment,{children:["Lista Iscritti",c.jsx("span",{className:"text-lg bg-[#222] text-[#FF8800] px-3 py-1 rounded-full border border-[#333] font-mono",children:b.subscribersCount})]}):E==="planning"?"Pianificazione Sfide":"Newsletter"}),c.jsxs("div",{className:"text-xs md:text-sm text-gray-500",children:["Ultimo aggiornamento: Oggi, ",new Date().toLocaleTimeString()]})]}),S?c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"w-8 h-8 border-4 border-[#FF8800] border-t-transparent rounded-full animate-spin"})}):c.jsxs(c.Fragment,{children:[E==="overview"&&c.jsxs("div",{className:"space-y-8",children:[c.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[c.jsx(vo,{icon:c.jsx(go,{}),label:"Totale Iscritti",value:b.subscribersCount.toString(),color:"blue"}),c.jsx(vo,{icon:c.jsx(Jx,{}),label:"Proventi Stimati",value:" 0.00",subtext:"In attesa di acquisti in-app",color:"green"}),c.jsx(vo,{icon:c.jsx(rs,{}),label:"Punteggio Record",value:b.maxScore.toLocaleString(),color:"yellow"}),c.jsx(vo,{icon:c.jsx(G1,{}),label:"Livello Max",value:b.maxLevel.toString(),color:"purple"})]}),c.jsxs("div",{className:"bg-[#111] border border-[#222] rounded-2xl p-6",children:[c.jsxs("h3",{className:"text-lg font-bold mb-4 flex items-center gap-2",children:[c.jsx(xo,{size:18,className:"text-[#FF8800]"})," Andamento"]}),c.jsx("div",{className:"h-48 flex items-center justify-center border-2 border-dashed border-[#333] rounded-xl text-gray-500",children:"Grafico non disponibile (Richiede pi dati storici)"})]})]}),E==="subscribers"&&c.jsxs("div",{className:"bg-[#111] border border-[#222] rounded-2xl overflow-hidden",children:[c.jsxs("table",{className:"w-full text-left",children:[c.jsx("thead",{className:"bg-[#1a1a1a] border-b border-[#222]",children:c.jsxs("tr",{children:[c.jsx("th",{className:"px-4 py-3 font-semibold text-gray-400 text-xs uppercase tracking-wider",children:"Username"}),c.jsx("th",{className:"px-4 py-3 font-semibold text-gray-400 text-xs uppercase tracking-wider",children:"Punteggio"}),c.jsx("th",{className:"px-4 py-3 font-semibold text-gray-400 text-xs uppercase tracking-wider",children:"Livello"}),c.jsx("th",{className:"px-4 py-3 font-semibold text-gray-400 text-xs uppercase tracking-wider",children:"Status"})]})}),c.jsxs("tbody",{className:"divide-y divide-[#222]",children:[p.map((te,Me)=>c.jsxs("tr",{className:"hover:bg-[#161616] transition-colors group",children:[c.jsxs("td",{className:"px-4 py-3",children:[c.jsx("div",{className:"font-medium text-white text-sm",children:te.username||"Anonimo"}),c.jsx("div",{className:"text-gray-500 text-[9px] leading-3 uppercase tracking-wider truncate max-w-[140px]",title:te.email,children:te.email||"N/A"}),c.jsx("div",{className:"text-gray-600 text-[8px] mt-0.5",children:te.updated_at?new Date(te.updated_at).toLocaleString("it-IT",{day:"2-digit",month:"2-digit",year:"numeric",hour:"2-digit",minute:"2-digit"}):"Mai"})]}),c.jsx("td",{className:"px-4 py-3 text-gray-300 text-sm",children:te.total_score||0}),c.jsx("td",{className:"px-4 py-3 text-gray-300 text-sm",children:te.max_level||1}),c.jsxs("td",{className:"px-4 py-3 flex items-center justify-between",children:[c.jsx("span",{className:`px-2 py-0.5 text-[9px] rounded-full border ${te.status==="Inattivo"?"bg-red-900/20 text-red-500 border-red-900/30":"bg-green-900/30 text-green-400 border-green-900"}`,children:te.status||"Attivo"}),c.jsx("button",{onClick:()=>oe(te.id),className:"p-1.5 text-red-500 hover:text-red-400 hover:bg-red-500/10 rounded-lg transition-all border border-transparent hover:border-red-500/30",title:"Elimina Utente",children:c.jsx(_d,{size:14})})]})]},Me)),p.length===0&&c.jsx("tr",{children:c.jsx("td",{colSpan:4,className:"px-6 py-12 text-center text-gray-500",children:"Nessun iscritto trovato."})})]})]}),c.jsx("div",{className:"p-4 bg-[#1a1a1a] border-t border-[#222]",children:c.jsxs("div",{className:"flex items-start gap-2 text-gray-500",children:[c.jsx(Ka,{size:14,className:"mt-0.5 flex-shrink-0"}),c.jsxs("p",{className:"text-[10px] italic leading-relaxed",children:[c.jsx("strong",{children:"Nota Automazione:"})," Lo stato viene impostato automaticamente su ",c.jsx("span",{className:"text-red-500 font-bold uppercase",children:"Inattivo"})," se l'utente non effettua l'accesso per pi di ",c.jsx("strong",{children:"5 mesi"}),". Questa regola serve per identificare account potenzialmente dormienti."]})]})})]}),E==="planning"&&c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[c.jsxs("div",{className:"bg-[#111] border border-[#222] rounded-2xl p-6",children:[c.jsx("h3",{className:"text-xl font-bold mb-4",children:"Nuova Sfida Settimanale"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm text-gray-400 block mb-2",children:"Titolo Sfida"}),c.jsx("input",{type:"text",className:"w-full bg-[#0a0a0a] border border-[#333] rounded-lg p-3 text-white focus:border-[#FF8800] outline-none",placeholder:"Es. Maratona Matematica"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm text-gray-400 block mb-2",children:"Inizio"}),c.jsx("input",{type:"date",className:"w-full bg-[#0a0a0a] border border-[#333] rounded-lg p-3 text-white outline-none"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm text-gray-400 block mb-2",children:"Fine"}),c.jsx("input",{type:"date",className:"w-full bg-[#0a0a0a] border border-[#333] rounded-lg p-3 text-white outline-none"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"text-sm text-gray-400 block mb-2",children:"Regole Speciali"}),c.jsx("textarea",{className:"w-full bg-[#0a0a0a] border border-[#333] rounded-lg p-3 text-white h-24 outline-none resize-none",placeholder:"Descrivi le regole..."})]}),c.jsxs("button",{className:"w-full bg-white text-black font-bold py-3 rounded-xl hover:bg-gray-200 transition-colors flex items-center justify-center gap-2",children:[c.jsx(A1,{size:18})," Salva Pianificazione"]})]})]}),c.jsxs("div",{className:"bg-[#111] border border-[#222] rounded-2xl p-6",children:[c.jsx("h3",{className:"text-xl font-bold mb-4",children:"Sfide Programmate"}),c.jsx("div",{className:"space-y-4",children:[1,2].map(te=>c.jsxs("div",{className:"flex items-center gap-4 p-4 bg-[#1a1a1a] rounded-xl border border-[#333]",children:[c.jsx("div",{className:"w-10 h-10 bg-[#222] rounded-full flex items-center justify-center text-gray-400",children:c.jsx(ad,{size:20})}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("h4",{className:"font-bold text-white",children:["Sfida di Primavera ",te]}),c.jsxs("p",{className:"text-xs text-gray-500",children:["Inizia tra ",te*2," giorni"]})]}),c.jsx("span",{className:"text-xs bg-yellow-900/20 text-yellow-500 px-2 py-1 rounded border border-yellow-900",children:"Programmata"})]},te))})]})]}),E==="newsletter"&&c.jsx("div",{className:"max-w-3xl mx-auto",children:c.jsxs("div",{className:"bg-[#111] border border-[#222] rounded-2xl p-8",children:[c.jsxs("h3",{className:"text-2xl font-bold mb-6 flex items-center gap-3",children:[c.jsx(Bi,{className:"text-[#FF8800]"})," Invia Aggiornamento"]}),c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"text-sm text-gray-400 block mb-2",children:"Oggetto"}),c.jsx("input",{type:"text",className:"w-full bg-[#0a0a0a] border border-[#333] rounded-lg p-4 text-white focus:border-[#FF8800] outline-none text-lg",placeholder:"Novit in arrivo..."})]}),c.jsxs("div",{children:[c.jsxs("label",{className:"text-sm text-gray-400 block mb-2",children:["Messaggio a tutti gli iscritti (",b.subscribersCount,")"]}),c.jsx("textarea",{className:"w-full bg-[#0a0a0a] border border-[#333] rounded-lg p-4 text-white h-48 outline-none resize-none font-mono text-sm leading-relaxed",placeholder:"Scrivi il tuo messaggio qui..."})]}),c.jsxs("div",{className:"flex justify-end gap-4",children:[c.jsx("button",{className:"px-6 py-3 text-gray-400 hover:text-white transition-colors font-medium",children:"Salva Bozza"}),c.jsxs("button",{className:"px-8 py-3 bg-[#FF8800] text-black font-bold rounded-xl hover:bg-[#ff9900] transition-transform transform active:scale-95 flex items-center gap-2",children:[c.jsx(Bi,{size:18})," Invia Ora"]})]})]})]})})]})]}),B&&c.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/80 backdrop-blur-sm animate-fade-in",children:c.jsx("div",{className:"bg-[#1a1a1a] p-6 rounded-2xl border border-red-900/50 shadow-[0_0_50px_rgba(220,38,38,0.2)] w-full max-w-sm mx-4 transform transition-all scale-100",children:c.jsxs("div",{className:"flex flex-col items-center text-center",children:[c.jsx("div",{className:"w-16 h-16 bg-red-900/20 rounded-full flex items-center justify-center mb-4 text-red-500 border border-red-900/30",children:c.jsx(_d,{size:32})}),c.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"Eliminare Utente?"}),c.jsxs("p",{className:"text-gray-400 text-sm mb-6",children:["Stai per cancellare definitivamente questo profilo e tutti i suoi dati (punteggi, sfide, progressi).",c.jsx("br",{}),c.jsx("span",{className:"text-red-400 font-bold block mt-2",children:"Questa azione non pu essere annullata."})]}),c.jsxs("div",{className:"flex gap-3 w-full",children:[c.jsx("button",{onClick:()=>P(null),className:"flex-1 py-3 rounded-xl font-bold text-gray-400 hover:text-white hover:bg-[#333] transition-colors",children:"ANNULLA"}),c.jsx("button",{onClick:se,className:"flex-1 py-3 rounded-xl font-bold bg-red-600 text-white hover:bg-red-500 shadow-lg shadow-red-900/20 transition-all hover:scale-[1.02]",children:"ELIMINA"})]})]})})}),c.jsxs("div",{className:"md:hidden bg-[#111] border-t border-[#222] flex justify-around p-2 pb-safe",children:[c.jsx(yo,{icon:c.jsx(xo,{}),label:"Panoramica",active:E==="overview",onClick:()=>x("overview")}),c.jsx(yo,{icon:c.jsx(go,{}),label:"Iscritti",active:E==="subscribers",onClick:()=>x("subscribers")}),c.jsx(yo,{icon:c.jsx(ad,{}),label:"Pianif.",active:E==="planning",onClick:()=>x("planning")}),c.jsx(yo,{icon:c.jsx(xd,{}),label:"News",active:E==="newsletter",onClick:()=>x("newsletter")})]})]}):c.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/90 backdrop-blur-md",children:c.jsxs("div",{className:"bg-[#1a1a1a] p-8 rounded-2xl border border-[#333] w-full max-w-md shadow-2xl relative",children:[c.jsx("button",{onClick:s,className:"absolute top-10 right-4 text-gray-500 hover:text-white transition-colors p-2",children:c.jsx(Fa,{size:24})}),c.jsxs("div",{className:"flex flex-col items-center mb-8",children:[c.jsx("div",{className:"w-16 h-16 bg-[#FF8800]/20 rounded-full flex items-center justify-center mb-4 text-[#FF8800]",children:c.jsx(Ka,{size:32})}),c.jsx("h2",{className:"text-2xl font-bold text-white",children:"Admin Access"}),c.jsx("p",{className:"text-gray-400 text-sm",children:"Area riservata amministrazione"})]}),c.jsxs("form",{onSubmit:Z,className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1 uppercase tracking-wider",children:"Username"}),c.jsxs("div",{className:"relative",children:[c.jsx(go,{className:"absolute left-3 top-3 text-gray-500",size:18}),c.jsx("input",{type:"text",value:l,onChange:te=>d(te.target.value),className:"w-full bg-[#111] border border-[#333] text-white rounded-xl py-2.5 pl-10 pr-4 focus:outline-none focus:border-[#FF8800] focus:ring-1 focus:ring-[#FF8800] transition-all",placeholder:"Inserisci username"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"block text-xs font-medium text-gray-500 mb-1 uppercase tracking-wider",children:"Password"}),c.jsxs("div",{className:"relative",children:[c.jsx(To,{className:"absolute left-3 top-3 text-gray-500",size:18}),c.jsx("input",{type:"password",value:f,onChange:te=>h(te.target.value),className:"w-full bg-[#111] border border-[#333] text-white rounded-xl py-2.5 pl-10 pr-4 focus:outline-none focus:border-[#FF8800] focus:ring-1 focus:ring-[#FF8800] transition-all",placeholder:"Inserisci password"})]})]}),c.jsx("button",{type:"submit",className:"w-full bg-[#FF8800] hover:bg-[#ff9900] text-black font-bold py-3 rounded-xl transition-all transform active:scale-95 mt-4",children:"Accedi al Pannello"})]})]})})},bo=({icon:s,label:n,active:r,onClick:l})=>c.jsxs("button",{onClick:l,className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all mb-1 ${r?"bg-[#FF8800]/10 text-[#FF8800] font-medium":"text-gray-400 hover:text-white hover:bg-[#222]"}`,children:[Oo.cloneElement(s,{size:18}),c.jsx("span",{children:n})]}),vo=({icon:s,label:n,value:r,subtext:l,color:d})=>{const f={blue:"text-blue-400 bg-blue-900/20 border-blue-900/30",green:"text-green-400 bg-green-900/20 border-green-900/30",yellow:"text-yellow-400 bg-yellow-900/20 border-yellow-900/30",purple:"text-purple-400 bg-purple-900/20 border-purple-900/30"};return c.jsxs("div",{className:`p-6 rounded-2xl border ${f[d].split(" ")[2]} bg-[#111]`,children:[c.jsx("div",{className:`w-12 h-12 rounded-xl ${f[d]} flex items-center justify-center mb-4`,children:Oo.cloneElement(s,{size:24})}),c.jsx("p",{className:"text-gray-400 text-sm font-medium uppercase tracking-wide",children:n}),c.jsx("h3",{className:"text-3xl font-bold text-white mt-1",children:r}),l&&c.jsx("p",{className:"text-xs text-gray-500 mt-2",children:l})]})},yo=({icon:s,label:n,active:r,onClick:l})=>c.jsxs("button",{onClick:l,className:`flex flex-col items-center justify-center p-2 rounded-xl transition-all ${r?"text-[#FF8800]":"text-gray-500"}`,children:[Oo.cloneElement(s,{size:24,strokeWidth:r?2.5:2}),c.jsx("span",{className:"text-[10px] mt-1 font-medium",children:n})]}),ew=({currentUser:s,onClose:n,onMatchStart:r,mode:l,showToast:d,userProfile:f,onlinePlayers:h})=>{var He;const[b,g]=M.useState([]),[p,w]=M.useState(null),[S,j]=M.useState(!1),[E,x]=M.useState(null),B=M.useRef(null),P=M.useRef(!1),[Y,H]=M.useState("lobby"),[D,Z]=M.useState(""),[ke,oe]=M.useState(()=>{try{return JSON.parse(localStorage.getItem("neural_sent_invites")||"[]")}catch{return[]}});M.useEffect(()=>{(async()=>{if(Y==="new_friend"){const X=ke.filter(ht=>ht.status==="pending");if(X.length===0)return;const ve=[...ke];let re=0;for(const ht of X){const{data:Nt}=await le.from("profiles").select("id").eq("email",ht.email).maybeSingle();if(Nt){const ta=ve.findIndex(Da=>Da.email===ht.email);ta!==-1&&(ve[ta].status="success",ve[ta].rewarded=!0,re+=100)}}re>0&&(oe(ve),localStorage.setItem("neural_sent_invites",JSON.stringify(ve)),await qt.syncProgress(s.id,re,0,0),J.playSuccess(),d(`AMICO TROVATO! +${re} Punti Bonus!`))}})()},[Y]);const[se,te]=M.useState(""),[Me,Ft]=M.useState([]),[yt,dt]=M.useState(!1),[ot,Ze]=M.useState({}),ft=async G=>{if(!(!(s!=null&&s.id)||G.length===0))try{console.log("H2H: Fetching stats for IDs:",G);const X=await $e.getHeadToHeadStats(s.id,G);console.log("H2H: Received stats:",X),X&&Object.keys(X).length>0&&Ze(ve=>({...ve,...X}))}catch(X){X.name!=="AbortError"&&X.message!=="signal is aborted without reason"&&console.error("Error fetching H2H stats:",X)}};M.useEffect(()=>{if(Y!=="invite")return;const G=setTimeout(()=>{q()},300);return()=>clearTimeout(G)},[se,Y]);const q=async()=>{dt(!0);try{const G=await qt.searchUsers(se);if(!G)return;const X=G.filter(ve=>ve.id!==s.id);if(Ft(X),X.length>0){const ve=X.map(re=>re.id);ft(ve)}}catch(G){G.name!=="AbortError"&&G.message!=="signal is aborted without reason"&&console.error("Search error",G)}finally{dt(!1)}},ee=async G=>{J.playUIClick();const X=Math.random().toString(36).substring(7);try{const ve=await $e.createInviteMatch(s.id,G.id,X,l);if(ve)return w(ve),d(`Invito inviato a ${G.username}`),B.current=$e.subscribeToMatch(ve.id,re=>{re.new.status==="active"?r(ve.grid_seed,ve.id,re.new.player2_id,!0):(re.new.status==="finished"||re.new.status==="cancelled")&&(d(`${G.username} ha rifiutato l'invito.`),w(null))}),ve}catch(ve){console.error("Invite error:",ve),d("Errore invio invito")}return null},xe=async G=>{const X=await ee(G);if(X){const ve=`${window.location.origin}${window.location.pathname}?joinMatch=${X.id}`,re="Sfida a Neural Duel!",ht=`Ciao ${G.username}, ti sfido a Neural Duel! 
Accetta la sfida qui e DOVEVINCERE! 
${ve}`;if(navigator.share)try{await navigator.share({title:re,text:ht,url:ve}),d("Link sfida condiviso!")}catch(Nt){console.log("Share cancelled or failed",Nt)}else try{await navigator.clipboard.writeText(ht),d("Link copiato negli appunti! Incollalo dove vuoi.")}catch{d("Impossibile condividere automaticamente.")}}},De=M.useCallback(async()=>{if(!P.current)try{P.current=!0,j(!0),s!=null&&s.id;const G=await $e.getOpenMatches(l);g(G);const X=G.find(re=>re.player1_id===s.id&&re.status==="pending");X?p||(console.log("LOBBY: Found existing hosted match, recovering..."),w(X)):p&&p.status;const ve=Array.from(new Set(G.map(re=>re.player1_id).filter(re=>re&&re!==s.id)));ve.length>0&&ft(ve)}catch(G){G.name!=="AbortError"&&G.message!=="signal is aborted without reason"&&console.error("LOBBY: Errore nel caricamento partite:",G)}finally{j(!1),P.current=!1}},[l,s==null?void 0:s.id,p]);M.useEffect(()=>{s!=null&&s.id&&$e.cleanupUserMatches(s.id).then(()=>De()).catch(G=>console.error("Initial cleanup error",G))},[s==null?void 0:s.id]);const Be=M.useCallback(async()=>{p&&(await $e.cancelMatch(p.id),w(null))},[p]);M.useEffect(()=>{const G=le.channel(`lobby_matches_${l}`).on("postgres_changes",{event:"*",schema:"public",table:"matches"},ve=>{var re;console.log("MATCH CHANGE DETECTED:",ve.eventType,(re=ve.new)==null?void 0:re.id),De()}).subscribe();De();const X=setInterval(De,5e3);return()=>{clearInterval(X),le.removeChannel(G)}},[l,De]);const k=b.filter(G=>G.status==="invite_pending"&&G.player2_id===s.id),L=b.filter(G=>G.player1_id!==s.id&&G.status!=="invite_pending"),W=async()=>{if(p)return;J.playUIClick();const G=Math.random().toString(36).substring(7);try{const X=await $e.createMatch(s.id,G,l);X&&(w(X),B.current=$e.subscribeToMatch(X.id,ve=>{ve.new.status==="active"&&ve.new.player2_id&&r(X.grid_seed,X.id,ve.new.player2_id,!0)}))}catch(X){console.error("Lobby error:",X),d(X.message||"Impossibile creare la sfida")}},ae=async()=>{J.playUIClick();const G=Math.random().toString(36).substring(7);try{const X=await $e.createMatch(s.id,G,l);if(X){w(X),B.current=$e.subscribeToMatch(X.id,Nt=>{Nt.new.status==="active"&&Nt.new.player2_id&&r(X.grid_seed,X.id,Nt.new.player2_id,!0)});const ve=`${window.location.origin}${window.location.pathname}?joinMatch=${X.id}`,re="Sfida a Neural Duel!",ht=`Ti sfido a Neural Duel! 
Clicca qui per accettare la sfida: ${ve}`;if(navigator.share)try{await navigator.share({title:re,text:ht,url:ve})}catch(Nt){console.log("Share dismissed",Nt)}else await navigator.clipboard.writeText(ht),d("Link sfida copiato!")}}catch(X){console.error("Invite New error:",X),d("Errore creazione invito")}},Se=async(G,X,ve)=>{x(null),J.playUIClick(),p&&await Be();try{await $e.joinMatch(G,s.id)?(J.playSuccess(),r(X,G,ve,!1)):(J.playError(),d("Sfida non pi disponibile."),De())}catch(re){console.error("Join error:",re),d(re.message||"Impossibile unirsi alla sfida"),De()}},Ne=async G=>{J.playUIClick();try{await $e.acceptInvite(G.id,s.id)?(J.playSuccess(),r(G.grid_seed,G.id,G.player1_id,!1)):(d("Invito non pi valido."),De())}catch(X){console.error("Accept invite error:",X),d("Errore accettazione invito")}};return c.jsxs("div",{className:"fixed inset-0 z-[2000] flex items-center justify-center bg-black/95 backdrop-blur-xl animate-fadeIn p-4",children:[c.jsxs("div",{className:"bg-slate-900 border border-slate-700 p-6 rounded-[2rem] w-full max-w-2xl h-[85vh] flex flex-col relative shadow-2xl overflow-hidden",children:[c.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')] opacity-20 pointer-events-none"}),c.jsxs("div",{className:"relative z-10 mb-6 border-b border-white/10",children:[c.jsxs("div",{className:"flex items-center justify-between pb-4",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:`p-3 rounded-xl border-2 ${l==="blitz"?"bg-orange-500/20 border-orange-500 text-orange-400":"bg-red-500/20 border-red-500 text-red-500"}`,children:c.jsx(ia,{className:"w-6 h-6"})}),c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-black font-orbitron text-white uppercase tracking-wider leading-none mb-1",children:l==="blitz"?"BLITZ DOMINION":l==="time_attack"?"CHRONO CLASH":"NEURAL LOBBY"}),c.jsxs("div",{className:"flex gap-2 items-center",children:[c.jsxs("span",{className:"text-[9px] font-black text-slate-500 uppercase tracking-widest bg-white/5 px-2 py-0.5 rounded",children:["MODE: ",l]}),c.jsx("span",{className:"text-[9px] font-black text-green-500 uppercase tracking-widest animate-pulse",children:"Live"})]})]})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:De,className:"p-2 text-slate-400 hover:text-white transition-colors bg-white/5 rounded-lg active:scale-95 border border-white/5",title:"Aggiorna",children:c.jsx(yd,{className:`w-5 h-5 ${S?"animate-spin":""}`})}),c.jsx("button",{onClick:async()=>{await Be(),n()},className:"p-2 text-slate-400 hover:text-white transition-colors bg-white/5 rounded-lg border border-white/5",children:c.jsx(Px,{className:"w-5 h-5"})})]})]}),c.jsxs("div",{className:"flex items-center justify-between px-2 mt-2",children:[c.jsxs("div",{className:"flex gap-8",children:[c.jsx("button",{onClick:()=>H("lobby"),className:`pb-2 text-xs font-black uppercase tracking-widest transition-all border-b-2 ${Y==="lobby"?"text-white border-[#FF8800]":"text-slate-500 border-transparent hover:text-slate-300"}`,children:"Lobby Pubblica"}),c.jsx("button",{onClick:()=>H("invite"),className:`pb-2 text-xs font-black uppercase tracking-widest transition-all border-b-2 ${Y==="invite"?"text-white border-green-500":"text-slate-500 border-transparent hover:text-slate-300"}`,children:"Sfida Amico"})]}),c.jsxs("button",{onClick:ae,className:"px-2 py-1 bg-gradient-to-r from-orange-500 to-amber-600 text-white rounded-lg font-black font-orbitron uppercase tracking-wide text-[10px] border border-white/20 shadow-lg hover:scale-105 active:scale-95 transition-all flex items-center gap-1",children:[c.jsx(Bi,{size:12}),"INVITA AMICO"]})]})]}),c.jsx("div",{className:"relative z-10 flex-grow overflow-y-auto custom-scroll pr-2 mb-6 space-y-4",children:p?c.jsxs("div",{className:"h-full flex flex-col items-center justify-center text-center p-8 animate-fadeIn",children:[c.jsxs("div",{className:"relative mb-8",children:[c.jsx("div",{className:`w-24 h-24 rounded-full border-4 border-dashed animate-spin-slow ${Y==="invite"?"border-green-500":"border-[#FF8800]"}`}),c.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:Y==="invite"?c.jsx(Bi,{className:"text-green-500 animate-pulse",size:32}):c.jsx(ia,{className:"text-[#FF8800] animate-pulse",size:40})})]}),c.jsx("h3",{className:"text-2xl font-black font-orbitron text-white uppercase tracking-wider mb-2",children:(f==null?void 0:f.username)||((He=s.user_metadata)==null?void 0:He.username)||"Guerriero"}),c.jsx("div",{className:"flex items-center gap-2 mb-8 bg-white/5 px-3 py-1 rounded-full border border-white/10",children:c.jsxs("span",{className:"text-[10px] font-black text-slate-500 uppercase",children:["LIVELLO ",(f==null?void 0:f.max_level)||1]})}),c.jsx("p",{className:"text-slate-400 text-sm max-w-xs mb-8",children:b.some(G=>G.id===p.id&&G.status==="invite_pending")?"Invito inviato. In attesa di risposta...":"Sei in attesa di uno sfidante. La partita inizier automaticamente."}),c.jsx("div",{className:"flex flex-col gap-4 w-full max-w-xs",children:c.jsx("button",{onClick:Be,className:"w-full py-4 bg-red-600 text-white rounded-xl font-orbitron font-black uppercase tracking-widest text-xs border-2 border-white shadow-lg active:scale-95 transition-all",children:"ANNULLA"})})]}):c.jsxs(c.Fragment,{children:[Y==="lobby"&&c.jsxs("div",{className:"space-y-6",children:[!p&&c.jsxs("button",{onClick:W,className:"w-full py-4 bg-gradient-to-r from-orange-500 to-amber-600 text-white rounded-2xl font-black font-orbitron uppercase tracking-widest text-xs border-2 border-white/20 shadow-[0_8px_20px_rgba(249,115,22,0.3)] hover:scale-[1.02] active:scale-95 transition-all flex items-center justify-center gap-3 group",children:[c.jsx("div",{className:"w-8 h-8 rounded-full bg-white/20 flex items-center justify-center group-hover:rotate-90 transition-transform",children:c.jsx(ia,{size:18})}),"APRI NUOVA SFIDA PUBBLICA"]}),k.length>0&&c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx(Bi,{className:"w-3 h-3 text-green-500 animate-pulse rotate-180"}),c.jsx("span",{className:"text-[10px] font-black text-green-500 uppercase tracking-[0.2em]",children:"Inviti Ricevuti"})]}),k.map(G=>{var X,ve,re,ht;return c.jsxs("div",{className:"p-4 bg-green-500/10 border border-green-500/30 rounded-2xl flex items-center justify-between animate-fadeIn translate-y-0 shadow-[0_0_15px_rgba(34,197,94,0.1)]",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"w-11 h-11 rounded-full bg-slate-800 border-2 border-green-500/50 overflow-hidden",children:(X=G.player1)!=null&&X.avatar_url?c.jsx("img",{src:G.player1.avatar_url,className:"w-full h-full object-cover",alt:"Avatar"}):c.jsx("div",{className:"w-full h-full flex items-center justify-center text-green-500 font-bold uppercase",children:((re=(ve=G.player1)==null?void 0:ve.username)==null?void 0:re.charAt(0))||"S"})}),c.jsx("div",{className:`absolute -bottom-1 -right-1 w-3.5 h-3.5 rounded-full border-2 border-slate-900 ${h.some(Nt=>Nt.id===G.player1_id)?"bg-green-500":"bg-red-500/50"}`})]}),c.jsxs("div",{children:[c.jsx("div",{className:"text-sm font-black text-white uppercase tracking-wider",children:((ht=G.player1)==null?void 0:ht.username)||"Sconosciuto"}),c.jsx("div",{className:"text-[10px] text-green-400 font-bold uppercase tracking-tighter mb-1",children:"Ti ha sfidato!"}),ot[G.player1_id]&&c.jsxs("div",{className:"flex gap-2 text-[9px] font-black uppercase",children:[c.jsxs("span",{className:"text-green-500 font-bold",children:["Vinte: ",ot[G.player1_id].wins]}),c.jsxs("span",{className:"text-red-500 font-bold",children:["Perse: ",ot[G.player1_id].losses]})]})]})]}),c.jsx("button",{onClick:()=>Ne(G),className:"px-5 py-2 bg-green-500 text-slate-950 rounded-lg font-black text-[10px] uppercase tracking-widest hover:bg-green-400 transition-all active:scale-95 shadow-lg",children:"ACCETTA"})]},G.id)})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx(S1,{className:"w-3 h-3 text-red-500 animate-pulse"}),c.jsx("span",{className:"text-[10px] font-black text-slate-500 uppercase tracking-[0.2em]",children:"Partite in Corso"})]}),L.length===0&&c.jsxs("div",{className:"py-8 text-center border border-dashed border-white/5 rounded-xl opacity-40 italic text-[10px] uppercase flex flex-col items-center gap-2",children:[c.jsx(ia,{size:24,className:"opacity-20"}),"Nessuna sfida attiva in ",l]}),L.map(G=>{var ht,Nt,ta,Da;const X=G.status==="active",ve=G.status==="pending"&&!G.player2_id,re=G.player1;return c.jsxs("div",{onClick:()=>ve&&x(G),className:`p-4 rounded-2xl flex items-center justify-between transition-all border group
                                                        ${X?"bg-slate-900/40 border-slate-800 opacity-80 cursor-not-allowed":ve?"bg-white/5 border-white/5 shadow-[0_0_20px_rgba(255,255,255,0.02)] cursor-pointer hover:border-cyan-500/30 hover:bg-white/[0.07] active:scale-[0.98]":"bg-slate-900/40 border-slate-800 opacity-50 cursor-not-allowed"}`,children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:`w-11 h-11 rounded-full overflow-hidden border-2 ${X?"border-red-500/30":"border-white/10 group-hover:border-cyan-500/50"}`,children:re!=null&&re.avatar_url?c.jsx("img",{src:re.avatar_url,className:"w-full h-full object-cover",alt:"Avatar"}):c.jsx("div",{className:"w-full h-full bg-slate-800 flex items-center justify-center text-slate-500 font-bold uppercase text-xs",children:((ht=re==null?void 0:re.username)==null?void 0:ht.charAt(0))||"?"})}),c.jsx("div",{className:`absolute -bottom-1 -right-1 w-3.5 h-3.5 rounded-full border-2 border-slate-900 ${h.some(ls=>ls.id===G.player1_id)?"bg-green-500 shadow-[0_0_8px_rgba(34,197,94,0.6)]":"bg-red-500/50"}`})]}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsxs("div",{className:"text-sm font-black text-white uppercase tracking-wider flex items-center gap-2 group-hover:text-cyan-400 transition-colors truncate",children:[c.jsx("span",{className:"truncate",children:(re==null?void 0:re.username)||((Nt=G.player1_id)==null?void 0:Nt.slice(0,8))||"Sconosciuto"}),X&&c.jsx("span",{className:"text-red-500 mx-1 text-[8px] shrink-0",children:"VS"}),X&&c.jsx("span",{className:"truncate",children:((ta=G.player2)==null?void 0:ta.username)||((Da=G.player2_id)==null?void 0:Da.slice(0,8))||"Sconosciuto"})]}),c.jsxs("div",{className:"text-[10px] text-slate-500 uppercase font-bold tracking-tight truncate",children:["LVL ",(re==null?void 0:re.max_level)||1,"  ",X?"In Sfida":"Pronto a combattere"]}),ot[(re==null?void 0:re.id)||G.player1_id]?c.jsxs("div",{className:"flex gap-2 text-[9px] font-black uppercase mt-1",children:[c.jsxs("span",{className:"text-green-500 font-bold",children:["Vinte: ",ot[(re==null?void 0:re.id)||G.player1_id].wins]}),c.jsxs("span",{className:"text-red-500 font-bold",children:["Perse: ",ot[(re==null?void 0:re.id)||G.player1_id].losses]})]}):c.jsxs("div",{className:"flex gap-2 text-[9px] font-black uppercase mt-1 opacity-20",children:[c.jsx("span",{children:"Vinte: 0"}),c.jsx("span",{children:"Perse: 0"})]})]})]}),c.jsxs("div",{className:"flex flex-col items-end gap-1",children:[X?c.jsx("span",{className:"text-[9px] bg-red-600 font-black text-white px-2 py-0.5 rounded uppercase tracking-widest border border-red-400/30",children:"LOCKED"}):ve?c.jsx("span",{className:"text-[9px] bg-[#FF8800] font-black text-white px-2 py-0.5 rounded uppercase tracking-widest group-hover:animate-pulse",children:"SFIDA"}):c.jsx("span",{className:"text-[9px] bg-slate-700 font-black text-white px-2 py-0.5 rounded uppercase tracking-widest",children:"PRIVATE"}),c.jsx("div",{className:"text-[8px] text-slate-600 font-bold uppercase",children:X?"Occupato":ve?"Libero":"Invito"})]})]},G.id)})]}),c.jsxs("div",{className:"space-y-3 pt-4",children:[c.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[c.jsx(pd,{className:"w-3 h-3 text-cyan-400"}),c.jsx("span",{className:"text-[10px] font-black text-slate-500 uppercase tracking-[0.2em]",children:"Spettatori in Lobby"})]}),(()=>{const G=h.filter(X=>{const ve=b.some(ht=>String(ht.player1_id)===String(X.id)||String(ht.player2_id)===String(X.id));return String(X.id)===String(s.id)?!1:!ve});return G.length===0?c.jsx("p",{className:"text-[10px] text-slate-600 italic text-center py-2 uppercase",children:"Nessun osservatore attivo"}):G.map(X=>c.jsxs("div",{className:"p-3 bg-white/[0.03] border border-white/5 rounded-xl flex items-center justify-between opacity-70",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("div",{className:"w-9 h-9 rounded-full bg-slate-800 border border-cyan-500/30 flex items-center justify-center",children:c.jsx(pd,{className:"text-cyan-500/50",size:16})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("div",{className:"text-xs font-bold text-slate-300 uppercase truncate",children:X.username}),c.jsx("span",{className:"text-[8px] text-cyan-500/60 font-black uppercase tracking-tighter",children:"OSSERVATORE"})]})]}),c.jsx("div",{className:"text-[8px] text-slate-600 font-mono",children:"CONNESSO"})]},X.id))})()]})]}),Y==="invite"&&c.jsxs("div",{className:"space-y-6 px-2 animate-fadeIn",children:[c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("div",{className:"relative flex-grow",children:[c.jsx("div",{className:"absolute inset-y-0 left-3 flex items-center pointer-events-none",children:c.jsx($m,{className:"w-4 h-4 text-slate-500"})}),c.jsx("input",{type:"text",placeholder:"Cerca per nome utente...",className:"w-full bg-white/5 border border-white/10 rounded-xl py-3 pl-10 pr-4 text-white text-sm placeholder:text-slate-600 focus:outline-none focus:border-cyan-500/50 focus:ring-1 focus:ring-cyan-500/50 transition-all font-bold",value:se,onChange:G=>te(G.target.value)})]}),c.jsx("button",{onClick:q,disabled:yt,className:"bg-cyan-600/20 text-cyan-400 border border-cyan-500/30 px-4 rounded-xl active:scale-95 transition-all hover:bg-cyan-600/30 font-bold",children:yt?c.jsx(yd,{className:"w-5 h-5 animate-spin"}):c.jsx($m,{className:"w-5 h-5"})})]}),c.jsx("h3",{className:"text-[10px] font-black uppercase tracking-[0.2em] text-cyan-400 mb-2 mt-4 ml-1",children:se.length>0?"Risultati Ricerca":"Giocatori Recenti"}),c.jsx("div",{className:"space-y-3",children:Me.length>0&&Me.map(G=>c.jsxs("div",{className:"bg-white/5 border border-white/5 p-4 rounded-2xl flex items-center justify-between group hover:border-cyan-500/30 transition-all",children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"w-10 h-10 rounded-full bg-slate-800 border-2 border-white/10 overflow-hidden",children:G.avatar_url?c.jsx("img",{src:G.avatar_url,className:"w-full h-full object-cover",alt:G.username}):c.jsx("div",{className:"w-full h-full flex items-center justify-center text-slate-500 font-bold",children:G.username.charAt(0)})}),c.jsx("div",{className:`absolute -bottom-0.5 -right-0.5 w-3.5 h-3.5 rounded-full border-2 border-slate-900 ${h.some(X=>X.id===G.id)?"bg-green-500 shadow-[0_0_8px_rgba(34,197,94,0.8)]":"bg-red-500/50"}`,title:h.some(X=>X.id===G.id)?"Online nel Gioco":"Offline"})]}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("div",{className:"text-white font-bold uppercase tracking-wider text-sm truncate",children:G.username}),c.jsxs("div",{className:"text-[10px] text-slate-500 font-black uppercase truncate",children:["Lv. ",G.max_level||1,"  ",G.total_score||0," Pts"]}),ot[G.id]?c.jsxs("div",{className:"flex gap-2 text-[9px] font-black uppercase mt-1",children:[c.jsxs("span",{className:"text-green-500 font-bold",children:["Vinte: ",ot[G.id].wins]}),c.jsxs("span",{className:"text-red-500 font-bold",children:["Perse: ",ot[G.id].losses]})]}):c.jsxs("div",{className:"flex gap-2 text-[9px] font-black uppercase mt-1 opacity-20",children:[c.jsx("span",{children:"Vinte: 0"}),c.jsx("span",{children:"Perse: 0"})]})]})]}),c.jsxs("div",{className:"flex gap-2 shrink-0",children:[c.jsx("button",{onClick:()=>xe(G),disabled:p!==null&&p.player2_id!==G.id,className:`w-8 h-8 flex items-center justify-center rounded-lg border transition-all active:scale-95
                                                                    ${p!==null&&p.player2_id!==G.id?"bg-slate-800 border-slate-700 text-slate-600 cursor-not-allowed":"bg-indigo-500/20 text-indigo-400 border-indigo-500/30 hover:bg-indigo-500/30 hover:text-white"}`,title:"Condividi Link Sfida (WhatsApp, Telegram, etc.)",children:c.jsx(Bi,{size:14})}),c.jsx("button",{onClick:()=>ee(G),disabled:p!==null,className:`w-8 h-8 flex items-center justify-center rounded-lg border transition-all active:scale-95
                                                                        ${p?"bg-slate-800 text-slate-500 border-slate-700 cursor-not-allowed":"bg-green-500 text-white border-green-400 shadow-[0_0_10px_rgba(34,197,94,0.3)] hover:scale-105 hover:bg-green-400"}`,title:p?"Sei gi occupato":"Invita a Giocare",children:c.jsx(ia,{size:14})})]})]},G.id))}),!yt&&se.length>2&&Me.length===0&&c.jsx("div",{className:"text-center py-8 opacity-50 text-xs italic",children:"Nessun giocatore trovato"})]})]})})]}),E&&c.jsx("div",{className:"absolute inset-0 z-50 flex items-end justify-center p-6 bg-black/40 backdrop-blur-sm animate-fadeIn",children:c.jsx("div",{className:"bg-slate-900 border-2 border-green-500/50 p-6 rounded-[2rem] w-full max-w-sm shadow-2xl animate-slideUp",children:c.jsxs("div",{className:"flex flex-col items-center text-center gap-4",children:[c.jsx("div",{className:"w-16 h-16 rounded-full bg-green-500/10 border-2 border-green-500 flex items-center justify-center",children:c.jsx(ia,{className:"text-green-500",size:28})}),c.jsx("h3",{className:"text-lg font-black font-orbitron text-white uppercase tracking-wider",children:"CONFERMI SFIDA?"}),c.jsxs("div",{className:"flex gap-3 w-full mt-2",children:[c.jsx("button",{onClick:()=>x(null),className:"flex-1 py-3 bg-slate-800 text-slate-400 rounded-xl font-black text-xs uppercase border border-slate-700",children:"ANNULLA"}),c.jsx("button",{onClick:()=>Se(E.id,E.grid_seed,E.player1_id),className:"flex-1 py-3 bg-green-600 text-white rounded-xl font-black text-xs uppercase shadow-lg",children:"SI, SFIDA!"})]})]})})})]})},tw=({matchData:s,currentUser:n,myScore:r,opponentScore:l,isFinal:d,onReady:f,onExit:h,isWinnerProp:b})=>{var Y,H,D,Z;const[g,p]=M.useState(!1),w=(s==null?void 0:s.player1_id)===n.id,S=(s==null?void 0:s.winner_id)===n.id,j=b!==void 0?b:S,E=w?s.p1_rounds||0:s.p2_rounds||0,x=w?s.p2_rounds||0:s.p1_rounds||0,B=w?s.p1_ready:s.p2_ready;w?s.p2_ready:s.p1_ready,M.useEffect(()=>{p(!!B)},[B]),M.useEffect(()=>{d&&j&&J.playExternalSound("Fine_partita_win.mp3")},[d,j]);const P=((s==null?void 0:s.status)==="finished"||(s==null?void 0:s.status)==="cancelled")&&(s==null?void 0:s.winner_id)&&(!d||(s==null?void 0:s.status)==="cancelled");return c.jsx("div",{className:"fixed inset-0 z-[5000] flex items-center justify-center p-4 modal-overlay bg-black/95 backdrop-blur-xl animate-fadeIn",children:c.jsxs("div",{className:"bg-slate-900/80 border border-white/10 w-full max-w-[550px] rounded-[2rem] shadow-[0_25px_50px_-12px_rgba(0,0,0,0.5),0_0_40px_rgba(255,136,0,0.1)] flex flex-col relative overflow-hidden",children:[c.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')] opacity-10 pointer-events-none"}),c.jsxs("div",{className:"relative z-10 bg-black/40 p-5 border-b border-white/5 text-center",children:[c.jsxs("h2",{className:"text-2xl font-black font-orbitron text-white uppercase tracking-wider flex items-center justify-center gap-3",children:[c.jsx(ia,{className:"text-[#FF8800]",size:24}),j?"VITTORIA":"SCONFITTA"]}),c.jsx("p",{className:`text-[10px] font-black uppercase tracking-[0.3em] mt-1 ${j?"text-green-400":"text-red-400"}`,children:P?"PER ABBANDONO":j?"DOMINION":"BATTO IN RITIRATA"})]}),c.jsxs("div",{className:"relative z-10 p-8 grid grid-cols-[1fr_auto_1fr] items-center gap-4",children:[c.jsxs("div",{className:`flex flex-col items-center gap-3 transition-all duration-300 ${j?"scale-105":"opacity-70"}`,children:[(s==null?void 0:s.mode)==="blitz"?c.jsxs("div",{className:`w-28 h-28 rounded-2xl flex flex-col items-center justify-center shadow-xl relative transition-all border-2
                                ${j?"bg-[#FF8800]/10 border-[#FF8800]":"bg-white/5 border-white/10"}`,children:[c.jsxs("div",{className:"flex flex-col items-center justify-center leading-none",children:[c.jsx("span",{className:"text-[9px] font-black text-white/50 uppercase mb-1",children:"TARGETS"}),c.jsx("span",{className:`font-orbitron font-black text-4xl ${j?"text-[#FF8800]":"text-white"}`,children:E})]}),c.jsx("div",{className:"w-full h-[1px] bg-white/10 my-1"}),c.jsxs("div",{className:"flex flex-col items-center justify-center leading-none",children:[c.jsx("span",{className:"text-[7px] font-black text-white/30 uppercase",children:"PTS"}),c.jsx("span",{className:`font-orbitron font-bold text-xl ${j?"text-[#FF8800]/80":"text-white/50"}`,children:r})]})]}):c.jsxs("div",{className:`w-28 h-28 rounded-2xl flex flex-col items-center justify-center shadow-xl relative transition-all
                                ${j?"bg-[#FF8800]/5":"bg-white/5"}`,children:[c.jsx("span",{className:"text-[9px] font-black text-white/30 uppercase absolute top-2",children:"PUNTI"}),c.jsx("span",{className:`font-orbitron font-black text-4xl ${j?"text-[#FF8800]":"text-white"}`,children:r})]}),c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsx("span",{className:"text-white font-black uppercase text-[11px] tracking-wider",children:"TU"}),c.jsxs("div",{className:"flex flex-col items-center",children:[(s==null?void 0:s.mode)!=="blitz"&&c.jsxs("span",{className:"text-[#FF8800] font-bold text-[9px] mt-0.5",children:["+",r," XP"]}),(s==null?void 0:s.mode)==="blitz"&&c.jsxs("span",{className:"text-[#FF8800] font-bold text-[9px] mt-0.5",children:["+",r," XP"]}),j&&((s==null?void 0:s.last_time_bonus)>0||(s==null?void 0:s.last_victory_bonus)>0)&&c.jsxs("div",{className:"mt-2 space-y-0.5 bg-black/20 p-2 rounded-lg border border-white/5 w-full min-w-[120px]",children:[s.last_victory_bonus>0&&c.jsxs("div",{className:"flex justify-between items-center text-[7px] font-black tracking-tighter uppercase",children:[c.jsx("span",{className:"text-white/40",children:"BONUS VITTORIA"}),c.jsxs("span",{className:"text-green-400",children:["+",s.last_victory_bonus]})]}),s.last_time_bonus>0&&c.jsxs("div",{className:"flex justify-between items-center text-[7px] font-black tracking-tighter uppercase",children:[c.jsx("span",{className:"text-white/40",children:"BONUS TEMPO"}),c.jsxs("span",{className:"text-green-400",children:["+",s.last_time_bonus]})]})]})]})]})]}),c.jsxs("div",{className:"flex flex-col items-center gap-2 px-2",children:[c.jsx("div",{className:"h-12 w-[1px] bg-gradient-to-b from-transparent via-white/20 to-transparent"}),c.jsx("span",{className:"font-black font-orbitron text-2xl text-white/10 italic",children:"VS"}),c.jsx("div",{className:"h-12 w-[1px] bg-gradient-to-b from-transparent via-white/20 to-transparent"})]}),c.jsxs("div",{className:`flex flex-col items-center gap-3 transition-all duration-300 ${j?"opacity-50":"scale-105"}`,children:[(s==null?void 0:s.mode)==="time_attack"?c.jsxs("div",{className:`w-28 h-28 rounded-2xl flex flex-col items-center justify-center shadow-xl relative transition-all
                                ${j?"bg-white/5":"bg-green-500/5"}`,children:[c.jsx(fp,{size:24,className:"text-white/30 mb-1"}),c.jsx("span",{className:"font-orbitron font-black text-2xl text-white/60",children:"60s"})]}):(s==null?void 0:s.mode)==="blitz"?c.jsxs("div",{className:`w-28 h-28 rounded-2xl flex flex-col items-center justify-center shadow-xl relative transition-all border-2
                                ${j?"bg-white/5 border-white/10":"bg-green-500/10 border-green-500"}`,children:[c.jsxs("div",{className:"flex flex-col items-center justify-center leading-none",children:[c.jsx("span",{className:"text-[9px] font-black text-white/50 uppercase mb-1",children:"TARGETS"}),c.jsx("span",{className:`font-orbitron font-black text-4xl ${j?"text-white":"text-green-500"}`,children:x})]}),c.jsx("div",{className:"w-full h-[1px] bg-white/10 my-1"}),c.jsxs("div",{className:"flex flex-col items-center justify-center leading-none",children:[c.jsx("span",{className:"text-[7px] font-black text-white/30 uppercase",children:"PTS"}),c.jsx("span",{className:`font-orbitron font-bold text-xl ${j?"text-white/50":"text-green-500/80"}`,children:l})]})]}):c.jsxs("div",{className:`w-28 h-28 rounded-2xl flex flex-col items-center justify-center shadow-xl relative transition-all
                                ${j?"bg-white/5":"bg-green-500/5"}`,children:[c.jsx("span",{className:"text-[9px] font-black text-white/30 uppercase absolute top-2",children:"PUNTI"}),c.jsx("span",{className:`font-orbitron font-black text-4xl ${j?"text-white/60":"text-green-500"}`,children:l})]}),c.jsxs("div",{className:"flex flex-col items-center text-center",children:[c.jsx("span",{className:"text-white/70 font-black uppercase text-[11px] tracking-wider truncate max-w-[100px]",children:w?(Y=s.player2)==null?void 0:Y.username:((H=s.player1)==null?void 0:H.username)||"Avversario"}),c.jsxs("span",{className:"text-white/20 font-bold text-[9px] mt-0.5",children:["LIVELLO ",w?((D=s.player2)==null?void 0:D.max_level)||1:((Z=s.player1)==null?void 0:Z.max_level)||1]})]})]})]}),c.jsx("div",{className:"relative z-10 bg-black/40 p-6 flex gap-3 border-t border-white/5",children:c.jsxs("button",{onClick:()=>{J.playUIClick(),h()},className:"flex-1 py-4 bg-white/5 hover:bg-white/10 text-white rounded-xl font-orbitron font-black text-[11px] uppercase tracking-widest transition-all active:scale-95 border border-white/10 flex items-center justify-center gap-2",children:[c.jsx(vd,{size:16})," LOBBY"]})})]})})},aw=({onFinish:s})=>{const n=M.useRef(null),[r,l]=M.useState(!1),[d,f]=M.useState(!1),[h,b]=M.useState(!1),g=S=>{S.stopPropagation();const j=!h;b(j),n.current&&(n.current.muted=j)},p=()=>{console.log("Intro Video: Triggering Home"),!d&&(f(!0),s())},w=async()=>{if(console.log("Intro Video: Starting sequence..."),!r&&(l(!0),n.current))try{n.current.load(),await n.current.play().catch(S=>{console.warn("Video play blocked - forcing home",S),p()}),console.log("Intro Video: Playback started successfully")}catch(S){console.error("Intro Video: Playback failed",S)}};return c.jsxs("div",{className:"fixed inset-0 z-[100000] bg-black flex items-center justify-center overflow-hidden w-full h-[100dvh]",onPointerDown:S=>S.stopPropagation(),children:[c.jsx("button",{onPointerDown:g,className:`absolute top-12 right-6 z-[100010] p-3 rounded-full border transition-all active:scale-95 shadow-lg
                    ${h?"bg-black/40 backdrop-blur-md border-white/10 text-slate-400 hover:text-white hover:bg-white/10":"bg-[#FF8800] border-[#FF8800] text-white shadow-[0_0_20px_rgba(255,136,0,0.4)]"}`,children:h?c.jsx(So,{size:24}):c.jsx(_o,{size:24})}),c.jsx("video",{ref:n,src:"/Intro_breve_1.mp4",className:`absolute inset-0 w-full h-full object-cover transition-opacity duration-1000 ${r?"opacity-100":"opacity-0"}`,playsInline:!0,preload:"auto",onEnded:p,onError:p}),!r&&c.jsxs("div",{className:"absolute inset-0 z-20 flex flex-col items-center justify-end w-full h-full pb-[10vh]",children:[c.jsx("div",{className:"absolute inset-0 bg-cover bg-center bg-no-repeat w-full h-full opacity-90",style:{backgroundImage:'url("/intrologo.png?v=2")'}}),c.jsx("div",{className:"relative z-30 mb-8 translate-y-[50px]",children:c.jsxs("button",{onPointerDown:S=>{S.stopPropagation(),w()},className:"group relative px-8 py-4 bg-[#FF8800] rounded-xl border-2 border-white/20 shadow-[0_0_30px_rgba(255,136,0,0.4)] active:scale-95 transition-all",children:[c.jsx("div",{className:"absolute inset-0 bg-white opacity-0 group-hover:opacity-10 transition-opacity rounded-xl"}),c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsx("div",{className:"p-2 bg-black/20 rounded-lg",children:c.jsx(Ds,{size:20,className:"text-white fill-white"})}),c.jsxs("div",{className:"flex flex-col items-start translate-y-[-1px]",children:[c.jsx("span",{className:"text-[10px] text-white/70 font-orbitron tracking-[0.2em] font-bold",children:"PRONTI A PARTIRE"}),c.jsx("span",{className:"text-sm text-white font-orbitron font-black tracking-widest uppercase",children:"Iniziamo l'avventura"})]})]})]})})]}),r&&c.jsxs("button",{onPointerDown:S=>{S.stopPropagation(),p()},className:"absolute bottom-12 right-12 z-30 px-6 py-3 bg-black/40 backdrop-blur-xl border border-white/10 rounded-2xl text-white font-orbitron font-black text-[10px] uppercase tracking-widest hover:bg-white/10 transition-all flex items-center gap-3 active:scale-95 group",children:[c.jsx("span",{children:"SKIP INTRO"}),c.jsx(gd,{size:14,className:"text-[#FF8800]"})]})]})},Hm=({steps:s,onComplete:n,onSkip:r,isVisible:l})=>{const[d,f]=M.useState(0),[h,b]=M.useState(!1),[g,p]=M.useState(null);M.useEffect(()=>{if(!l)return;const x=s[d];if(x.targetId){const B=document.getElementById(x.targetId);p(B?B.getBoundingClientRect():null)}else p(null)},[d,l,s]);const w=()=>{d<s.length-1?f(x=>x+1):n(h)};if(!l)return null;const S=s[d];let j={top:"50%",left:"50%",transform:"translate(-50%, -50%)",position:"fixed"},E="hidden";if(g){const Y=window.innerHeight-g.bottom,H=g.top;let D=g.left+g.width/2-220/2;const Z=10;D<Z&&(D=Z),D+220>window.innerWidth-Z&&(D=window.innerWidth-220-Z),Y>220?(j={top:g.bottom+15,left:D,position:"fixed",width:220},g.left+g.width/2-D,E="absolute -top-3 border-l-[10px] border-l-transparent border-r-[10px] border-r-transparent border-b-[12px] border-b-white"):H>220?(j={top:g.top-160-15,left:D,position:"fixed",width:220},g.left+g.width/2-D,E="absolute -bottom-3 border-l-[10px] border-l-transparent border-r-[10px] border-r-transparent border-t-[12px] border-t-white"):j={top:"50%",left:"50%",transform:"translate(-50%, -50%)",position:"fixed",width:220}}return c.jsxs("div",{className:"fixed inset-0 z-[99999] pointer-events-none",children:[c.jsx("div",{className:"absolute inset-0 bg-black/50 pointer-events-auto transition-opacity",onClick:x=>x.stopPropagation()}),g&&c.jsx("div",{className:"absolute border-[4px] border-[#FF8800] rounded-xl shadow-[0_0_0_9999px_rgba(0,0,0,0.5)] z-[100000] pointer-events-none box-content",style:{top:g.top-5,left:g.left-5,width:g.width+10,height:g.height+10}}),c.jsx("div",{className:"z-[100001] pointer-events-auto transition-all duration-300",style:j,children:c.jsxs("div",{className:"bg-white border-[3px] border-slate-900 rounded-2xl shadow-2xl relative",children:[c.jsx("div",{className:E,style:{left:g?Math.max(10,Math.min(210,g.left+g.width/2-j.left)):"50%",transform:"translateX(-50%)"}}),c.jsxs("div",{className:"flex justify-between items-start p-4 pb-2",children:[c.jsx("h3",{className:"text-sm font-black font-orbitron text-[#FF8800] uppercase tracking-wider leading-tight w-[90%]",children:S.title}),c.jsx("button",{onClick:()=>r(h),className:"text-slate-300 hover:text-slate-900 transition-colors",children:c.jsx(Fa,{size:16})})]}),c.jsxs("div",{className:"px-4 pb-4",children:[c.jsx("p",{className:"text-slate-700 font-bold text-xs leading-relaxed font-comic mb-4",children:S.description}),c.jsxs("div",{className:"flex flex-col gap-2",children:[c.jsx("div",{className:"flex gap-2",children:c.jsxs("button",{onClick:w,className:"flex-1 bg-slate-900 text-white py-2 rounded-lg font-orbitron font-black uppercase text-xs shadow-md active:scale-95 transition-all flex items-center justify-center gap-2 hover:bg-[#FF8800]",children:[d===s.length-1?"OK":"AVANTI",c.jsx(Nx,{size:12})]})}),c.jsxs("label",{className:"flex items-center gap-2 cursor-pointer group justify-center",children:[c.jsx("input",{type:"checkbox",className:"accent-[#FF8800] w-3 h-3",checked:h,onChange:x=>b(x.target.checked)}),c.jsx("span",{className:"text-[9px] font-bold text-slate-400 uppercase tracking-wide group-hover:text-slate-600",children:"Non mostrare pi"})]})]})]})]})})]})},hp=[{id:"level_2",title:"Recluta",description:"Raggiungi il Livello 2.",icon:wd,color:"text-slate-400",bgGradient:"from-slate-500/20 to-gray-500/20",condition:s=>s.max_level>=2},{id:"level_5",title:"Esploratore",description:"Raggiungi il Livello 5.",icon:wd,color:"text-cyan-400",bgGradient:"from-cyan-500/20 to-blue-500/20",condition:s=>s.max_level>=5},{id:"level_10",title:"Scalatore",description:"Raggiungi il Livello 10.",icon:ko,color:"text-green-400",bgGradient:"from-green-500/20 to-emerald-500/20",condition:s=>s.max_level>=10},{id:"level_15",title:"Veterano",description:"Raggiungi il Livello 15.",icon:Ka,color:"text-blue-500",bgGradient:"from-blue-600/20 to-indigo-600/20",condition:s=>s.max_level>=15},{id:"level_20",title:"Maestro",description:"Raggiungi il Livello 20.",icon:Bs,color:"text-amber-400",bgGradient:"from-amber-500/20 to-yellow-500/20",condition:s=>s.max_level>=20},{id:"level_30",title:"Stratega",description:"Raggiungi il Livello 30.",icon:qi,color:"text-purple-400",bgGradient:"from-purple-500/20 to-fuchsia-500/20",condition:s=>s.max_level>=30},{id:"level_40",title:"Architetto",description:"Raggiungi il Livello 40.",icon:r1,color:"text-pink-500",bgGradient:"from-pink-500/20 to-rose-500/20",condition:s=>s.max_level>=40},{id:"level_50",title:"Dominatore",description:"Raggiungi il Livello 50.",icon:ia,color:"text-red-500",bgGradient:"from-red-600/20 to-orange-600/20",condition:s=>s.max_level>=50},{id:"level_75",title:"Leggenda Vivente",description:"Raggiungi il Livello 75.",icon:bd,color:"text-teal-400",bgGradient:"from-teal-500/20 to-emerald-500/20",condition:s=>s.max_level>=75},{id:"level_100",title:"Divinit",description:"Raggiungi il Livello 100.",icon:wo,color:"text-yellow-300",bgGradient:"from-yellow-400/20 to-amber-400/20",condition:s=>s.max_level>=100},{id:"score_1k",title:"Promessa",description:"Raggiungi 1.000 punti.",icon:Ls,color:"text-yellow-400",bgGradient:"from-yellow-500/20 to-orange-500/20",condition:s=>s.total_score>=1e3},{id:"score_5k",title:"Esperto",description:"Raggiungi 5.000 punti.",icon:t1,color:"text-orange-500",bgGradient:"from-orange-500/20 to-red-500/20",condition:s=>s.total_score>=5e3},{id:"score_10k",title:"Fuoriclasse",description:"Raggiungi 10.000 punti.",icon:y1,color:"text-rose-500",bgGradient:"from-rose-500/20 to-pink-500/20",condition:s=>s.total_score>=1e4},{id:"score_25k",title:"Campione",description:"Raggiungi 25.000 punti.",icon:rs,color:"text-purple-500",bgGradient:"from-purple-500/20 to-indigo-500/20",condition:s=>s.total_score>=25e3},{id:"score_50k",title:"Elite",description:"Raggiungi 50.000 punti.",icon:Qx,color:"text-cyan-400",bgGradient:"from-cyan-500/20 to-blue-500/20",condition:s=>s.total_score>=5e4},{id:"score_100k",title:"Titano",description:"Raggiungi 100.000 punti.",icon:Bs,color:"text-amber-500",bgGradient:"from-amber-600/20 to-yellow-600/20",condition:s=>s.total_score>=1e5},{id:"score_500k",title:"Miliardario",description:"Raggiungi 500.000 punti.",icon:bd,color:"text-emerald-400",bgGradient:"from-emerald-500/20 to-green-500/20",condition:s=>s.total_score>=5e5},{id:"score_1m",title:"Trilionario",description:"Raggiungi 1.000.000 punti.",icon:wo,color:"text-fuchsia-500",bgGradient:"from-fuchsia-600/20 to-purple-600/20",condition:s=>s.total_score>=1e6},{id:"iq_80",title:"Pensatore",description:"QI stimato > 80.",icon:m1,color:"text-lime-400",bgGradient:"from-lime-500/20 to-green-500/20",condition:s=>s.estimated_iq>=80},{id:"iq_100",title:"Normale?",description:"QI stimato > 100.",icon:qi,color:"text-slate-300",bgGradient:"from-slate-400/20 to-gray-400/20",condition:s=>s.estimated_iq>=100},{id:"iq_115",title:"Sveglio",description:"QI stimato > 115.",icon:Ls,color:"text-yellow-400",bgGradient:"from-yellow-500/20 to-orange-500/20",condition:s=>s.estimated_iq>=115},{id:"iq_130",title:"Genio",description:"QI stimato > 130.",icon:Xr,color:"text-cyan-400",bgGradient:"from-cyan-500/20 to-blue-500/20",condition:s=>s.estimated_iq>=130},{id:"iq_145",title:"Mensano",description:"QI stimato > 145.",icon:Bs,color:"text-purple-500",bgGradient:"from-purple-500/20 to-fuchsia-500/20",condition:s=>s.estimated_iq>=145},{id:"iq_160",title:"Visionario",description:"QI stimato > 160.",icon:pd,color:"text-rose-500",bgGradient:"from-rose-500/20 to-red-500/20",condition:s=>s.estimated_iq>=160},{id:"iq_180",title:"Sovrano",description:"QI stimato > 180.",icon:U1,color:"text-amber-500",bgGradient:"from-amber-500/20 to-orange-500/20",condition:s=>s.estimated_iq>=180},{id:"iq_200",title:"Onnisciente",description:"QI stimato > 200.",icon:wo,color:"text-white",bgGradient:"from-white/20 to-slate-200/20",condition:s=>s.estimated_iq>=200},{id:"boss_5",title:"Guardiano Caduto",description:"Sconfiggi il Guardiano al Livello 5.",icon:ia,color:"text-red-500",bgGradient:"from-red-900/40 to-black/40",condition:s=>s.max_level>5},{id:"boss_matematico",title:"Sterminatore Matematico",description:"Sconfiggi il primo Boss: Il Boss Matematico.",icon:ia,color:"text-emerald-400",bgGradient:"from-emerald-900/40 to-black/40",condition:s=>!1},{id:"boss_10",title:"Sentinel Down",description:"Sconfiggi la Sentinella al Livello 10.",icon:Ka,color:"text-orange-500",bgGradient:"from-orange-900/40 to-black/40",condition:s=>s.max_level>10},{id:"boss_25",title:"Glitch Fixer",description:"Correggi l'anomalia al Livello 25.",icon:Rx,color:"text-green-500",bgGradient:"from-green-900/40 to-black/40",condition:s=>s.max_level>25},{id:"boss_50",title:"Matrix Breaker",description:"Sconfiggi l'Architetto al Livello 50.",icon:s1,color:"text-blue-500",bgGradient:"from-blue-900/40 to-black/40",condition:s=>s.max_level>50},{id:"speed_demon",title:"Demone della Velocit",description:"Completa un livello in tempo record (Mock).",icon:T1,color:"text-red-400",bgGradient:"from-red-500/20 to-orange-500/20",condition:s=>s.max_level>=8&&s.estimated_iq>120},{id:"precision",title:"Chirurgo",description:"Precisione 100% in un livello (Mock).",icon:ko,color:"text-teal-400",bgGradient:"from-teal-500/20 to-cyan-500/20",condition:s=>s.max_level>=12&&s.total_score>3e3},{id:"grinder",title:"Stakanovista",description:"Gioca 50 partite (Mock).",icon:xo,color:"text-slate-400",bgGradient:"from-slate-600/20 to-gray-600/20",condition:s=>s.total_score>2e4}],nw=s=>new Promise((n,r)=>{const l=new FileReader;l.readAsDataURL(s),l.onload=d=>{var h;const f=new Image;f.src=(h=d.target)==null?void 0:h.result,f.onload=()=>{const b=document.createElement("canvas"),g=b.getContext("2d"),p=256;let w=f.width,S=f.height,j=0,E=0;if(w>S?(w=S,j=(f.width-S)/2):(S=w,E=(f.height-w)/2),b.width=p,b.height=p,g){g.drawImage(f,j,E,w,S,0,0,p,p);const x=b.toDataURL("image/jpeg",.7);n(x)}else r(new Error("Canvas context failed"))},f.onerror=b=>r(b)},l.onerror=d=>r(d)}),mp=s=>s>=100?{title:"Divinit Numerica",icon:wo,color:"text-rose-500",bg:"bg-rose-500/20"}:s>=80?{title:"Oracolo Supremo",icon:Bs,color:"text-amber-300",bg:"bg-amber-500/20"}:s>=60?{title:"Signore del Calcolo",icon:bd,color:"text-fuchsia-400",bg:"bg-fuchsia-500/20"}:s>=50?{title:"Maestro dell'Algoritmo",icon:f1,color:"text-cyan-400",bg:"bg-cyan-500/20"}:s>=40?{title:"Architetto Matrix",icon:ko,color:"text-emerald-400",bg:"bg-emerald-500/20"}:s>=30?{title:"Stratega Quantico",icon:qi,color:"text-violet-400",bg:"bg-violet-500/20"}:s>=20?{title:"Entit Trascendente",icon:Xr,color:"text-pink-400",bg:"bg-pink-500/20"}:s>=15?{title:"Visionario",icon:Ls,color:"text-yellow-400",bg:"bg-yellow-500/20"}:s>=10?{title:"Operatore Elite",icon:wd,color:"text-blue-400",bg:"bg-blue-500/20"}:s>=5?{title:"Hacker Logico",icon:Ka,color:"text-slate-300",bg:"bg-slate-500/20"}:{title:"Neofita",icon:kx,color:"text-slate-500",bg:"bg-slate-500/10"},sw=({currentUser:s,userProfile:n,onClose:r,onUpdate:l})=>{const[d,f]=M.useState("profile"),[h,b]=M.useState(null),[g,p]=M.useState(null),[w,S]=M.useState(null),j=n||{total_score:0,max_level:1,estimated_iq:100,username:"Ospite",badges:[],avatar_url:void 0},E=j.badges||[],x=mp(j.max_level),B=x.icon,P=async H=>{if(H.target.files&&H.target.files[0])try{const D=H.target.files[0];console.log("Processing avatar...",D.name);const Z=await nw(D);p(Z),n&&(console.log("Avatar processed (length):",Z.length),await qt.updateProfile({id:n.id,avatar_url:Z}),l&&l({...n,avatar_url:Z}),S("Foto aggiornata con successo!"),setTimeout(()=>S(null),3e3))}catch(D){console.error("Avatar error:",D),S("Errore caricamento foto."),setTimeout(()=>S(null),3e3)}},Y=async()=>{if(n){p(null),j.avatar_url=void 0;try{await qt.updateProfile({id:n.id,avatar_url:null}),l&&l({...n,avatar_url:void 0}),S("Foto rimossa."),setTimeout(()=>S(null),3e3)}catch(H){console.error("Remove Avatar Fail",H)}}};return c.jsxs("div",{className:"fixed inset-0 z-[5000] flex items-center justify-center p-4 modal-overlay bg-black/80 backdrop-blur-sm",onPointerDown:H=>{H.stopPropagation(),r()},children:[w&&c.jsxs("div",{className:"absolute top-10 left-1/2 -translate-x-1/2 z-[6000] px-6 py-3 bg-green-500 text-white rounded-full shadow-2xl font-bold text-sm animate-bounce flex items-center gap-2",children:[c.jsx(Xr,{size:16})," ",w]}),c.jsxs("div",{className:"bg-slate-900 border-[3px] border-slate-700 w-full max-w-lg h-[80vh] rounded-[2rem] shadow-[0_0_50px_rgba(0,0,0,0.5)] flex flex-col relative overflow-hidden",onPointerDown:H=>H.stopPropagation(),children:[c.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')] opacity-20 pointer-events-none"}),c.jsxs("div",{className:"relative z-10 p-6 pb-2 flex justify-between items-center bg-slate-900/50",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs("div",{className:"w-16 h-16 rounded-full border-[3px] border-[#FF8800] bg-slate-800 flex items-center justify-center overflow-hidden shadow-lg relative group",children:[g||j.avatar_url?c.jsx("img",{src:g||j.avatar_url,alt:"Avatar",className:"w-full h-full object-cover"}):c.jsx(Ao,{size:32,className:"text-white"}),s&&c.jsxs("div",{className:"absolute inset-0 bg-black/60 flex flex-col items-center justify-center opacity-0 group-hover:opacity-100 transition-opacity gap-2",children:[c.jsxs("label",{className:"cursor-pointer p-1 bg-white/10 rounded-full hover:bg-white/20 transition-all",children:[c.jsx(Mx,{size:16,className:"text-white"}),c.jsx("input",{type:"file",className:"hidden",accept:"image/*",onChange:P})]}),(g||j.avatar_url)&&c.jsx("button",{onPointerDown:H=>{H.stopPropagation(),Y()},className:"p-1 bg-red-500/20 rounded-full hover:bg-red-500/40 transition-all text-red-400",children:c.jsx(_d,{size:16})})]})]}),c.jsxs("div",{className:"flex flex-col",children:[c.jsx("h2",{className:"text-2xl font-black font-orbitron text-white uppercase tracking-wider leading-none",children:j.username}),c.jsxs("div",{className:`flex items-center gap-2 mt-2 px-3 py-1 rounded-lg border border-white/10 ${x.bg} w-fit`,children:[c.jsx(B,{size:12,className:x.color}),c.jsx("span",{className:`text-[10px] font-black uppercase tracking-widest ${x.color}`,children:x.title})]})]})]}),c.jsx("button",{onClick:r,className:"w-10 h-10 rounded-full bg-black/20 hover:bg-red-500/20 flex items-center justify-center text-slate-400 hover:text-white transition-all",children:c.jsx(Fa,{size:24})})]}),c.jsxs("div",{className:"relative z-10 px-6 py-4 flex gap-2 overflow-x-auto no-scrollbar",children:[c.jsx("button",{onClick:()=>f("profile"),className:`flex-1 py-3 px-2 rounded-xl font-black font-orbitron uppercase text-[10px] tracking-wider transition-all border-2 min-w-[80px]
                            ${d==="profile"?"bg-[#FF8800] border-[#FF8800] text-white shadow-lg scale-105":"bg-transparent border-slate-700 text-slate-500 hover:border-slate-500"}`,children:"Profilo"}),c.jsx("button",{onClick:()=>f("badges"),className:`flex-1 py-3 px-2 rounded-xl font-black font-orbitron uppercase text-[10px] tracking-wider transition-all border-2 min-w-[80px]
                            ${d==="badges"?"bg-purple-600 border-purple-500 text-white shadow-lg scale-105":"bg-transparent border-slate-700 text-slate-500 hover:border-slate-500"}`,children:"Badge"}),c.jsx("button",{onClick:()=>f("boss"),className:`flex-1 py-3 px-2 rounded-xl font-black font-orbitron uppercase text-[10px] tracking-wider transition-all border-2 min-w-[80px]
                            ${d==="boss"?"bg-red-600 border-red-500 text-white shadow-lg scale-105":"bg-transparent border-slate-700 text-slate-500 hover:border-slate-500"}`,children:"Boss"}),c.jsx("button",{onClick:()=>f("trophies"),className:`flex-1 py-3 px-2 rounded-xl font-black font-orbitron uppercase text-[10px] tracking-wider transition-all border-2 min-w-[80px]
                            ${d==="trophies"?"bg-amber-500 border-amber-400 text-white shadow-lg scale-105":"bg-transparent border-slate-700 text-slate-500 hover:border-slate-500"}`,children:"Trofei"})]}),c.jsxs("div",{className:"relative z-10 flex-1 overflow-y-auto px-6 pb-6 custom-scroll",children:[d==="profile"&&c.jsxs("div",{className:"space-y-4 animate-fadeIn",children:[c.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[c.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-2xl border border-white/5 flex flex-col items-center justify-center gap-2",children:[c.jsx(qi,{className:"text-pink-500 w-8 h-8"}),c.jsx("span",{className:"text-slate-400 text-[10px] uppercase font-bold tracking-widest",children:"QI Stimato"}),c.jsx("span",{className:"text-3xl font-black font-orbitron text-white",children:j.estimated_iq})]}),c.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-2xl border border-white/5 flex flex-col items-center justify-center gap-2",children:[c.jsx(ko,{className:"text-cyan-500 w-8 h-8"}),c.jsx("span",{className:"text-slate-400 text-[10px] uppercase font-bold tracking-widest",children:"Max Level"}),c.jsx("span",{className:"text-3xl font-black font-orbitron text-white",children:j.max_level})]}),c.jsxs("div",{className:"bg-slate-800/50 p-4 rounded-2xl border border-white/5 flex flex-col items-center justify-center gap-2 col-span-2",children:[c.jsx(Ls,{className:"text-yellow-500 w-8 h-8"}),c.jsx("span",{className:"text-slate-400 text-[10px] uppercase font-bold tracking-widest",children:"Punteggio Totale"}),c.jsx("span",{className:"text-4xl font-black font-orbitron text-white",children:j.total_score.toLocaleString()})]})]}),c.jsxs("div",{className:"mt-6 p-4 bg-slate-800/30 rounded-2xl border border-white/5",children:[c.jsxs("h3",{className:"text-white font-bold mb-4 flex items-center gap-2",children:[c.jsx(Ka,{size:16,className:"text-slate-400"}),"Account Details"]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("div",{className:"flex justify-between items-center text-sm",children:[c.jsx("span",{className:"text-slate-500",children:"Username"}),c.jsx("span",{className:"text-slate-300 font-mono",children:j.username})]}),c.jsxs("div",{className:"flex justify-between items-center text-sm",children:[c.jsx("span",{className:"text-slate-500",children:"ID Utente"}),c.jsx("span",{className:"text-slate-600 font-mono text-xs",children:j.id?j.id.substring(0,8)+"...":"N/A"})]}),c.jsxs("div",{className:"flex justify-between items-center text-sm",children:[c.jsx("span",{className:"text-slate-500",children:"Stato"}),c.jsx("span",{className:"text-green-500 font-bold text-xs uppercase bg-green-500/10 px-2 py-1 rounded",children:"Online"})]})]})]})]}),d==="badges"&&c.jsx("div",{className:"grid grid-cols-3 gap-3 animate-fadeIn",children:hp.map(H=>{const D=E.includes(H.id),Z=H.icon;return c.jsxs("button",{onClick:()=>b(h===H.id?null:H.id),className:`aspect-square rounded-2xl border-2 flex flex-col items-center justify-center gap-2 relative transition-all duration-300
                                            ${D?`bg-gradient-to-br ${H.bgGradient} border-white/20 shadow-[0_0_15px_rgba(255,255,255,0.1)] hover:scale-105 opacity-100`:"bg-slate-800/50 border-white/5 opacity-50 grayscale hover:opacity-70"}
                                        `,children:[c.jsx(Z,{size:24,className:D?H.color:"text-slate-500"}),!D&&c.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/40 rounded-xl",children:c.jsx(To,{size:12,className:"text-slate-400"})}),h===H.id&&c.jsxs("div",{className:"absolute inset-0 bg-slate-900/95 z-20 flex flex-col items-center justify-center p-2 text-center rounded-xl animate-fadeIn",children:[c.jsx("span",{className:`text-[10px] font-black uppercase ${D?"text-white":"text-slate-400"}`,children:H.title}),c.jsx("span",{className:"text-[8px] text-slate-400 leading-tight mt-1",children:H.description})]})]},H.id)})}),d==="boss"&&c.jsxs("div",{className:"space-y-4 animate-fadeIn pb-8",children:[c.jsxs("div",{className:"text-center mb-6",children:[c.jsx("h3",{className:"text-white font-orbitron font-black uppercase text-lg",children:"Cronopercorso Boss"}),c.jsx("p",{className:"text-slate-400 text-[10px] uppercase tracking-widest",children:"Sconfiggi i guardiani per avanzare"})]}),c.jsxs("div",{className:"relative border-l-2 border-slate-700 ml-4 pl-8 space-y-8",children:[[1,10,15,20,25,30].map(H=>{const D=H===1?5:H,Z=H===1?E.includes("boss_matematico"):j.max_level>D,ke=!Z&&j.max_level>=D-4,oe=!Z&&!ke;return c.jsxs("div",{className:"relative group",children:[c.jsx("div",{className:`absolute -left-[41px] w-6 h-6 rounded-full border-4 transition-all duration-300 z-10 
                                                ${Z?"bg-green-500 border-green-500 shadow-[0_0_15px_rgba(34,197,94,0.6)]":ke?"bg-red-500 border-red-500 animate-pulse shadow-[0_0_20px_rgba(239,68,68,0.8)] scale-125":"bg-slate-900 border-slate-700"}`,children:Z&&c.jsx("span",{className:"absolute inset-0 flex items-center justify-center text-black font-bold text-[8px]",children:""})}),c.jsxs("div",{className:`p-4 rounded-xl border-2 transition-all relative overflow-hidden
                                                ${Z?"bg-slate-800/50 border-green-500/30 opacity-60":ke?"bg-gradient-to-r from-red-900/40 to-slate-900 border-red-500 shadow-xl scale-105":"bg-slate-900/50 border-slate-700 grayscale opacity-40"}`,children:[ke&&c.jsx("div",{className:"absolute top-0 right-0 px-2 py-0.5 bg-red-600 text-[8px] font-black text-white uppercase",children:"Prossima Sfida"}),c.jsxs("div",{className:"flex justify-between items-start",children:[c.jsxs("div",{children:[c.jsxs("span",{className:`text-[10px] font-black uppercase tracking-widest ${ke?"text-red-400":"text-slate-500"}`,children:["Livello ",D]}),c.jsx("h4",{className:`text-sm font-bold font-orbitron uppercase mt-1 ${Z?"text-green-400 line-through decoration-2":"text-white"}`,children:H===1?"BOSS MATEMATICO":D===10?"Cyber Sentinel":D===15?"Nucleo Instabile":D===20?"L'Architetto":"Entit Sconosciuta"})]}),c.jsx("div",{className:"p-2 bg-black/30 rounded-lg",children:oe?c.jsx(To,{size:16,className:"text-slate-600"}):c.jsx(ia,{size:16,className:Z?"text-green-500":"text-red-500"})})]})]})]},H)}),c.jsx("div",{className:"absolute top-0 bottom-0 -left-[41px] w-0.5 bg-gradient-to-b from-green-500 via-red-500 to-slate-800 opacity-50 h-full"})]})]}),d==="trophies"&&c.jsxs("div",{className:"flex flex-col items-center justify-center h-64 text-center animate-fadeIn",children:[c.jsx(rs,{size:48,className:"text-slate-700 mb-4"}),c.jsx("h3",{className:"text-slate-300 font-orbitron font-bold uppercase mb-2",children:"Sala dei Trofei"}),c.jsx("p",{className:"text-slate-500 text-xs px-8",children:"Partecipa ai Tornei e agli Eventi Speciali per sbloccare coppe esclusive."}),c.jsxs("div",{className:"mt-8 p-4 bg-amber-500/10 border border-amber-500/20 rounded-xl max-w-xs",children:[c.jsx("span",{className:"text-[10px] font-bold text-amber-500 uppercase tracking-widest",children:"Prossimo Torneo"}),c.jsx("p",{className:"text-white font-black font-orbitron text-sm mt-1",children:"COMING SOON"})]})]})]})]})]})},iw=({onEnter:s})=>c.jsxs("div",{className:"fixed inset-0 z-[60] flex items-center justify-center bg-black",children:[c.jsx("img",{src:"/registrazione_account.png",alt:"Registrazione Completata",className:"absolute inset-0 w-full h-full object-cover"}),c.jsxs("div",{className:"relative z-10 flex flex-col items-center justify-end h-full w-full pb-20 px-6",children:[c.jsxs("button",{onClick:s,className:`group relative flex items-center justify-center gap-3 px-12 py-4 \r
                     bg-[#FF8800] hover:bg-[#FF9900] active:scale-95 transition-all duration-300\r
                     rounded-2xl shadow-[0_10px_20px_rgba(255,136,0,0.4)]\r
                     border-b-4 border-[#CC6600]`,children:[c.jsx("div",{className:"bg-white/20 p-2 rounded-full",children:c.jsx(Ds,{className:"w-8 h-8 text-white fill-current"})}),c.jsx("span",{className:"text-2xl font-black text-white uppercase tracking-wider",children:"Gioca Ora"}),c.jsx("div",{className:"absolute inset-0 rounded-2xl overflow-hidden",children:c.jsx("div",{className:"absolute top-0 left-[-100%] w-1/2 h-full bg-gradient-to-r from-transparent via-white/30 to-transparent skew-x-[-20deg] group-hover:animate-shine"})})]}),c.jsxs("p",{className:"mt-6 text-white/80 font-medium text-sm text-center drop-shadow-md max-w-xs",children:["Account verificato con successo.",c.jsx("br",{}),"Benvenuto in Number!"]})]})]}),Lr=[{title:"OBIETTIVO & GRIGLIA",description:"Trova i 5 Target numerici usando le tessere a disposizione. La griglia  FISSA per ogni livello: trova tutte le combinazioni per avanzare.",icon:c.jsx(qi,{className:"w-12 h-12 text-[#FF8800]"})},{title:"REGOLE DI CONNESSIONE",description:"Trascina dai Numeri. Alterna sempre: Numero  Operatore  Numero. Non puoi collegare due tipi uguali consecutivamente.",icon:c.jsx(N1,{className:"w-12 h-12 text-[#FF8800]"})},{title:"PUNTEGGIO & STREAK",description:"La precisione premia! Ogni risposta corretta consecutiva aumenta il moltiplicatore. Un errore azzera il moltiplicatore base.",icon:c.jsx(Ls,{className:"w-12 h-12 text-[#FF8800]"})},{title:"SFIDE & CLASSIFICHE",description:"Oltre alla modalit Classica, competi in NEURAL DUEL (1vs1) e scala la Classifica Globale per Punti e Livello Massimo.",icon:c.jsx(ia,{className:"w-12 h-12 text-[#FF8800]"})},{title:"QI RANKING AI",description:"L'AI analizza la tua velocit e precisione per stimare il tuo QI di gioco. Punta all'Eccellenza Neurale.",icon:c.jsx(dp,{className:"w-12 h-12 text-[#FF8800]"})}],Nn=["/Win1noaudio.mp4","/Win2noaudioe.mp4","/Win3noaudio.mp4","/Win4noaudio.mp4"],Rs=["/Lose1noaudio.mp4","/Lose2noaudio.mp4"],qr=["/Resa1noaudio.mp4"],Gm=[{id:1,requiredLevel:5,title:"BOSS MATEMATICO",description:"Indovina i risultati delle operazioni!",targets:10,time:90,reward:"30s BONUS",bg:"bg-emerald-900"}],rw=()=>{var Ji;const[s,n]=M.useState({score:0,totalScore:0,streak:0,level:1,timeLeft:jn,targetResult:0,status:"intro",estimatedIQ:100,lastLevelPerfect:!0,basePoints:Ei,levelTargets:[],isBossLevel:!1,bossLevelId:null}),[r,l]=M.useState([]),[d,f]=M.useState([]),[h,b]=M.useState(!1),[g,p]=M.useState(null),[w,S]=M.useState(""),[j,E]=M.useState(null),[x,B]=M.useState(null),[P,Y]=M.useState("standard"),[H,D]=M.useState(0),[Z,ke]=M.useState(0),[oe,se]=M.useState({p1:0,p2:0,current:1}),[te,Me]=M.useState(0),[Ft,yt]=M.useState(0),[dt,ot]=M.useState(0),[Ze,ft]=M.useState(!1),[q,ee]=M.useState(!1),[xe,De]=M.useState({message:"",visible:!1}),[Be,k]=M.useState(!1),[L,W]=M.useState(!1),[ae,Se]=M.useState(!1),[Ne,He]=M.useState(!1),[G,X]=M.useState(!1),[ve,re]=M.useState(!1),[ht,Nt]=M.useState(!1),ta="orange",[Da,ls]=M.useState([]),mt=M.useRef(null),qs=M.useRef(null);M.useRef(null);const[K,Ya]=M.useState(null),[Le,os]=M.useState(null),[Ii,zt]=M.useState(!1),[Mo,$i]=M.useState(!1),ne=M.useRef(null),Xe=M.useRef(s);M.useRef(1);const sn=M.useRef(null),Ea=M.useRef(null);M.useEffect(()=>{Xe.current=s},[s]);const Is=M.useRef(oe);M.useEffect(()=>{Is.current=oe},[oe]),M.useEffect(()=>{const v=setInterval(()=>{$i(!0),setTimeout(()=>$i(!1),2e3)},8e3);return()=>clearInterval(v)},[]),M.useEffect(()=>(s.isBossLevel?(document.body.style.background="#022c22",document.documentElement.style.background="#022c22"):(document.body.style.background="#020617",document.documentElement.style.background="#020617"),()=>{document.body.style.background="#020617",document.documentElement.style.background="#020617"}),[s.isBossLevel]);const[rn,cs]=M.useState([]),[Re,ra]=M.useState(null),[rt,Do]=M.useState(!1),[Uo,us]=M.useState(Nn[0]),[$s,ln]=M.useState(Rs[0]),[Hs,Qa]=M.useState(qr[0]),[la,Xa]=M.useState(!1),[Ad,xt]=M.useState(!1),[kn,Kt]=M.useState(!1),[Fe,Gs]=M.useState(null),[Vs,Hi]=M.useState(!0),[Gi,Ps]=M.useState([]),[ds,An]=M.useState(null),[Ua,Ot]=M.useState(!1);M.useEffect(()=>{if(Vs){const v=setTimeout(()=>{console.warn(" BOOT SYSTEM: Intro sequence timed out - Force entering app"),Hi(!1),n(_=>({..._,status:"idle"}))},6e3);return()=>clearTimeout(v)}},[Vs]);const We=M.useCallback(async()=>{await J.init()},[]),Ae=M.useCallback((v,_)=>{qs.current&&window.clearTimeout(qs.current),De({message:v,visible:!0,actions:_}),qs.current=window.setTimeout(()=>{De(A=>({...A,visible:!1}))},_?8e3:2500)},[]),Vi=v=>{let _=0;for(let A=0;A<v.length;A++)_=(_<<5)-_+v.charCodeAt(A),_|=0;return Math.abs(_)},Bo=v=>()=>{v|=0,v=v+1831565813|0;var _=Math.imul(v^v>>>15,1|v);return _=_+Math.imul(_^_>>>7,61|_)^_,((_^_>>>14)>>>0)/4294967296},Lo=v=>v<=10?{min:1,max:12}:v<=20?{min:3,max:18}:v<=40?{min:5,max:25}:v<=60?{min:8,max:35}:v<=80?{min:10,max:50}:v<=100?{min:15,max:65}:{min:20+Math.floor((v-100)*1.5),max:65+Math.floor((v-100)*3)},Pi=v=>{if(v.length<1)return null;try{let _=0,A="+",$=!1;for(let Q=0;Q<v.length;Q++){const ce=v[Q].value;if(Cb.includes(ce))A=ce;else{const pe=parseInt(ce);$?A==="+"?_+=pe:A==="-"?_-=pe:A===""?_*=pe:A===""&&(_=pe!==0?Math.floor(_/pe):_):(_=pe,$=!0)}}return _}catch{return null}},fs=(v,_)=>{const A=Math.abs(v.row-_.row),$=Math.abs(v.col-_.col);return A===1&&$===0||A===0&&$===1},On=v=>{if(!v)return new Set;const _=new Set,A=7,$=(ce,pe)=>{const de=ce[ce.length-1];if(ce.length>=3&&ce.length%2===1){const we=Pi(ce);we!==null&&we>0&&_.add(we)}if(!(ce.length>=A))for(const we of v){if(pe.has(we.id)||de.type===we.type||!fs(de,we))continue;const Ke=new Set(pe);Ke.add(we.id),$([...ce,we],Ke)}},Q=v.filter(ce=>ce.type==="number");for(const ce of Q)$([ce],new Set([ce.id]));return _};M.useEffect(()=>{if(s.status==="idle"&&Le&&(Le.max_level||1)>5){const v=`boss_unlock_seen_1_${Le.id}`;localStorage.getItem(v)!=="true"&&setTimeout(()=>{re(!1),Ae(" LIVELLO BOSS SBLOCCATO!",[{label:"GIOCA ORA",onClick:()=>E("boss_selection")}]),J.playBadge(),localStorage.setItem(v,"true")},3e3)}},[s.status,Le,Ae]);const Ba=M.useCallback((v,_,A=5)=>{const{min:$,max:Q}=Lo(v);let ce=0;const pe=20,de=_?Bo(Vi(_)):Math.random,we=()=>{if(v<=60){const ye=de();return ye<.6?Math.floor(de()*4)+1:ye<.9?Math.floor(de()*3)+5:Math.floor(de()*3)+7}return Math.floor(de()*10)},Ke=ye=>{const Ce=[];let at={"+":.35,"-":.35,"":.2};v<=15?at={"+":.5,"-":.5,"":0,"":0}:v<=25?at={"+":.45,"-":.45,"":.1,"":0}:v<=40?at={"+":.4,"-":.4,"":.2,"":0}:v<=50?at={"+":.35,"-":.35,"":.3,"":0}:v<=65?at={"+":.35,"-":.3,"":.3,"":.05}:v<=80?at={"+":.3,"-":.3,"":.3,"":.1}:v<=100?at={"+":.25,"-":.3,"":.3,"":.15}:at={"+":.25,"-":.25,"":.3,"":.2};for(let St=0;St<ye;St++){const ie=de();ie<at["+"]?Ce.push("+"):ie<at["+"]+at["-"]?Ce.push("-"):ie<at["+"]+at["-"]+at[""]?Ce.push(""):Ce.push("")}for(let St=Ce.length-1;St>0;St--){const ie=Math.floor(de()*(St+1));[Ce[St],Ce[ie]]=[Ce[ie],Ce[St]]}return Ce};for(;ce<pe;){ce++;let ye=0;for(let fe=0;fe<lo;fe++)for(let pt=0;pt<oo;pt++)(fe+pt)%2!==0&&ye++;const Ce=Ke(ye);let at=0;const St=[];for(let fe=0;fe<lo;fe++)for(let pt=0;pt<oo;pt++){const Et=(fe+pt)%2!==0;St.push({id:`${fe}-${pt}`,row:fe,col:pt,type:Et?"operator":"number",value:Et?Ce[at++]||"+":we().toString()})}const ie=On(St),me=Array.from(ie).filter(fe=>fe>=$&&fe<=Q);if(me.length>=5){const fe=me.sort(()=>de()-.5);for(let Et=fe.length-1;Et>0;Et--){const Vt=Math.floor(de()*(Et+1));[fe[Et],fe[Vt]]=[fe[Vt],fe[Et]]}const pt=fe.slice(0,A);return{grid:St,targets:pt}}}console.warn(`Level ${v}: Using fallback grid generation`);const ct=[];for(let ye=0;ye<lo;ye++)for(let Ce=0;Ce<oo;Ce++){const at=(ye+Ce)%2!==0;ct.push({id:`${ye}-${Ce}`,row:ye,col:Ce,type:at?"operator":"number",value:at?"+":Math.floor(de()*5).toString()})}const _t=[];for(let ye=0;ye<A;ye++)_t.push(Math.floor(de()*(Q-$+1))+$);return{grid:ct,targets:_t}},[]),Rn=M.useCallback(v=>{const _=Gm.find(Ke=>Ke.id===v);if(!_)return null;const A=_.targets,$=[],Q=Math.random;for(let Ke=0;Ke<lo;Ke++)for(let ct=0;ct<oo;ct++){const _t=(Ke+ct)%2!==0;$.push({id:`${Ke}-${ct}`,row:Ke,col:ct,type:_t?"operator":"number",value:_t?Q()>.5?"+":"-":Math.floor(Q()*10).toString()})}const ce=On($),pe=Array.from(ce).filter(Ke=>Ke>=1&&Ke<=18),de=[],we=pe.sort(()=>Q()-.5);for(const Ke of we){if(de.length>=A)break;let ct=Math.floor(Q()*9)+1,_t=Ke-ct,ye="+";(Q()>.5||_t<1)&&(_t=Math.floor(Q()*9)+1,ct=Ke+_t,ye="-"),ye==="+"&&_t<=0&&(_t=1,ct=Ke-1),de.push({value:Ke,displayValue:`${ct} ${ye} ${_t}`,completed:!1})}for(;de.length<A;)de.push({value:5,displayValue:"3 + 2",completed:!1});return{grid:$,targets:de}},[On]),Cn=v=>{const _=Rn(v);_&&(E(null),l(_.grid),v===1?(n(A=>({...A,score:0,totalScore:0,streak:0,level:v,isBossLevel:!0,bossLevelId:v,timeLeft:90,targetResult:0,status:"idle",levelTargets:_.targets})),He(!0),xt(!0),ne.current&&(ne.current.src="/Boss1intro.mp4",ne.current.muted=!0,ne.current.load(),ne.current.play().catch(A=>{console.warn("Boss intro blocked:",A)}))):(n(A=>({...A,score:0,totalScore:0,streak:0,level:v,isBossLevel:!0,bossLevelId:v,timeLeft:90,targetResult:0,status:"playing",levelTargets:_.targets})),J.playSuccess()))},Yt=M.useCallback((v,_)=>{let A,$=[...Da];const Q=v!==void 0?v:s.level,ce=5;if($.length===0||v!==void 0||_){$=[],A=Ba(Q,_,ce);for(let pe=1;pe<=5;pe++)$.push(Ba(Q+pe,void 0,ce))}else A=$.shift(),$.push(Ba(s.level+6,void 0,ce));l(A.grid),ls($),n(pe=>({...pe,score:0,targetResult:0,levelTargets:A.targets.map(de=>({value:de,completed:!1}))})),yt(pe=>pe+1)},[Da,Ba,s.level]),wt=async(v,_)=>{v&&_&&(console.log(" Abandoning Match:",v),await $e.abandonMatch(v,_)),B(null),se({p1:0,p2:0,current:0}),D(0),ke(0),Kt(!1),n(A=>({...A,status:"idle"})),xt(!1),Xa(!1),W(!1),Se(!1),mt.current&&clearInterval(mt.current)},Fi=M.useCallback(async v=>{if(!v)return;const _=v.badges||[],A=[];if(hp.forEach($=>{_.includes($.id)||$.condition(v)&&(A.push($.id),Ae(` Medaglia Sbloccata: ${$.title}!`),J.playSuccess())}),A.length>0){const $=[..._,...A];os(Q=>Q?{...Q,badges:$}:null),await qt.updateProfile({id:v.id,badges:$})}},[Ae]),$t=M.useCallback(async v=>{try{const _=await qt.getProfile(v),A=await qt.loadGameState(v);A&&ra(A),_&&(os(_),Fi(_),n($=>({...$,estimatedIQ:_.estimated_iq||100})))}catch(_){console.error("Error loading profile:",_)}},[Fi]);M.useEffect(()=>{Gr.getCurrentSession().then(_=>{_!=null&&_.user&&(Ya(_.user),$t(_.user.id))});const{data:{subscription:v}}=le.auth.onAuthStateChange((_,A)=>{var $;if(console.log(" Auth Event:",_),_==="SIGNED_IN"&&(A!=null&&A.user)){Ya(A.user),$t(A.user.id);const Q=(($=A.user.user_metadata)==null?void 0:$.username)||"Giocatore";if(window.location.hash&&(window.location.hash.includes("type=signup")||window.location.hash.includes("type=recovery"))){const pe=` Account Confermato! Benvenuto in Number, ${Q}!`;Ae(pe,[{label:"Profilo",onClick:()=>E("profile")}])}zt(!1)}_==="SIGNED_OUT"&&(Ya(null),os(null),ra(null),n(Q=>({...Q,status:"intro"})),Ae("Disconnessione completata.")),_==="USER_UPDATED"&&A!=null&&A.user&&(Ya(A.user),$t(A.user.id))});return()=>{v.unsubscribe()}},[$t,Ae]),M.useEffect(()=>{if(!K){Ps([]);return}const v=le.channel("global_online_users",{config:{presence:{key:K.id}}}).on("presence",{event:"sync"},()=>{const A=v.presenceState(),$=Object.values(A).map(Q=>Q[0]);Ps($)}).subscribe(async A=>{var $;A==="SUBSCRIBED"&&await v.track({id:K.id,username:(Le==null?void 0:Le.username)||(($=K.user_metadata)==null?void 0:$.username)||"Guerriero",avatar_url:Le==null?void 0:Le.avatar_url,level:(Le==null?void 0:Le.max_level)||1,online_at:new Date().toISOString()})}),_=le.channel("global_invites").on("postgres_changes",{event:"INSERT",schema:"public",table:"matches",filter:`player2_id=eq.${K.id}`},A=>{const $=A.new;$.status==="invite_pending"&&(J.playBadge(),Ae(` Nuova Sfida Ricevuta! Modalit: ${$.mode.toUpperCase().replace("_"," ")}`,[{label:"Accetta",onClick:()=>{An($.id)},variant:"primary"}]))}).subscribe();return()=>{le.removeChannel(v),le.removeChannel(_)}},[K,Le,Ae]),M.useEffect(()=>{if(s.status==="playing"&&s.timeLeft===0&&!Ze){if((x==null?void 0:x.mode)==="time_attack"||(x==null?void 0:x.mode)==="blitz"){Ks();return}if(!(x!=null&&x.isDuel)){n(_=>({..._,status:"game-over"})),K&&$t(K.id);let v="";if(s.bossLevelId===1)v="/Boss1sconfitta.mp4";else{const _=Math.floor(Math.random()*Rs.length);v=Rs[_],J.playLose(_)}ln(v),Se(!0),xt(!0),ne.current&&(ne.current.src=v,ne.current.muted=!0,ne.current.load(),ne.current.play().catch(_=>{console.warn("Loss video blocked (timeout):",_)}))}}else s.status==="playing"&&!(x!=null&&x.isDuel)&&s.timeLeft<=5&&s.timeLeft>0&&J.playTick()},[s.timeLeft,s.status,x,K,Ze,$t]),M.useEffect(()=>{K&&$e.getPendingInvitesForUser(K.id).then(v=>{v.length>0&&v.forEach(_=>{var $;const A=_.mode?_.mode.toUpperCase().replace("_"," "):"DUEL";Ae(` Invito per ${A} da ${(($=_.player1)==null?void 0:$.username)||"Sconosciuto"}!`,[{label:"Accetta",onClick:()=>{An(_.id)},variant:"primary"},{label:"Rifiuta",onClick:async()=>{await $e.declineInvite(_.id,K.id),Ae("Invito rifiutato.")},variant:"secondary"}])})})},[K,Ae]),M.useEffect(()=>{const _=new URLSearchParams(window.location.search).get("joinMatch");if(_){console.log(" Detected Match Invite Link:",_),An(_);const A=window.location.origin+window.location.pathname;window.history.replaceState({},document.title,A)}},[]),M.useEffect(()=>{K&&ds&&!Ua?(async()=>{Ot(!0),Ae("Accesso alla sfida in corso...");try{const _=await $e.getMatchById(ds);if(!_)Ae("Sfida scaduta o non trovata.");else if(_.status==="finished"||_.status==="cancelled")Ae("La sfida  gi terminata o  stata annullata.");else{const A=_.player1_id===K.id,$=_.player2_id===K.id;if(A||$)_.status==="invite_pending"&&$&&await $e.acceptInvite(_.id,K.id);else if(!_.player2_id)await $e.joinMatch(_.id,K.id);else{Ae("La sfida  gi al completo."),Ot(!1),An(null);return}E(null),Y(_.mode),B({id:_.id,opponentId:_.player1_id===K.id?_.player2_id:_.player1_id,isDuel:!0,isP1:_.player1_id===K.id,mode:_.mode}),n(Q=>({...Q,score:0,streak:0,level:1,timeLeft:_.mode==="time_attack"?60:jn,status:"playing",levelTargets:[]})),Yt(1,_.grid_seed),D(0),$e.resetRoundStatus(_.id),J.playSuccess()}}catch(_){console.error("Auto-join error:",_),Ae("Impossibile caricare la sfida.")}finally{Ot(!1),An(null)}})():!K&&ds&&!Ii&&(zt(!0),Ae("Accedi per accettare la sfida!"))},[K,ds,Ua,Ii,Yt,Ae]);const on=async v=>{v.preventDefault(),v.stopPropagation(),await We(),J.playUIClick(),Do(!rt)};M.useEffect(()=>{j==="leaderboard"&&(async()=>{const _=await cp.getTopPlayers(10);_&&cs(_)})()},[j]),M.useEffect(()=>{const v=(x==null?void 0:x.mode)==="time_attack"||(x==null?void 0:x.mode)==="blitz";return s.status==="playing"&&s.timeLeft>0&&!Ze&&!L&&!rt&&(!(x!=null&&x.isDuel)||v)?mt.current=window.setInterval(()=>{n(_=>_.timeLeft<=0?_:{..._,timeLeft:_.timeLeft-1})},1e3):mt.current&&window.clearInterval(mt.current),()=>{mt.current&&window.clearInterval(mt.current)}},[s.status,rt,Ze,L,x,s.timeLeft]);const zn=v=>{var _;Ya(v),$t(v.id),zt(!1),Ae(`Benvenuto, ${((_=v.user_metadata)==null?void 0:_.username)||"Operatore"}`)},Zr=async v=>{v&&(v.preventDefault(),v.stopPropagation()),await We();const _=!Be;k(_),J.setMuted(_),_||J.playUIClick()},Fs=async v=>{if(v&&(typeof v.preventDefault=="function"&&v.preventDefault(),typeof v.stopPropagation=="function"&&v.stopPropagation()),await We(),J.playReset(),x&&K&&(Fe==null?void 0:Fe.status)!=="finished"){const _=P==="blitz"?3:5;(Fe==null?void 0:Fe.winner_id)||(Fe==null?void 0:Fe.p1_rounds)>=_||(Fe==null?void 0:Fe.p2_rounds)>=_||($e.sendAbandonment(x.id,K.id).catch(()=>{}),$e.declareWinner(x.id,x.opponentId).catch(()=>{}),Ae("Sfida abbandonata."))}n(_=>({..._,status:"idle"})),E(null),B(null),Kt(!1),W(!1),Se(!1),ft(!1),ee(!1),p(null),f([]),mt.current&&window.clearInterval(mt.current),K&&$t(K.id)},Wr=async()=>{J.playReset(),n(v=>({...v,status:"idle"})),E("duel_selection"),B(null),Kt(!1),W(!1),Se(!1),ft(!1),ee(!1),p(null),f([]),mt.current&&window.clearInterval(mt.current)},qo=v=>{if(Kt(!1),n(_=>({..._,levelTargets:[],score:0,timeLeft:v.mode==="time_attack"?60:jn,status:"playing"})),x!=null&&x.isDuel){const _=(v.p1_rounds||0)+(v.p2_rounds||0),A=`${v.id}_round_${_}`;Yt(1,A)}else Yt(s.level);(K==null?void 0:K.id)===v.player1_id&&$e.resetRoundStatus(v.id),J.playReset()},Mn=v=>{const _=v.map(A=>r.find($=>$.id===A)).filter(Boolean);return Pi(_)};M.useEffect(()=>{if(x!=null&&x.id&&x.isDuel){const v=$e.subscribeToMatch(x.id,_=>{const A=_.new;if(!A)return;Gs(ye=>(ye==null?void 0:ye.id)===A.id&&ye.status==="finished"&&A.status!=="finished"?{...A,status:"finished",winner_id:ye.winner_id}:A);const $=A.player1_id===(K==null?void 0:K.id);x&&(!x.mode||x.mode!==A.mode)?(B(ye=>ye?{...ye,isP1:$,mode:A.mode}:null),Y(A.mode)):x&&x.isP1!==$&&B(ye=>ye?{...ye,isP1:$}:null),A.status==="active"&&(A.mode==="time_attack"||(x==null?void 0:x.mode)==="time_attack")&&Xe.current.status!=="playing"&&sn.current!==A.id&&(console.log(" Time Attack START SYNC"),La(1)),A.p1_ready&&A.p2_ready&&kn&&A.status!=="finished"&&qo(A);const Q=A.mode||(x==null?void 0:x.mode)||"standard",ce=A.p1_rounds||0,pe=A.p2_rounds||0,de=Is.current;de.p1+de.p2;const we=A.current_round||0,Ke=de.current||0;if(Q==="blitz"&&A.status==="active"&&we!==0&&we!==Ke){const ye=Math.abs(we),Ce=we>0?"p1":"p2",at=$&&Ce==="p1"||!$&&Ce==="p2";console.log(` DOMINION SIGNAL: Target ${ye} captured by ${Ce}`),n(St=>{const ie=St.levelTargets.map(me=>me.value===ye?{...me,completed:!0,owner:Ce}:me.value===ye?{...me,completed:!0,owner:Ce}:me);return{...St,levelTargets:ie}}),!at&&Q!=="blitz"&&(Ae(`L'AVVERSARIO HA RUBATO IL ${ye}!`,[],2e3),J.playError()),Is.current={...Is.current,current:we}}const ct=$?A.player2_score:A.player1_score,_t=$?A.p2_rounds:A.p1_rounds;if(D(ct),ke(_t),se({p1:ce,p2:pe,current:A.current_round||1}),A.status==="finished")if(A.winner_id!==(K==null?void 0:K.id)&&sn.current!==A.id){if(console.log(" MATCH FINISHED: I am the LOSER. Playing Defeat Sequence."),sn.current=A.id,mt.current&&window.clearInterval(mt.current),n(ye=>({...ye,status:"idle"})),b(!1),f([]),ne.current){const ye=Rs[Math.floor(Math.random()*Rs.length)];ln(ye),Se(!0),xt(!0),ne.current.src=ye,ne.current.muted=!1,ne.current.load(),ne.current.play().catch(Ce=>console.warn("Loss video blocked:",Ce))}}else Xe.current.status==="playing"&&(mt.current&&window.clearInterval(mt.current),n(ye=>({...ye,status:"idle"})));if(A.status==="cancelled"){console.log(" Realtime: Match Cancelled (Opponent Surrendered)"),mt.current&&window.clearInterval(mt.current),n(Ce=>({...Ce,status:"idle"}));const ye=qr[Math.floor(Math.random()*qr.length)];Qa(ye),Xa(!0),xt(!1),ne.current&&(ne.current.muted=!1,ne.current.src=ye,ne.current.play().catch(Ce=>{console.warn("Surrender video blocked:",Ce),xt(!1)}))}});if((Fe==null?void 0:Fe.id)===x.id&&(Fe==null?void 0:Fe.status)==="finished"&&Xe.current.status==="playing"){const _=Fe.winner_id===(K==null?void 0:K.id);if(_&&sn.current===Fe.id)return;if(!_&&ne.current){const A=Rs[0];ne.current.src=A,ne.current.muted=!0,ne.current.load(),ne.current.play().catch($=>console.warn("Duel loss video blocked:",$)),J.playLose(),ln(A),Se(!0),xt(!0)}n(A=>({...A,status:"idle"})),b(!1),f([]),(!_&&!ne.current||_&&!ne.current)&&Kt(!0)}return()=>{v&&le.removeChannel(v)}}},[x,K,kn,Fe]),M.useEffect(()=>{if(x!=null&&x.id){const v=$e.subscribeToMatchEvents(x.id,(_,A)=>{if(_==="match_abandoned"&&A.fromUserId!==(K==null?void 0:K.id)){mt.current&&window.clearInterval(mt.current),n(Q=>({...Q,status:"idle"}));const $=qr[Math.floor(Math.random()*qr.length)];Qa($),Xa(!0),xt(!1),ne.current&&(ne.current.muted=!0,ne.current.src=$,ne.current.play().catch(Q=>{console.warn("Surrender (abandon) video blocked:",Q),xt(!1)}),J.playExternalSound("Resa1.mp3"))}});return()=>{v&&le.removeChannel(v)}}},[x,K]),M.useEffect(()=>{if(!K)return;const v=le.channel("invite-channel").on("postgres_changes",{event:"INSERT",schema:"public",table:"matches",filter:`player2_id=eq.${K.id}`},async _=>{_.new.status==="invite_pending"&&(J.playSuccess(),Ae(` SFIDA! Un giocatore ti ha invitato a ${_.new.mode}.`,[{label:"ACCETTA",onClick:async()=>{if(await $e.acceptInvite(_.new.id,K.id)){const $=_.new.grid_seed,Q=_.new.mode;B({id:_.new.id,opponentId:_.new.player1_id,isDuel:!0,isP1:!1,mode:Q}),Y(Q),J.playUIClick(),n(ce=>({...ce,score:0,totalScore:ce.totalScore,streak:0,level:1,timeLeft:Q==="time_attack"?60:jn,targetResult:0,status:"playing",lastLevelPerfect:!0,basePoints:Ei,levelTargets:[]})),Yt(1,$),D(0),$e.resetRoundStatus(_.new.id),E(null)}}},{label:"RIFIUTA",onClick:async()=>{await $e.abandonMatch(_.new.id,K.id),Ae("Invito rifiutato.")}}]))}).subscribe();return()=>{le.removeChannel(v)}},[K,Ae,Yt]);const La=async(v=1)=>{await We(),J.playUIClick();try{localStorage.setItem("number_tutorial_done","true")}catch(A){console.warn("LocalStorage blocked",A)}E(null),ft(!1),ee(!1),p(null),W(!1),Se(!1),Kt(!1);const _=parseInt(localStorage.getItem("career_time_bonus")||"0");if(_>0&&!(x!=null&&x.isDuel)&&(localStorage.setItem("career_time_bonus","0"),Ae(` BONUS BOSS ATTIVATO! +${_}s al tempo iniziale!`)),n(A=>{let $=A.totalScore;return x!=null&&x.isDuel||($=0),{...A,score:0,totalScore:$,streak:0,level:v,timeLeft:(x==null?void 0:x.mode)==="time_attack"?60:jn+_,targetResult:0,status:"playing",estimatedIQ:v===1?100:A.estimatedIQ,lastLevelPerfect:!0,basePoints:Ei,levelTargets:[],isBossLevel:!1,bossLevelId:null}}),setTimeout(()=>Yt(v),0),K&&!(x!=null&&x.isDuel)){const A={totalScore:v===1?0:(Re==null?void 0:Re.totalScore)||0,streak:0,level:v,timeLeft:(x==null?void 0:x.mode)==="time_attack"?60:jn,estimatedIQ:v===1?100:(Le==null?void 0:Le.estimated_iq)||100};qt.saveGameState(K.id,A).catch($=>console.error("Error saving initial game state:",$)),ra(A)}},qa=async()=>{if(!Re)return;await We(),J.playSuccess(),E(null),ft(!1),ee(!1),p(null);const v=parseInt(localStorage.getItem("career_time_bonus")||"0");let _=Re.timeLeft||jn;v>0&&(localStorage.setItem("career_time_bonus","0"),_+=v,Ae(` BONUS BOSS ATTIVATO! +${v}s al tempo ripristinato!`)),n(A=>({...A,score:0,totalScore:0,streak:Re.streak||0,level:Re.level||1,timeLeft:_,status:"playing",estimatedIQ:Re.estimatedIQ||100,levelTargets:[]})),setTimeout(()=>Yt(Re.level),0),v===0&&Ae("Partita Ripristinata")},oa=async()=>{if(K)try{await qt.saveGameState(K.id,null),ra(null),await qt.updateProfile({id:K.id,max_level:1,total_points:0,estimated_iq:100,badges:[],boss_defeats:0,duel_wins:0,duel_losses:0,perfect_levels:0}),localStorage.removeItem("career_time_bonus"),Object.keys(localStorage).forEach(v=>{v.startsWith("boss_unlock_seen_")&&localStorage.removeItem(v)}),await $t(K.id),n(v=>({...v,score:0,totalScore:0,streak:0,level:1,timeLeft:jn,targetResult:0,status:"idle",estimatedIQ:100,lastLevelPerfect:!0,basePoints:Ei,levelTargets:[],isBossLevel:!1,bossLevelId:null})),E(null),J.playSuccess(),Ae(" RESET COMPLETO! Benvenuto in una nuova avventura!")}catch(v){console.error("Errore durante il reset:",v),Ae(" Errore durante il reset. Riprova.")}},el=M.useCallback(async v=>{if(v&&(v.preventDefault(),v.stopPropagation()),await We(),x&&B(null),Re){E("resume_confirm");return}localStorage.getItem("comic_game_tutorial_done")!=="true"?(La(),setTimeout(()=>Nt(!0),1e3)):La()},[Re,La,We]),Io=async()=>{await We(),J.playSelect(),te<Lr.length-1?Me(v=>v+1):(E(null),localStorage.setItem("number_tutorial_done","true"),s.status!=="playing"&&n(v=>({...v,status:"idle"})))},Ki=v=>{try{if(v.length<3){v.length>0&&J.playReset(),f([]),p(null);return}const _=Mn(v),A=Xe.current.levelTargets||[],$=(x==null?void 0:x.mode)==="blitz"||P==="blitz";let Q;if(s.isBossLevel){const ce=A.find(pe=>!pe.completed);ce&&ce.value===_?Q=ce:Q=void 0}else Q=A.find(ce=>ce.value===_&&(!ce.completed||$));if(Q){const ce=A.filter(de=>!de.completed).length===1,pe=!!x&&(x.mode==="time_attack"||P==="time_attack");ce&&!pe&&!$&&ne.current&&(J.playLevelComplete(),setTimeout(()=>{if(ne.current){const de=Math.floor(Math.random()*Nn.length),we=Nn[de];ne.current.src=we,ne.current.muted=!0,ne.current.load(),ne.current.play().catch(Ke=>console.warn("Video play blocked:",Ke)),J.playWinner(de),us(we),W(!0),xt(!0)}},800)),tl(_),f([])}else $o();p(null)}catch(_){console.error("Critical error in evaluatePath:",_),f([])}},tl=async v=>{try{if(console.log(" SUCCESS: Target Found:",v),Xe.current.status!=="playing")return;J.playSuccess();const _=10,A=Xe.current.streak*1,$=_+A,Q=Xe.current.score+$,ce=Xe.current.levelTargets,pe=(x==null?void 0:x.mode)==="blitz"||P==="blitz",de=ce.findIndex(ie=>ie.value===v&&(!ie.completed||pe));if(de===-1){console.warn(" Target already completed or not found:",v);return}const we=[...ce];we[de]={...we[de],completed:!0},n(ie=>({...ie,score:Q,totalScore:ie.totalScore+$,streak:ie.streak+1,estimatedIQ:Math.min(200,ie.estimatedIQ+.5),levelTargets:we}));const Ke=Math.floor(Xe.current.timeLeft*1.5),ct=50,_t=Ke+ct,ye=Q+_t;ot(ie=>ie+1);const Ce=!!x&&(P==="time_attack"||x.mode==="time_attack"),at=we.filter(ie=>ie.completed).length,St=we.every(ie=>ie.completed)&&!Ce;if(Ce&&($e.updateScore(x.id,K.id,Q,x.isP1).catch(ie=>console.error("TA Score Sync Error",ie)),setTimeout(()=>{if(Xe.current.status!=="playing")return;const ie=Xe.current.levelTargets;if(de>=0&&de<ie.length){const me=Xe.current.level,fe=1+me*2,pt=20+me*5,Et=Math.floor(Math.random()*(pt-fe+1))+fe;n(Vt=>{const aa=[...Vt.levelTargets];return aa[de]={value:Et,completed:!1},{...Vt,levelTargets:aa}})}},5e3)),x!=null&&x.isDuel&&P==="blitz"){const ie=x.isP1,me=v,fe=s.levelTargets.find(Wa=>Wa.value===v),pt=(fe==null?void 0:fe.owner)&&(ie&&fe.owner==="p2"||!ie&&fe.owner==="p1");let Et=ie?oe.p1:oe.p2,Vt=ie?oe.p2:oe.p1;(fe==null?void 0:fe.owner)!==(ie?"p1":"p2")&&(Et+=1),pt&&(Vt=Math.max(0,Vt-1));const aa=Et,Mt=Vt,ua=Q,Za=H;await $e.stealTarget(x.id,ie,me,ie?aa:Mt,ie?Mt:aa,ie?ua:Za,ie?Za:ua)}if(St){if(ee(!1),ne.current||J.playExternalSound("Fine_partita_win.mp3"),s.isBossLevel){if(mt.current&&window.clearInterval(mt.current),ft(!0),localStorage.setItem("career_time_bonus","30"),K){const ie=Q+50;qt.completeBoss(K.id,s.bossLevelId).then(me=>{me&&console.log(" Boss completion badge and time bonus awarded!")}).catch(me=>console.error("Error completing boss:",me)),qt.syncProgress(K.id,ie,s.level,s.estimatedIQ).then(()=>$t(K.id)).catch(me=>console.error("Error syncing boss progress:",me))}s.bossLevelId===1?setTimeout(()=>{ne.current&&(X(!0),W(!0),xt(!0))},500):W(!0);return}if(x!=null&&x.isDuel&&P==="standard"){const ie=Q;if($e.updateMatchStats(x.id,x.isP1,ie,at).catch(me=>console.error("Error syncing final duel stats:",me)),at>=5){try{await $e.declareWinner(x.id,K.id),sn.current=x.id,Gs(me=>({...me,status:"finished",winner_id:K.id,player1_score:x.isP1?ie:me==null?void 0:me.player1_score,player2_score:x.isP1?me==null?void 0:me.player2_score:ie,p1_rounds:x.isP1?5:me==null?void 0:me.p1_rounds,p2_rounds:x.isP1?me==null?void 0:me.p2_rounds:5,last_time_bonus:Ke,last_victory_bonus:ct})),await qt.syncProgress(K.id,ye,Xe.current.level,Xe.current.estimatedIQ),await $t(K.id),J.playLevelComplete(),setTimeout(()=>{if(ne.current){const me=Math.floor(Math.random()*Nn.length),fe=Nn[me];ne.current.src=fe,ne.current.muted=!1,ne.current.load(),ne.current.play().catch(pt=>console.warn("Duel win video blocked:",pt)),J.playWinner(me),us(fe),W(!0),xt(!0)}},800)}catch(me){console.error("Error finishing duel safely:",me),n(fe=>({...fe,status:"idle"})),Kt(!0)}f([]);return}}if(mt.current&&window.clearInterval(mt.current),ft(!0),n(ie=>({...ie,score:ie.score+_t,totalScore:ie.totalScore+_t,streak:0,estimatedIQ:Math.min(200,ie.estimatedIQ+4),levelTargets:we})),K){const ie={totalScore:Xe.current.totalScore+$+_t,streak:0,level:s.level+1,timeLeft:s.timeLeft+60,estimatedIQ:Math.min(200,s.estimatedIQ+4)};qt.syncProgress(K.id,ye,ie.level,ie.estimatedIQ).then(()=>$t(K.id)).catch(me=>console.error("Error syncing progress:",me)),qt.saveGameState(K.id,ie).catch(me=>console.error("Error saving game state:",me)),ra(ie)}}else{if(x!=null&&x.isDuel&&K){const ie=we.filter(me=>me.completed).length;if(P==="standard"){if($e.updateMatchStats(x.id,x.isP1,Q,ie).catch(me=>console.error("Error syncing duel stats:",me)),ie>=5){(async()=>{try{await $e.declareWinner(x.id,K.id),sn.current=x.id,Gs(fe=>({...fe,status:"finished",winner_id:K.id,player1_score:x.isP1?Q:fe==null?void 0:fe.player1_score,player2_score:x.isP1?fe==null?void 0:fe.player2_score:Q,p1_rounds:x.isP1?5:fe==null?void 0:fe.p1_rounds,p2_rounds:x.isP1?fe==null?void 0:fe.p2_rounds:5}));const me=Q;await qt.syncProgress(K.id,me,Xe.current.level,Xe.current.estimatedIQ),await $t(K.id),J.playLevelComplete(),setTimeout(()=>{if(ne.current){const fe=Math.floor(Math.random()*Nn.length),pt=Nn[fe];ne.current.src=pt,ne.current.muted=!1,ne.current.load(),ne.current.play().catch(Et=>console.warn("Duel win video blocked:",Et)),us(pt),W(!0),xt(!0)}},800)}catch(me){console.error(me)}})(),f([]);return}}else{const me=x.isP1?oe.p1:oe.p2;$e.updateMatchStats(x.id,x.isP1,ie,me).catch(fe=>console.error("Error syncing duel stats:",fe))}}(P==="time_attack"||(x==null?void 0:x.mode)==="time_attack")&&setTimeout(()=>{const ie=Xe.current;if(!ie||!ie.grid)return;const me=ie.grid,fe=ie.levelTargets||[],pt=Array.from(On(me)),Et=fe.filter(aa=>!aa.completed).map(aa=>aa.value),Vt=pt.filter(aa=>!Et.includes(aa));if(Vt.length>0){const aa=Vt[Math.floor(Math.random()*Vt.length)];n(Mt=>{const ua=[...Mt.levelTargets],Za=ua.findIndex(Wa=>Wa.value===v&&Wa.completed);return Za!==-1&&(ua[Za]={value:aa,completed:!1}),{...Mt,levelTargets:ua}}),J.playPop()}},3e3)}f([])}catch(_){console.error("Critical error in handleSuccess:",_),n(A=>({...A,status:"idle"})),f([])}},Ks=()=>{if(J.playExternalSound("Fine_partita_win.mp3"),x&&K){sn.current=x.id;const v=Xe.current.score,_=H;let A=null,$=Xe.current.levelTargets.filter(pe=>pe.completed).length;if(x.mode==="blitz"){const pe=x.isP1?"p1":"p2",de=x.isP1?"p2":"p1",we=Xe.current.levelTargets.filter(ct=>ct.owner===pe).length,Ke=Xe.current.levelTargets.filter(ct=>ct.owner===de).length;$=we,we>Ke?A=K.id:Ke>we?A=x.opponentId:v>_?A=K.id:_>v?A=x.opponentId:A=null}else v>_?A=K.id:_>v&&(A=x.opponentId);const Q=A===K.id,ce=Xe.current.totalScore+100;$e.updateMatchStats(x.id,x.isP1,v,$).then(()=>$e.declareWinner(x.id,A)).then(()=>{Q&&qt.syncProgress(K.id,ce,Xe.current.level,Xe.current.estimatedIQ).then(()=>$t(K.id))}).catch(pe=>console.error("Error ending time attack:",pe)),setTimeout(Q?()=>{if(ne.current){const pe=Math.floor(Math.random()*Nn.length),de=Nn[pe];ne.current.src=de,ne.current.muted=!0,ne.current.load(),ne.current.play().catch(we=>console.warn("TimeAttack win video blocked:",we)),J.playWinner(pe),us(de),W(!0),xt(!0)}}:()=>{if(ne.current){const pe=Rs[0];ne.current.src=pe,ne.current.muted=!0,ne.current.load(),ne.current.play().catch(de=>console.warn("TimeAttack loss video blocked:",de)),J.playLose(),ln(pe),Se(!0),xt(!0)}},800),!Q&&(x!=null&&x.isDuel)}else n(v=>({...v,status:"idle"})),Kt(!0)},$o=()=>{J.playError(),n(v=>({...v,streak:0,lastLevelPerfect:!1,basePoints:Ei,estimatedIQ:Math.max(70,v.estimatedIQ-1.5)})),f([])},ca=()=>{J.playUIClick(),ft(!1);const v=s.level+1;n(_=>({..._,level:v,status:"playing",streak:0,timeLeft:_.timeLeft+60})),Yt(v)};M.useEffect(()=>{(s.status==="level-complete"||s.status==="game-over")&&Ub(s.totalScore,s.level,s.timeLeft).then(S)},[s.status,s.totalScore,s.level,s.timeLeft]),M.useEffect(()=>{if(s.status==="idle"&&Le&&(Le.max_level||1)>5){const v=`boss_unlock_seen_1_${Le.id}`;localStorage.getItem(v)!=="true"&&setTimeout(()=>{re(!1),Ae(" LIVELLO BOSS SBLOCCATO!",[{label:"GIOCA ORA",onClick:()=>E("boss_selection")}]),J.playBadge(),localStorage.setItem(v,"true")},3e3)}},[s.status,Le,Ae]);const Ys=()=>!(s.status!=="playing"||rt||Ze||L||ae||kn),al=async v=>{if(!Ys())return;await We();const _=r.find(A=>A.id===v);_&&_.type==="number"&&(J.playSelect(),b(!0),f([v]),p(parseInt(_.value)),Ea.current&&window.clearTimeout(Ea.current),Ea.current=window.setTimeout(()=>{f(A=>A.length===1&&A[0]===v?(p(null),[]):A)},500))},Yi=(v,_)=>{{const A=Math.abs(v.row-_.row),$=Math.abs(v.col-_.col);return A===1&&$===0||A===0&&$===1}},Dn=v=>{if(!h||!Ys())return;if(d.length>1&&v===d[d.length-2]){J.playSelect();const Q=d.slice(0,-1);f(Q),p(Mn(Q));return}if(d.includes(v))return;const _=d[d.length-1],A=r.find(Q=>Q.id===_),$=r.find(Q=>Q.id===v);if(A&&$){const Q=A.type!==$.type,ce=Yi(A,$);if(Q&&ce){J.playSelect();const pe=[...d,v];f(pe),p(Mn(pe)),Ea.current&&(window.clearTimeout(Ea.current),Ea.current=null)}}},Qi=()=>{Ea.current&&(window.clearTimeout(Ea.current),Ea.current=null),h&&(b(!1),Ki(d))},Qs=()=>{if(xt(!1),J.stopBoss1vittoria(),J.stopBossBonus(),X(!1),ne.current){const v=ne.current,_=v.volume,A=2e3,$=50,Q=A/$;let ce=0;const pe=setInterval(()=>{ce++;const de=Math.min(1,ce/Q),we=Math.max(0,_*(1-de)*(1-de));we>.01?v.volume=we:(v.volume=0,clearInterval(pe))},$)}setTimeout(()=>{W(!1),ft(!1),x!=null&&x.isDuel?(Kt(!0),n(v=>({...v,status:"idle"}))):s.isBossLevel?(E("boss_selection"),n(v=>({...v,status:"idle",isBossLevel:!1,bossLevelId:null}))):n(v=>({...v,status:"level-complete"}))},2e3)},Ja=()=>{if(xt(!1),J.stopBoss1sconfitta(),ne.current){const v=ne.current,_=v.volume,A=2e3,$=40,Q=A/$;let ce=0;const pe=setInterval(()=>{ce++;const de=Math.min(1,ce/Q),we=Math.max(0,_*(1-de)*(1-de));we>.01?v.volume=we:(v.volume=0,clearInterval(pe))},$)}setTimeout(()=>{Se(!1),x!=null&&x.isDuel&&(Kt(!0),n(v=>({...v,status:"idle"})))},2e3)},Xi=()=>{if(xt(!1),J.stopBossIntro(),ne.current){const v=ne.current,_=v.volume,A=1e3,$=40,Q=A/$;let ce=0;const pe=setInterval(()=>{ce++;const de=Math.min(1,ce/Q),we=Math.max(0,_*(1-de)*(1-de));we>.01?v.volume=we:(v.volume=0,clearInterval(pe))},$)}setTimeout(()=>{He(!1),n(v=>({...v,status:"playing",timeLeft:90})),J.playSuccess()},1e3)},Xs=()=>{if(xt(!1),ne.current){const v=ne.current,_=v.volume,A=800,$=40,Q=A/$;let ce=0;const pe=setInterval(()=>{ce++;const de=Math.min(1,ce/Q),we=Math.max(0,_*(1-de)*(1-de));we>.01?v.volume=we:(v.volume=0,clearInterval(pe))},$)}setTimeout(()=>{Xa(!1),n(v=>{const _=P==="blitz"?50:100;return K&&qt.syncProgress(K.id,_,v.level,v.estimatedIQ).then(()=>$t(K.id)),{...v,status:"opponent-surrendered"}})},800)};return c.jsxs(c.Fragment,{children:[Vs&&c.jsx(aw,{onFinish:()=>{Hi(!1),n(v=>({...v,status:"idle"}));try{localStorage.getItem("comic_home_tutorial_done")!=="true"&&setTimeout(()=>re(!0),500)}catch(v){console.warn("Tutorial check skipped",v)}}}),c.jsxs("div",{className:"min-h-[100dvh] text-slate-100 font-sans overflow-hidden select-none pb-20 safe-area-bottom transition-colors duration-1000",style:{background:s.isBossLevel?"#022c22":"linear-gradient(to top, #004488, #0088dd)"},onPointerUp:Qi,onPointerLeave:Qi,children:[c.jsx("div",{className:`fixed inset-0 bg-emerald-950 z-[-1] transition-opacity duration-300 ${s.isBossLevel?"opacity-100":"opacity-0"}`}),c.jsx("div",{className:`fixed -bottom-40 left-0 w-full h-80 bg-emerald-950 z-[-1] ${s.isBossLevel?"opacity-100":"opacity-0"}`}),c.jsx("div",{className:`fixed -inset-[20%] w-[140%] h-[140%] bg-[url('/sfondo_green.png')] bg-cover bg-center bg-no-repeat transition-opacity duration-1000 z-0 ${s.isBossLevel?"opacity-100":"opacity-0 pointer-events-none"}`}),c.jsxs("div",{className:`fixed inset-0 z-[2000] bg-black flex items-center justify-center transition-opacity duration-[800ms] ease-out 
            ${L||ae||la||Ne?"opacity-100 pointer-events-auto":"opacity-0 pointer-events-none"}`,onPointerDown:()=>{L?Qs():ae?Ja():la?Xs():Ne&&Xi()},children:[c.jsx("video",{ref:ne,src:G?"/Bonus30secondiboss.mp4":L?Uo:ae?$s:la?Hs:Ne?"/Boss1intro.mp4":"",className:"w-full h-full object-cover",playsInline:!0,autoPlay:!0,onPlay:()=>{ne.current&&(ne.current.volume=.7),xt(!0),s.bossLevelId===1&&(Ne?(J.stopBossIntro(),J.playBossIntro()):L?G?(J.stopBoss1vittoria(),J.playBossBonus()):(J.stopBossBonus(),J.playBoss1vittoria()):ae&&(J.stopBoss1sconfitta(),J.playBoss1sconfitta()))},onEnded:()=>{L?s.bossLevelId===1&&G?(X(!1),us("/Boss1vittoria.mp4"),setTimeout(()=>{ne.current&&(ne.current.load(),ne.current.play().catch(v=>console.warn("Boss victory video blocked:",v)))},50)):Qs():ae?Ja():la?Xs():Ne&&Xi()}}),(Ne||(L||ae)&&s.isBossLevel)&&c.jsx("button",{onPointerDown:v=>{v.stopPropagation();const _=!Be;k(_),J.setMuted(_)},className:`absolute top-12 right-6 z-[2010] p-3 rounded-full border transition-all active:scale-95 shadow-lg
                    ${Be?"bg-black/40 backdrop-blur-md border-white/10 text-slate-400 hover:text-white hover:bg-white/10":"bg-emerald-500 border-emerald-400 text-white shadow-[0_0_20px_rgba(16,185,129,0.4)]"}`,children:Be?c.jsx(So,{size:24}):c.jsx(_o,{size:24})}),ae&&c.jsx("div",{className:"absolute inset-0 bg-red-900/10 mix-blend-overlay pointer-events-none"}),la&&c.jsx("div",{className:"absolute inset-0 bg-blue-900/10 mix-blend-overlay pointer-events-none"}),(L||ae||la||Ne)&&c.jsx("div",{className:"absolute inset-0 flex flex-col items-center justify-center gap-6 z-50 pointer-events-none",children:c.jsxs("button",{className:"absolute bottom-12 right-12 z-50 px-6 py-3 bg-black/40 backdrop-blur-xl border border-white/10 rounded-2xl text-white font-orbitron font-black text-[10px] uppercase tracking-widest hover:bg-white/10 transition-all flex items-center gap-3 active:scale-95 group pointer-events-auto",onPointerDown:v=>{v.stopPropagation(),L?Qs():ae?Ja():la?Xs():Ne&&Xi()},children:[c.jsxs("span",{children:["SKIP ",Ne?"INTRO":""]}),c.jsx(gd,{size:14,className:ae?s.isBossLevel?"text-emerald-400":"text-red-500":la?"text-blue-500":Ne||L&&s.isBossLevel?"text-emerald-400":"text-[#FF8800]"})]})})]}),c.jsx(Mb,{trigger:q}),c.jsxs("svg",{className:"absolute inset-0 w-full h-full pointer-events-none z-0 opacity-[0.08]",children:[c.jsx("path",{d:"M-100 200 Q 200 0 500 300 T 1000 100",stroke:"white",strokeWidth:"60",fill:"none"}),c.jsx("path",{d:"M-100 500 Q 300 300 600 600 T 1200 400",stroke:"white",strokeWidth:"40",fill:"none"}),c.jsx("path",{d:"M-100 800 Q 400 600 800 900 T 1300 700",stroke:"white",strokeWidth:"80",fill:"none"}),c.jsx("path",{d:"M800 -100 Q 600 300 900 600",stroke:"white",strokeWidth:"30",fill:"none"})]}),xe.visible&&c.jsx("div",{className:"fixed top-8 left-1/2 -translate-x-1/2 z-[10000] animate-toast-in w-[90%] max-w-md",children:c.jsxs("div",{className:"bg-slate-900/95 text-white px-8 py-5 rounded-2xl shadow-[0_10px_40px_rgba(0,0,0,0.6)] flex flex-col items-center gap-4 border-[3px] border-[#FF8800] backdrop-blur-xl",children:[c.jsx("span",{className:"font-bold text-center text-lg leading-snug drop-shadow-md",children:xe.message}),xe.actions&&c.jsx("div",{className:"flex gap-3 w-full justify-center",children:xe.actions.map((v,_)=>c.jsx("button",{onPointerDown:A=>{A.stopPropagation(),v.onClick()},className:`px-6 py-2.5 rounded-xl font-black uppercase text-sm tracking-wider transition-all active:scale-95 shadow-lg border-2
                                ${v.variant==="secondary"?"bg-slate-700 text-slate-200 border-slate-600 hover:bg-slate-600":"bg-[#FF8800] text-white border-white hover:bg-[#FF9900]"}`,children:v.label},_))})]})}),s.status==="idle"&&c.jsxs(c.Fragment,{children:[c.jsx(Db,{}),c.jsxs("div",{className:"z-10 w-full max-w-xl flex flex-col items-center text-center px-6 pt-24 pb-32 animate-screen-in relative",children:[c.jsx("div",{className:"fixed bottom-4 left-4 z-50 flex gap-3 items-center",style:{marginBottom:"env(safe-area-inset-bottom)"},children:c.jsxs("button",{onPointerDown:async v=>{v.stopPropagation(),await We(),J.playUIClick(),K?E("logout_confirm"):(Ae("Accesso richiesto"),zt(!0))},id:K?"user-profile-home":"login-btn-home",className:"flex items-center gap-3 pr-3 pl-1 py-1 rounded-full bg-black/40 border border-white/20 backdrop-blur-md hover:bg-black/60 transition-all group",children:[c.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center border-2 border-white/50 shadow-lg ${K?"bg-[#FF8800] text-white":"bg-slate-700 text-slate-400 group-hover:bg-white group-hover:text-[#FF8800] transition-colors"}`,children:c.jsx(Ao,{size:20,strokeWidth:2.5})}),K&&c.jsxs("div",{className:"flex flex-col items-start pl-2 leading-none",children:[c.jsx("span",{className:"font-orbitron font-bold text-xs text-white uppercase tracking-widest leading-none",children:(Le==null?void 0:Le.username)||"GUEST"}),c.jsxs("span",{className:"font-orbitron text-[8px] font-black text-[#FF8800] uppercase tracking-tighter mt-1",children:[(Le==null?void 0:Le.total_score)||0," PTS"]})]})]})}),c.jsx("div",{className:"fixed top-12 right-6 z-[3000] flex gap-3 items-center",children:c.jsx("button",{onPointerDown:Zr,className:`w-12 h-12 rounded-full border-2 border-white/50 shadow-lg flex items-center justify-center active:scale-95 transition-all hover:scale-110
                    ${Be?"bg-slate-700 text-slate-400":"bg-[#FF8800] text-white"}`,title:"Audio",id:"audio-btn-home",children:Be?c.jsx(So,{size:24,strokeWidth:2.5}):c.jsx(_o,{size:24,strokeWidth:2.5})})}),c.jsxs("div",{className:"fixed bottom-4 right-4 z-[2000] flex gap-3",style:{marginBottom:"env(safe-area-inset-bottom)"},children:[c.jsx("button",{onPointerDown:async v=>{v.stopPropagation(),await We(),J.playUIClick(),Me(0),E("tutorial")},id:"tutorial-btn-home",className:"w-12 h-12 rounded-full bg-white text-[#FF8800] border-2 border-white/50 shadow-lg flex items-center justify-center active:scale-95 transition-all hover:scale-110",title:"Tutorial",children:c.jsx(Gx,{size:24,strokeWidth:2.5})}),c.jsx("button",{onPointerDown:async v=>{v.stopPropagation(),await We(),J.playUIClick(),E("admin")},className:"w-12 h-12 rounded-full bg-white text-[#FF8800] border-2 border-white/50 shadow-lg flex items-center justify-center active:scale-95 transition-all hover:scale-110",title:"Admin Access",children:c.jsx(Ka,{size:24,strokeWidth:2.5})})]}),c.jsxs("div",{className:"mb-6 flex flex-col items-center",children:[c.jsxs("div",{onPointerDown:async v=>{v.stopPropagation(),await We(),J.playUIClick(),E("profile")},id:"logo-home",className:`relative w-36 h-36 flex items-center justify-center mb-4 transition-all duration-[2000ms] ease-in-out group cursor-pointer ${Mo?"scale-110 drop-shadow-[0_0_25px_rgba(255,136,0,0.6)]":"hover:scale-110"}`,title:"Apri Profilo",children:[c.jsx("img",{src:"/octagon-base.png",alt:"Logo Base",className:"absolute inset-0 w-full h-full object-contain drop-shadow-lg"}),c.jsx(qi,{className:"relative w-16 h-16 text-white drop-shadow-md z-10",strokeWidth:2.5})]}),c.jsx("h1",{className:"text-6xl sm:text-8xl font-black font-orbitron tracking-tighter text-[#FF8800] lowercase",style:{WebkitTextStroke:"3px white"},children:"number"})]}),c.jsxs("div",{className:"flex flex-col gap-4 items-center w-full max-w-sm relative z-20",children:[c.jsxs("button",{onPointerDown:el,id:"play-btn-home",className:"w-full group relative overflow-hidden flex items-center justify-center gap-4 bg-gradient-to-r from-[#FF8800] to-[#FF5500] text-white py-5 rounded-2xl font-orbitron font-black text-xl border-[4px] border-white shadow-[0_8px_0_rgba(0,0,0,0.2)] active:translate-y-1 active:shadow-[0_4px_0_rgba(0,0,0,0.2)] hover:scale-105 transition-all duration-300",children:[c.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')] opacity-10"}),c.jsx(Ds,{className:"w-8 h-8 fill-current relative z-10"}),c.jsx("span",{className:"tracking-widest relative z-10",children:Re&&Re.level>1?`CONTINUA LVL ${Re.level}`:"GIOCA"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-4 w-full",children:[c.jsxs("button",{className:"flex items-center justify-center gap-2 bg-gradient-to-r from-red-600 to-rose-600 text-white py-5 rounded-xl border-[3px] border-white shadow-[0_6px_0_rgba(0,0,0,0.1)] active:translate-y-1 active:shadow-none hover:scale-105 transition-all duration-300 col-span-2 relative overflow-hidden group",id:"duel-btn-home",onPointerDown:()=>{J.playUIClick(),K?E("duel_selection"):(Ae("Accedi per sfidare altri giocatori!"),zt(!0))},children:[c.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')] opacity-20"}),c.jsx(ia,{className:"w-8 h-8 animate-pulse text-yellow-300"}),c.jsxs("div",{className:"flex flex-col items-start leading-none relative z-10",children:[c.jsx("span",{className:"font-orbitron text-xl font-black uppercase tracking-widest italic drop-shadow-md",children:"NEURAL DUEL"}),c.jsx("span",{className:"text-[10px] font-bold opacity-80 uppercase tracking-wider",children:"Sfida 1vs1 Realtime"})]}),c.jsx("div",{className:"absolute top-2 right-2 bg-red-600/90 backdrop-blur-md border border-white/20 px-2 py-0.5 rounded text-[8px] font-bold text-white animate-pulse shadow-lg",children:"NEW MODES"})]}),c.jsxs("button",{className:"flex items-center justify-center gap-2 bg-gradient-to-r from-emerald-600 to-teal-600 text-white py-5 rounded-xl border-[3px] border-white shadow-[0_6px_0_rgba(0,0,0,0.1)] active:translate-y-1 active:shadow-none hover:scale-105 transition-all duration-300 col-span-2 relative overflow-hidden group",id:"boss-btn-home",onPointerDown:()=>{J.playUIClick(),E("boss_selection")},children:[c.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')] opacity-20"}),c.jsx(Bs,{className:"w-8 h-8 text-yellow-300 animate-[bounce_3s_infinite]"}),c.jsxs("div",{className:"flex flex-col items-start leading-none relative z-10",children:[c.jsx("span",{className:"font-orbitron text-xl font-black uppercase tracking-widest drop-shadow-md",children:"BOSS LEVELS"}),c.jsx("span",{className:"text-[10px] font-bold opacity-80 uppercase tracking-wider",children:"Sfide Epiche & Bonus"})]})]}),c.jsxs("button",{className:"flex items-center justify-center gap-2 bg-gradient-to-r from-orange-500 to-amber-600 text-white py-4 rounded-xl border-[3px] border-white shadow-[0_6px_0_rgba(0,0,0,0.1)] active:translate-y-1 active:shadow-none hover:scale-105 transition-all duration-300 col-span-1 relative overflow-hidden group",id:"challenges-btn-home",onPointerDown:()=>{J.playUIClick(),Ae("Nessuna sfida attiva al momento")},children:[c.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')] opacity-10"}),c.jsx(rs,{className:"w-5 h-5"}),c.jsx("span",{className:"font-orbitron text-xs font-black uppercase tracking-widest relative z-10",children:"Sfide"})]}),c.jsxs("button",{onPointerDown:async v=>{v.stopPropagation(),await We(),J.playUIClick(),E("leaderboard")},id:"ranking-btn-home",className:"flex items-center justify-center gap-2 bg-gradient-to-r from-yellow-400 to-amber-500 text-slate-900 py-4 rounded-xl border-[3px] border-white shadow-[0_6px_0_rgba(0,0,0,0.1)] active:translate-y-1 active:shadow-none hover:scale-105 transition-all duration-300 col-span-1 relative overflow-hidden group",children:[c.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')] opacity-15"}),c.jsx(Ux,{className:"w-5 h-5 relative z-10"}),c.jsx("span",{className:"font-orbitron text-xs font-black uppercase tracking-widest relative z-10",children:"RANKING"})]})]})]})]})]}),s.status!=="idle"&&c.jsxs("div",{className:"w-full h-full flex flex-col items-center z-10 p-4 max-w-4xl animate-screen-in",children:[c.jsx("header",{className:"w-full max-w-2xl mx-auto mb-2 relative z-50",children:c.jsxs("div",{className:`
                relative w-full flex justify-between items-center px-4 py-3 rounded-[2.5rem] border-[4px] border-white shadow-[0_8px_0_rgba(0,0,0,0.15)]
                ${s.isBossLevel?"bg-gradient-to-r from-lime-500 via-green-500 to-lime-600":"bg-gradient-to-r from-orange-400 via-[#FF5500] to-orange-600"}
                transition-all duration-300
              `,children:[c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsx("button",{onPointerDown:v=>{Fs(v),n(_=>({..._,isBossLevel:!1,bossLevelId:null}))},className:`w-11 h-11 rounded-full border-[3px] border-white flex items-center justify-center transition-all active:scale-90 shadow-md bg-white 
                      ${s.isBossLevel?"text-emerald-600":"text-[#FF8800]"}`,title:"Home",children:c.jsx(vd,{className:"w-6 h-6"})}),c.jsx("button",{onPointerDown:Zr,className:`w-11 h-11 rounded-full border-[3px] border-white flex items-center justify-center transition-all active:scale-90 shadow-md bg-white 
                      ${s.isBossLevel?"text-emerald-600":"text-[#FF8800]"}`,children:Be?c.jsx(So,{className:"w-6 h-6"}):c.jsx(_o,{className:"w-6 h-6"})})]}),c.jsxs("div",{id:"timer-display-game",className:"absolute left-1/2 -translate-x-1/2 top-1/2 transform translate-y-[-10%] z-[100] cursor-pointer group",onPointerDown:x!=null&&x.isDuel?void 0:on,children:[(x==null?void 0:x.isDuel)&&P==="blitz"&&!1,s.isBossLevel?c.jsxs("div",{className:`relative w-24 h-24 flex items-center justify-center transition-all duration-300 ${rt?"scale-110":"hover:scale-105"}`,children:[c.jsx("div",{className:"absolute -inset-1 rotate-45 rounded-xl border-[4px] border-white pointer-events-none"}),c.jsx("div",{className:"absolute inset-0 bg-slate-900 rotate-45 rounded-xl border-[4px] border-emerald-500 shadow-[0_0_20px_rgba(16,185,129,0.4)]"}),c.jsxs("svg",{className:"absolute inset-0 w-full h-full rotate-45 pointer-events-none z-20 overflow-visible",children:[c.jsx("defs",{children:c.jsxs("filter",{id:"bossGlow",x:"-20%",y:"-20%",width:"140%",height:"140%",children:[c.jsx("feGaussianBlur",{stdDeviation:"2",result:"blur"}),c.jsx("feComposite",{in:"SourceGraphic",in2:"blur",operator:"over"})]})}),c.jsx("rect",{x:"2",y:"2",width:"92",height:"92",rx:"12",stroke:"rgba(16, 185, 129, 0.2)",strokeWidth:"6",fill:"none"}),!rt&&c.jsx("rect",{x:"2",y:"2",width:"92",height:"92",rx:"12",stroke:"#10b981",strokeWidth:"6",fill:"none",pathLength:"100",strokeDasharray:"100",strokeDashoffset:100*(1-s.timeLeft/90),strokeLinecap:"round",className:"transition-all duration-1000 ease-linear",filter:"url(#bossGlow)"})]}),c.jsx("div",{className:"relative z-10 flex flex-col items-center justify-center text-white",children:rt?c.jsx(nd,{className:"w-8 h-8 text-emerald-400 animate-pulse"}):c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-[8px] font-black text-emerald-400 uppercase leading-none mb-1 tracking-widest",children:"BOSS"}),c.jsx("span",{className:"font-black font-orbitron text-3xl leading-none drop-shadow-md",children:s.timeLeft})]})})]}):c.jsxs("div",{className:`relative w-24 h-24 rounded-full bg-slate-900 border-[4px] border-white flex items-center justify-center shadow-xl transition-all duration-300 ${rt?"border-[#FF8800] scale-110 shadow-[0_0_30px_rgba(255,136,0,0.5)]":"group-hover:scale-105"} ${x!=null&&x.isDuel&&P!=="time_attack"?"border-red-500/50 grayscale-0 opacity-100 flex flex-col":""}`,children:[c.jsxs("svg",{className:"absolute inset-0 w-full h-full -rotate-90 scale-90",children:[c.jsx("circle",{cx:"50%",cy:"50%",r:"45%",stroke:"rgba(255,255,255,0.1)",strokeWidth:"8",fill:"none"}),!rt&&c.jsx("circle",{cx:"50%",cy:"50%",r:"45%",stroke:x!=null&&x.isDuel&&P!=="time_attack"&&P!=="blitz"?`rgb(${Math.floor((Z||0)/5*205+34)}, ${Math.floor((1-(Z||0)/5)*129+68)}, 68)`:s.timeLeft<=10?"#ef4444":"#FF8800",strokeWidth:"8",fill:"none",strokeDasharray:"283",strokeDashoffset:x!=null&&x.isDuel&&P!=="time_attack"&&P!=="blitz"?283-283*(Z||0)/5:283*(1-s.timeLeft/60),strokeLinecap:"round",className:"transition-all duration-1000"})]}),rt?c.jsx(nd,{className:"w-10 h-10 text-white animate-pulse",fill:"white"}):c.jsxs(c.Fragment,{children:[(x==null?void 0:x.isDuel)&&P!=="time_attack"&&P!=="blitz"&&c.jsx("span",{className:"text-[8px] font-black text-slate-500 uppercase leading-none mb-1",children:"AVV"}),c.jsx("span",{className:`font-black font-orbitron text-white ${x!=null&&x.isDuel?"text-4xl":"text-3xl"}`,children:x!=null&&x.isDuel?P==="time_attack"||P==="blitz"?s.timeLeft:Z:s.timeLeft})]})]})]}),x!=null&&x.isDuel?c.jsx("div",{className:"flex items-center gap-3 pl-20 sm:pl-0",children:c.jsx("div",{id:"score-display-game",className:"w-14 h-14 rounded-full bg-white border-[3px] border-white/20 flex flex-col items-center justify-center shadow-xl transform hover:scale-105 transition-transform",children:P==="blitz"?c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-[7px] font-black text-[#FF8800] leading-none mb-0.5 uppercase",children:"SCORE"}),c.jsx("span",{className:"text-xl font-black font-orbitron text-[#FF8800] leading-none",children:s.score})]}):c.jsxs(c.Fragment,{children:[c.jsx("span",{className:"text-[7px] font-black text-[#FF8800] leading-none mb-0.5 uppercase",children:"PTS"}),c.jsx("span",{className:"text-xl font-black font-orbitron text-[#FF8800] leading-none",children:s.score})]})})}):c.jsx("div",{className:"flex items-center gap-3",children:c.jsxs("div",{className:"flex items-center gap-3",children:[c.jsxs("div",{id:"score-display-game",className:`w-11 h-11 rounded-full border-[3px] border-white flex flex-col items-center justify-center shadow-md bg-white ${s.isBossLevel?"text-emerald-600":"text-[#FF8800]"}`,children:[c.jsx("span",{className:"text-[7px] font-black uppercase leading-none opacity-80 mb-0.5",children:"PTS"}),c.jsx("span",{className:"text-xs font-black font-orbitron leading-none tracking-tighter",children:s.totalScore})]}),c.jsxs("div",{className:`w-11 h-11 rounded-full border-[3px] border-white flex flex-col items-center justify-center shadow-md bg-white ${s.isBossLevel?"text-emerald-600":"text-[#FF8800]"}`,children:[c.jsx("span",{className:"text-[7px] font-black uppercase leading-none opacity-80 mb-0.5",children:s.isBossLevel?"BOSS":"LV"}),c.jsx("span",{className:"text-sm font-black font-orbitron leading-none",children:s.isBossLevel?s.bossLevelId:s.level})]})]})})]})}),c.jsxs("main",{className:"relative flex-grow w-full flex flex-col items-center justify-center",children:[s.status==="playing"&&c.jsxs("div",{className:"w-full flex flex-col items-center h-full relative",children:[c.jsx("div",{className:"w-full max-w-2xl px-4 flex justify-start items-center min-h-[50px] mb-2 mt-6",children:c.jsx("div",{className:`transition-all duration-300 transform origin-left
                        ${h&&d.length>0?"opacity-100 scale-100 translate-x-0":"opacity-0 scale-90 -translate-x-4 pointer-events-none"}`,children:c.jsxs("div",{className:`px-5 py-2 rounded-xl border-[3px] flex items-center gap-3 shadow-md transition-colors duration-200
                          ${g!==null&&(s.isBossLevel?((Ji=s.levelTargets.find(v=>!v.completed))==null?void 0:Ji.value)===g:s.levelTargets.some(v=>v.value===g&&!v.completed))?s.isBossLevel?"bg-emerald-600 border-white text-white scale-105 shadow-[0_0_20px_rgba(16,185,129,0.5)]":"bg-[#FF8800] border-white text-white scale-105":s.isBossLevel?"bg-white border-emerald-600 text-emerald-600":"bg-white border-[#FF8800] text-[#FF8800]"}`,children:[c.jsx("span",{className:"text-[10px] font-black uppercase tracking-wider opacity-80",children:"Totale:"}),c.jsx("span",{className:"text-2xl font-black font-orbitron leading-none",children:g!==null?g:"..."})]})})}),c.jsx("div",{className:"flex flex-col items-center gap-2 mb-5",children:c.jsx("div",{className:"flex gap-2 items-center flex-wrap justify-center max-w-[300px]",id:"targets-display-tutorial",children:s.isBossLevel?(()=>{const v=s.levelTargets.find(Q=>!Q.completed);if(!v)return null;const _=s.levelTargets.filter(Q=>!Q.completed).length,A=s.levelTargets.length,$=A-_+1;return c.jsx("div",{className:"flex flex-col items-center animate-bounce-short w-full",children:c.jsxs("div",{className:"flex flex-col items-center justify-center w-full max-w-[240px] h-24 px-4 rounded-xl border-[4px] border-emerald-400 bg-emerald-900/80 shadow-[0_0_30px_rgba(16,185,129,0.5)] transition-all duration-300 transform hover:scale-105",children:[c.jsxs("span",{className:"text-[10px] text-emerald-300 font-bold uppercase tracking-[0.2em] mb-1",children:["TARGET ",$,"/",A]}),c.jsx("span",{className:`font-orbitron font-black text-white drop-shadow-[0_2px_4px_rgba(0,0,0,0.8)] leading-none
                                  ${v.displayValue?"text-2xl tracking-widest":"text-5xl"}`,children:v.displayValue||v.value})]})})})():s.levelTargets.map((v,_)=>{const A=(x==null?void 0:x.isDuel)&&P==="blitz";let $="bg-[#0055AA] border-white/50";if(A){const Q=v.owner==="p1"&&(x==null?void 0:x.isP1)||v.owner==="p2"&&!(x!=null&&x.isP1),ce=v.owner==="p1"&&!(x!=null&&x.isP1)||v.owner==="p2"&&(x==null?void 0:x.isP1);Q?$="bg-emerald-500 border-white scale-110 shadow-[0_0_15px_rgba(16,185,129,0.6)] z-10":ce&&($="bg-rose-600 border-white/80 opacity-90 scale-95")}else v.completed&&($="bg-[#FF8800] border-white scale-110 shadow-[0_0_15px_rgba(255,136,0,0.6)]");return c.jsx("div",{className:`
                                    flex items-center justify-center w-12 h-12 rounded-xl transition-all duration-300 border-2
                                    ${$}
                                     font-orbitron font-black text-white text-xl shadow-lg drop-shadow-[0_2px_2px_rgba(0,0,0,0.5)]
                                 ${v.displayValue?"text-[10px] sm:text-xs leading-tight whitespace-nowrap px-1":"text-xl"} 
                                 `,children:v.displayValue||v.value},_)})})}),c.jsxs("div",{className:"relative flex-grow w-full flex items-center justify-center overflow-visible",children:[rt&&c.jsx("div",{id:"pause-overlay-game",className:"absolute inset-0 z-50 flex items-center justify-center bg-black/60 backdrop-blur-xl rounded-3xl transition-all animate-fadeIn",children:c.jsxs("div",{className:"flex flex-col items-center gap-4",children:[c.jsx(nd,{className:"w-24 h-24 text-white opacity-100 drop-shadow-[0_0_15px_rgba(255,255,255,0.5)]"}),c.jsx("span",{className:"font-orbitron font-black text-2xl text-white tracking-[0.3em] animate-pulse",children:"PAUSA"})]})}),c.jsx("div",{id:"grid-container-game",className:`relative mx-auto transition-all duration-500 transform
                    ${rt?"opacity-10 scale-95 filter blur-lg pointer-events-none grayscale":"opacity-100 scale-100 filter-none"}
                    w-[calc(272px*var(--hex-scale))] h-[calc(376px*var(--hex-scale))]`,children:r.map(v=>c.jsx(zb,{data:v,isSelected:d.includes(v.id),isSelectable:!Ze&&!rt,onMouseEnter:Dn,onMouseDown:al,theme:ta,isBossLevel:s.isBossLevel},v.id))})]})]}),s.status==="round-won"&&c.jsx("div",{className:"absolute inset-0 z-[150] flex items-center justify-center bg-black/60 backdrop-blur-md animate-fadeIn",children:c.jsxs("div",{className:"text-center p-8 bg-slate-900 border-4 border-[#FF8800] rounded-[3rem] shadow-[0_0_50px_rgba(255,136,0,0.5)] animate-bounce-slow",children:[c.jsx(gd,{className:"w-16 h-16 text-[#FF8800] mx-auto mb-4"}),c.jsx("h2",{className:"text-4xl font-black font-orbitron text-white uppercase tracking-widest leading-none mb-2",children:"ROUND VINTO!"}),c.jsx("div",{className:"text-lg font-black font-orbitron text-[#FF8800] uppercase tracking-tighter",children:"Sincronizzazione in corso..."}),c.jsx("div",{className:"mt-4 flex gap-2 justify-center",children:[1,2,3].map(v=>c.jsx("div",{className:"w-3 h-3 rounded-full bg-[#FF8800] animate-pulse",style:{animationDelay:`${v*.2}s`}},v))})]})}),s.status==="game-over"&&c.jsxs("div",{className:`glass-panel p-6 rounded-[2rem] text-center modal-content animate-screen-in w-full max-w-sm mt-40 relative overflow-hidden border-[3px] shadow-lg
                  ${s.isBossLevel?"border-emerald-500/50 shadow-[0_0_50px_rgba(16,185,129,0.3)]":"border-[#FF8800]/30 shadow-[0_0_50px_rgba(255,136,0,0.2)]"}`,children:[c.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')] opacity-20 pointer-events-none"}),c.jsx(po,{className:`w-12 h-12 mx-auto mb-2 animate-pulse ${s.isBossLevel?"text-emerald-400":"text-[#FF8800]"}`}),c.jsx("h2",{className:`text-3xl font-black font-orbitron mb-1 tracking-wider ${s.isBossLevel?"text-emerald-400":"text-[#FF8800]"}`,children:"HAI PERSO"}),c.jsx("div",{className:"text-[10px] font-bold text-slate-400 mb-6 uppercase tracking-[0.2em]",children:s.isBossLevel?"Boss Sfidato":"Livello Non Superato"}),c.jsxs("div",{className:"space-y-3 relative z-10",children:[c.jsx("button",{onPointerDown:v=>{v.stopPropagation(),wt(),s.isBossLevel&&s.bossLevelId?Cn(s.bossLevelId):La(s.level)},className:"w-full bg-white text-slate-950 py-4 rounded-xl font-orbitron font-black uppercase tracking-widest text-xs shadow-lg active:scale-95 transition-all border-2 border-slate-200",children:s.isBossLevel?"RIPROVA BOSS":`RIGIOCA LIVELLO ${s.level}`}),c.jsx("button",{onPointerDown:v=>{v.stopPropagation(),wt(x==null?void 0:x.id,K==null?void 0:K.id),Fs(),n(_=>({..._,isBossLevel:!1,bossLevelId:null}))},className:"w-full bg-slate-800 text-slate-400 py-4 rounded-xl font-orbitron font-black uppercase tracking-widest text-sm border border-slate-700 active:scale-95 transition-all hover:bg-slate-700 hover:text-white",children:"TORNA ALLA HOME"})]})]}),s.status==="opponent-surrendered"&&c.jsxs("div",{className:"glass-panel p-8 rounded-[2rem] text-center modal-content animate-screen-in w-full max-w-sm mt-12 relative overflow-hidden border-[3px] border-cyan-500 shadow-[0_0_60px_rgba(6,182,212,0.4)]",children:[c.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')] opacity-20 pointer-events-none"}),c.jsx(rs,{className:"w-16 h-16 text-cyan-400 mx-auto mb-4 animate-[bounce_2s_infinite]"}),c.jsx("h2",{className:"text-3xl font-black font-orbitron mb-2 text-cyan-400 tracking-wider drop-shadow-[0_0_10px_rgba(6,182,212,0.8)]",children:"HAI VINTO"}),c.jsx("div",{className:"text-xs font-bold text-white mb-6 uppercase tracking-[0.1em] bg-cyan-500/10 py-1 rounded",children:"Vittoria per Ritiro"}),c.jsxs("div",{className:"bg-slate-900/60 p-5 rounded-2xl mb-6 border border-cyan-500/20",children:[c.jsx("span",{className:"text-[10px] text-slate-400 uppercase font-black tracking-widest block mb-2",children:"Punteggio Ottenuto"}),c.jsxs("div",{className:"text-4xl font-black font-orbitron text-white text-shadow-neon-cyan",children:["+",s.score+(P==="blitz"?50:100)," "]}),c.jsx("span",{className:"text-[8px] text-slate-500 uppercase font-bold mt-1 block",children:"Accumulati nel Profilo Globale"})]}),c.jsx("button",{onPointerDown:v=>{v.stopPropagation(),wt(),E("duel_selection")},className:"w-full bg-cyan-600 text-white py-4 rounded-xl font-orbitron font-black uppercase tracking-widest text-sm shadow-lg active:scale-95 transition-all border border-cyan-400 hover:bg-cyan-500",children:"TORNA ALLA LOBBY"})]}),s.status==="level-complete"&&c.jsxs("div",{className:"glass-panel p-8 rounded-[2rem] text-center modal-content animate-screen-in w-full max-w-md mt-12 relative overflow-hidden border-[3px] border-[#FF8800]/50 shadow-[0_0_60px_rgba(255,136,0,0.3)]",children:[c.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')] opacity-20 pointer-events-none"}),s.isBossLevel?c.jsxs("div",{className:"relative z-10",children:[c.jsx(Bs,{className:"w-20 h-20 text-yellow-400 mx-auto mb-4 animate-bounce"}),c.jsx("h2",{className:"text-4xl font-black font-orbitron text-yellow-400 mb-2 uppercase tracking-wider drop-shadow-[0_0_15px_rgba(250,204,21,0.6)]",children:"BOSS SCONFITTO!"}),c.jsx("div",{className:"text-xs font-bold text-white mb-6 uppercase tracking-[0.1em] bg-yellow-500/20 py-1 rounded",children:"Dominio Matematico Stabilito"}),c.jsxs("div",{className:"bg-slate-900/60 p-5 rounded-2xl mb-6 border border-yellow-500/20",children:[c.jsx("span",{className:"text-[10px] text-slate-400 uppercase font-black tracking-widest block mb-2",children:"Ricompensa"}),c.jsxs("div",{className:"text-3xl font-black font-orbitron text-white text-shadow-neon-yellow flex flex-col items-center gap-1",children:[c.jsx("span",{children:"30s BONUS"}),c.jsx("span",{className:"text-xs text-yellow-500 font-bold",children:"+1000 PUNTI"})]})]}),c.jsx("button",{onPointerDown:async v=>{v.stopPropagation(),K&&s.bossLevelId&&(await qt.completeBoss(K.id,s.bossLevelId),$t(K.id)),n(_=>({..._,isBossLevel:!1,bossLevelId:null,status:"idle"}))},className:"w-full bg-yellow-600 text-white py-4 rounded-xl font-orbitron font-black uppercase tracking-widest text-sm shadow-lg active:scale-95 transition-all border border-yellow-400 hover:bg-yellow-500",children:"RISCATTA & TORNA ALLA BASE"})]}):c.jsxs("div",{className:"relative z-10",children:[c.jsxs("div",{className:"flex justify-center items-center gap-6 mb-6",children:[c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsx("span",{className:"text-[9px] uppercase font-black text-slate-400 tracking-wider",children:"Livello"}),c.jsx("span",{className:"text-3xl font-black font-orbitron text-white",children:s.level})]}),c.jsx(mo,{className:"w-8 h-8 text-[#FF8800] animate-pulse",strokeWidth:3}),c.jsxs("div",{className:"flex flex-col items-center",children:[c.jsx("span",{className:"text-[9px] uppercase font-black text-[#FF8800] tracking-wider",children:"Prossimo"}),c.jsx("span",{className:"text-4xl font-black font-orbitron text-[#FF8800] drop-shadow-[0_0_10px_rgba(255,136,0,0.5)]",children:s.level+1})]})]}),c.jsxs("div",{className:"bg-slate-900/50 p-5 rounded-2xl mb-6 border border-white/10 space-y-3",children:[c.jsxs("div",{className:"flex justify-between items-center border-b border-white/5 pb-2",children:[c.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider",children:"Punti Livello"}),c.jsxs("span",{className:"text-lg font-orbitron font-black text-[#FF8800] animate-pulse",children:["+",s.score>0?s.timeLeft*2+50+50:"..."]})]}),c.jsxs("div",{className:"flex justify-between items-center border-b border-white/5 pb-2",children:[c.jsx("span",{className:"text-[10px] font-bold text-slate-400 uppercase tracking-wider",children:"Punteggio Totale"}),c.jsx("span",{className:"text-lg font-orbitron font-black text-white",children:s.totalScore})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-2 pt-1",children:[c.jsxs("div",{className:"bg-green-500/10 rounded-lg p-2 flex flex-col items-center",children:[c.jsx("span",{className:"text-[8px] font-black uppercase text-green-400 tracking-wider",children:"Residuo"}),c.jsxs("span",{className:"text-sm font-orbitron font-black text-green-300",children:[s.timeLeft,"s"]})]}),c.jsxs("div",{className:"bg-green-500/20 rounded-lg p-2 flex flex-col items-center border border-green-500/30",children:[c.jsx("span",{className:"text-[8px] font-black uppercase text-green-300 tracking-wider",children:"Totale"}),c.jsxs("span",{className:"text-sm font-orbitron font-black text-white",children:[s.timeLeft+60,"s"]})]})]})]}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("button",{onPointerDown:v=>{v.stopPropagation(),ca()},className:"w-full bg-gradient-to-r from-[#FF8800] to-[#FF5500] text-white py-4 rounded-xl font-orbitron font-black uppercase tracking-widest text-lg shadow-[0_8px_20px_rgba(255,136,0,0.4)] active:scale-95 transition-all flex items-center justify-center gap-2 border-[3px] border-white group relative overflow-hidden",children:[c.jsx("div",{className:"absolute inset-0 bg-white/20 translate-y-full group-hover:translate-y-0 transition-transform duration-300"}),c.jsx(Ds,{className:"w-5 h-5 fill-current"}),c.jsx("span",{className:"relative z-10",children:"Prossimo Livello"})]}),c.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[c.jsx("button",{onPointerDown:v=>{v.stopPropagation(),La(s.level)},className:"bg-slate-800 text-slate-300 py-3 rounded-xl font-bold uppercase text-xs active:scale-95 transition-all border border-slate-700 hover:text-white hover:bg-slate-700",children:"Rigioca"}),c.jsx("button",{onPointerDown:v=>{v.stopPropagation(),wt(x==null?void 0:x.id,K==null?void 0:K.id),Fs(v),n(_=>({..._,isBossLevel:!1,bossLevelId:null}))},className:"bg-slate-800 text-slate-300 py-3 rounded-xl font-bold uppercase text-xs active:scale-95 transition-all border border-slate-700 hover:text-white hover:bg-slate-700",children:"Home"})]}),c.jsx("button",{className:"text-[9px] text-cyan-500/40 uppercase font-black tracking-[0.2em] hover:text-cyan-400 transition-colors pt-1 animate-pulse",children:"Salvataggio Automatico Attivo"})]})]})]})]})]}),j==="tutorial"&&c.jsx("div",{className:"fixed inset-0 z-[1000] flex items-center justify-center p-6 modal-overlay bg-black/80",onPointerDown:()=>{J.playUIClick(),E(null)},children:c.jsx("div",{className:"bg-white border-[4px] border-[#FF8800] w-full max-w-md p-8 rounded-[2rem] shadow-[0_0_50px_rgba(255,136,0,0.3)] flex flex-col",onPointerDown:v=>v.stopPropagation(),children:c.jsxs("div",{className:"flex flex-col items-center text-center py-4",children:[c.jsx("div",{className:"mb-6 scale-125 drop-shadow-sm",children:Lr[te].icon}),c.jsx("h2",{className:"text-2xl font-black font-orbitron text-[#FF8800] mb-4 uppercase tracking-widest",children:Lr[te].title}),c.jsx("p",{className:"text-slate-600 font-bold text-sm leading-relaxed mb-10 border-t-2 border-slate-100 pt-4 w-full",children:Lr[te].description}),c.jsx("button",{onPointerDown:v=>{v.stopPropagation(),Io()},className:"w-full bg-[#FF8800] text-white border-[3px] border-white py-5 rounded-2xl font-orbitron font-black text-sm uppercase shadow-lg active:scale-95 transition-all outline-none ring-0",children:te===Lr.length-1?"HO CAPITO":"AVANTI"})]})})}),j==="boss_selection"&&c.jsx("div",{className:"fixed inset-0 z-[1000] flex items-center justify-center p-6 modal-overlay bg-black/80 backdrop-blur-sm",onPointerDown:()=>{J.playUIClick(),E(null)},children:c.jsxs("div",{className:"bg-slate-900 border-[3px] border-emerald-500/50 w-full max-w-lg p-8 rounded-[2rem] shadow-[0_0_50px_rgba(16,185,129,0.2)] flex flex-col relative overflow-hidden",onPointerDown:v=>v.stopPropagation(),children:[c.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')] opacity-20 pointer-events-none"}),c.jsxs("h2",{className:"text-3xl font-black font-orbitron text-white mb-2 uppercase text-center relative z-10 flex items-center justify-center gap-3",children:[c.jsx(Bs,{className:"text-yellow-400"})," LIVELLI BOSS"]}),c.jsx("p",{className:"text-slate-400 text-center text-sm mb-8 font-mono relative z-10",children:"Sconfiggi i Boss per Bonus Epici"}),c.jsx("div",{className:"flex flex-col gap-4 relative z-10 w-full overflow-y-auto max-h-[50vh]",children:Gm.map(v=>{var $;const _=((Le==null?void 0:Le.max_level)||0)>v.requiredLevel||s.level>v.requiredLevel||((Re==null?void 0:Re.level)||0)>v.requiredLevel,A=($=Le==null?void 0:Le.badges)==null?void 0:$.includes(v.id===1?"boss_matematico":`boss_${v.id}_defeated`);return c.jsxs("button",{disabled:!_,className:`w-full p-4 rounded-xl flex items-center gap-4 border-2 transition-all group shadow-lg relative overflow-hidden
                           ${A?"bg-slate-800/80 border-emerald-500 shadow-[0_0_20px_rgba(16,185,129,0.2)] cursor-default grayscale-[0.5]":_?"bg-gradient-to-r from-emerald-800 to-teal-900 border-emerald-500/30 hover:border-emerald-400 active:scale-95 cursor-pointer":"bg-slate-800 border-slate-700 opacity-60 cursor-not-allowed grayscale"}`,onPointerDown:()=>{_&&!A&&(J.playUIClick(),Cn(v.id))},children:[c.jsx("div",{className:`w-14 h-14 rounded-xl flex items-center justify-center shrink-0 border-2 shadow-inner relative z-10
                            ${_?A?"bg-amber-500 border-amber-300 text-white":"bg-emerald-500 border-emerald-300 text-white":"bg-slate-700 border-slate-600 text-slate-500"}`,children:A?c.jsx(rs,{size:24,className:"animate-bounce-slow"}):_?c.jsx(Ds,{size:24,fill:"currentColor"}):c.jsx(Ka,{size:24})}),c.jsxs("div",{className:"text-left flex-1 relative z-10",children:[c.jsx("h3",{className:"font-orbitron font-black text-white text-lg uppercase leading-none mb-1 tracking-wider",children:v.title}),c.jsx("p",{className:"text-[10px] text-emerald-200 font-bold uppercase tracking-wide mb-1",children:v.description}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("span",{className:"text-[9px] bg-black/40 px-2 py-0.5 rounded text-white font-mono",children:["REQ: LIV ",v.requiredLevel]}),c.jsxs("span",{className:"text-[9px] bg-yellow-500/20 text-yellow-300 px-2 py-0.5 rounded font-mono flex items-center gap-1",children:[c.jsx(Ls,{size:8})," ",v.reward]})]})]})]},v.id)})}),c.jsx("button",{onClick:()=>E(null),className:"mt-6 text-slate-500 text-xs hover:text-white uppercase font-bold tracking-widest relative z-10",children:"Chiudi"})]})}),j==="duel_selection"&&c.jsx("div",{className:"fixed inset-0 z-[1000] flex items-center justify-center p-6 modal-overlay bg-black/80 backdrop-blur-sm",onPointerDown:()=>{J.playUIClick(),E(null)},children:c.jsxs("div",{className:"bg-slate-900 border-[3px] border-white/20 w-full max-w-lg p-8 rounded-[2rem] shadow-2xl flex flex-col relative overflow-hidden",onPointerDown:v=>v.stopPropagation(),children:[c.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')] opacity-20 pointer-events-none"}),c.jsxs("h2",{className:"text-3xl font-black font-orbitron text-white mb-2 uppercase text-center relative z-10 flex items-center justify-center gap-3",children:[c.jsx(ia,{className:"text-[#FF8800]"})," SELEZIONA SFIDA"]}),c.jsx("p",{className:"text-slate-400 text-center text-sm mb-8 font-mono relative z-10",children:"Scegli il tuo stile di combattimento"}),c.jsxs("div",{className:"flex flex-col gap-3 relative z-10 w-full",children:[c.jsxs("button",{className:"w-full bg-gradient-to-r from-red-600 to-rose-700 p-4 rounded-xl flex items-center gap-4 border-2 border-white/10 hover:border-white/40 hover:scale-[1.02] active:scale-95 transition-all group shadow-lg relative overflow-hidden",onPointerDown:()=>{J.playUIClick(),Y("standard"),E("duel")},children:[c.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')] opacity-10"}),c.jsx("div",{className:"w-12 h-12 rounded-full bg-white/10 flex items-center justify-center shrink-0 border border-white/20 group-hover:bg-white/20 transition-colors shadow-inner relative z-10",children:c.jsx(ia,{size:22,className:"text-yellow-300 drop-shadow-sm"})}),c.jsxs("div",{className:"text-left flex-1 relative z-10",children:[c.jsx("h3",{className:"font-orbitron font-black text-white text-lg uppercase leading-none mb-1 tracking-wider",children:"STANDARD"}),c.jsx("p",{className:"text-[10px] text-white/80 font-bold uppercase tracking-wide",children:"Velocit Pura  Partita Secca"})]}),c.jsx(mo,{className:"text-white/30 group-hover:text-white transition-colors relative z-10"})]}),c.jsxs("button",{className:"w-full bg-gradient-to-r from-orange-500 to-amber-600 p-4 rounded-xl flex items-center gap-4 border-2 border-white/10 hover:border-white/40 hover:scale-[1.02] active:scale-95 transition-all group shadow-lg relative overflow-hidden",onPointerDown:()=>{J.playUIClick(),Y("blitz"),E("duel")},children:[c.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')] opacity-10"}),c.jsx("div",{className:"absolute top-0 right-12 bg-red-600 text-white text-[8px] font-black px-2 py-0.5 rounded-b-lg shadow-sm z-20",children:"NEW"}),c.jsx("div",{className:"w-12 h-12 rounded-full bg-white/10 flex items-center justify-center shrink-0 border border-white/20 group-hover:bg-white/20 transition-colors shadow-inner relative z-10",children:c.jsx(Ls,{size:22,className:"text-white drop-shadow-sm"})}),c.jsxs("div",{className:"text-left flex-1 relative z-10",children:[c.jsx("h3",{className:"font-orbitron font-black text-white text-lg uppercase leading-none mb-1 tracking-wider",children:"BLITZ DOMINION"}),c.jsx("p",{className:"text-[10px] text-white/80 font-bold uppercase tracking-wide",children:"Alta Strategia  Conquista"})]}),c.jsx(mo,{className:"text-white/30 group-hover:text-white transition-colors relative z-10"})]}),c.jsxs("button",{className:"w-full bg-gradient-to-r from-purple-600 to-indigo-600 p-4 rounded-xl flex items-center gap-4 border-2 border-white/10 hover:border-white/40 hover:scale-[1.02] active:scale-95 transition-all group shadow-lg relative overflow-hidden",onPointerDown:()=>{J.playUIClick(),Y("time_attack"),E("duel")},children:[c.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')] opacity-10"}),c.jsx("div",{className:"absolute top-0 right-12 bg-yellow-400 text-black text-[8px] font-black px-2 py-0.5 rounded-b-lg shadow-sm z-20 animate-pulse",children:"HOT"}),c.jsx("div",{className:"w-12 h-12 rounded-full bg-white/10 flex items-center justify-center shrink-0 border border-white/20 group-hover:bg-white/20 transition-colors shadow-inner relative z-10",children:c.jsx(fp,{size:22,className:"text-white drop-shadow-sm"})}),c.jsxs("div",{className:"text-left flex-1 relative z-10",children:[c.jsx("h3",{className:"font-orbitron font-black text-white text-lg uppercase leading-none mb-1 tracking-wider",children:"TIME ATTACK"}),c.jsx("p",{className:"text-[10px] text-white/80 font-bold uppercase tracking-wide",children:"60 Secondi  Target Infiniti"})]}),c.jsx(mo,{className:"text-white/30 group-hover:text-white transition-colors relative z-10"})]})]}),c.jsx("button",{onClick:()=>E(null),className:"mt-8 text-slate-500 text-xs hover:text-white uppercase font-bold tracking-widest relative z-10",children:"Annulla"})]})}),j==="registration_success"&&c.jsx(iw,{onEnter:()=>E(null)}),j==="resume_confirm"&&c.jsx("div",{className:"fixed inset-0 z-[5000] flex items-center justify-center p-6 modal-overlay bg-black/90 backdrop-blur-md",onPointerDown:()=>E(null),children:c.jsxs("div",{className:"bg-gradient-to-br from-slate-900 via-slate-800 to-slate-900 border-[3px] border-[#FF8800] w-full max-w-md p-8 rounded-[2rem] shadow-[0_0_60px_rgba(255,136,0,0.5)] flex flex-col relative overflow-hidden",onPointerDown:v=>v.stopPropagation(),children:[c.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')] opacity-10 pointer-events-none"}),c.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-[#FF8800] to-transparent animate-pulse"}),c.jsx("div",{className:"relative z-10 mb-6",children:c.jsxs("div",{className:"w-24 h-24 mx-auto relative",children:[c.jsxs("svg",{viewBox:"0 0 100 100",className:"absolute inset-0 w-full h-full drop-shadow-[0_0_20px_rgba(255,136,0,0.6)]",children:[c.jsx("defs",{children:c.jsxs("linearGradient",{id:"hexGradient",x1:"0%",y1:"0%",x2:"100%",y2:"100%",children:[c.jsx("stop",{offset:"0%",style:{stopColor:"#FF8800",stopOpacity:1}}),c.jsx("stop",{offset:"100%",style:{stopColor:"#D97706",stopOpacity:1}})]})}),c.jsx("polygon",{points:"50,5 90,27.5 90,72.5 50,95 10,72.5 10,27.5",fill:"url(#hexGradient)",stroke:"#FFB347",strokeWidth:"2",className:"animate-pulse"})]}),c.jsx("div",{className:"absolute inset-0 flex items-center justify-center",children:c.jsx(Ds,{className:"w-10 h-10 text-white drop-shadow-lg",fill:"white"})})]})}),c.jsx("h2",{className:"text-3xl font-black font-orbitron text-white mb-2 uppercase tracking-wider relative z-10 text-center",children:"PARTITA IN CORSO"}),c.jsxs("div",{className:"bg-black/30 border border-[#FF8800]/30 rounded-xl p-4 mb-6 relative z-10",children:[c.jsxs("div",{className:"flex items-center justify-center gap-3 mb-2",children:[c.jsx(rs,{className:"w-5 h-5 text-amber-400"}),c.jsx("span",{className:"text-slate-300 font-bold text-sm",children:"LIVELLO SALVATO"})]}),c.jsx("div",{className:"text-5xl font-black font-orbitron text-[#FF8800] text-center",children:(Re==null?void 0:Re.level)||1}),c.jsxs("div",{className:"grid grid-cols-2 gap-3 mt-4",children:[c.jsxs("div",{className:"bg-black/20 rounded-lg p-2 border border-white/5",children:[c.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[c.jsx(I1,{className:"w-3 h-3 text-blue-400"}),c.jsx("span",{className:"text-[10px] text-slate-400 uppercase font-bold",children:"Tempo Totale"})]}),c.jsxs("div",{className:"text-lg font-black font-orbitron text-white text-center",children:[((Re==null?void 0:Re.timeLeft)||0)+parseInt(localStorage.getItem("career_time_bonus")||"0"),"s"]}),parseInt(localStorage.getItem("career_time_bonus")||"0")>0&&c.jsxs("div",{className:"text-[9px] text-slate-500 text-center mt-0.5",children:["(",(Re==null?void 0:Re.timeLeft)||0,"s + ",localStorage.getItem("career_time_bonus"),"s bonus)"]})]}),c.jsxs("div",{className:"bg-black/20 rounded-lg p-2 border border-white/5",children:[c.jsxs("div",{className:"flex items-center justify-center gap-1 mb-1",children:[c.jsx(rs,{className:"w-3 h-3 text-amber-400"}),c.jsx("span",{className:"text-[10px] text-slate-400 uppercase font-bold",children:"Punti"})]}),c.jsx("div",{className:"text-lg font-black font-orbitron text-white text-center",children:(Re==null?void 0:Re.totalScore)||0})]})]}),parseInt(localStorage.getItem("career_time_bonus")||"0")>0&&c.jsx("div",{className:"mt-3 bg-gradient-to-r from-amber-900/40 to-orange-900/40 border border-amber-500/40 rounded-lg p-2.5",children:c.jsxs("div",{className:"flex items-center justify-center gap-2",children:[c.jsx(Xr,{className:"w-4 h-4 text-amber-400 animate-pulse"}),c.jsxs("span",{className:"text-xs text-amber-300 font-bold",children:["BONUS BOSS ATTIVO: +",localStorage.getItem("career_time_bonus"),"s"]})]})})]}),c.jsxs("div",{className:"space-y-3 relative z-10",children:[c.jsxs("button",{onPointerDown:v=>{v.stopPropagation(),J.playUIClick(),qa()},className:"w-full bg-gradient-to-r from-[#FF8800] to-orange-600 text-white py-4 px-6 rounded-xl font-orbitron font-black uppercase tracking-widest text-sm shadow-lg shadow-[#FF8800]/30 active:scale-95 transition-all border-2 border-white/20 hover:shadow-[#FF8800]/50 flex items-center justify-center gap-3 group",children:[c.jsx(Ds,{className:"w-5 h-5 group-hover:scale-110 transition-transform"}),"RIPRENDI PARTITA"]}),c.jsxs("div",{className:"flex items-center gap-3 py-2",children:[c.jsx("div",{className:"flex-1 h-px bg-gradient-to-r from-transparent via-slate-600 to-transparent"}),c.jsx("span",{className:"text-slate-500 text-[10px] font-bold uppercase",children:"Opzioni Avanzate"}),c.jsx("div",{className:"flex-1 h-px bg-gradient-to-r from-transparent via-slate-600 to-transparent"})]}),c.jsxs("button",{onPointerDown:v=>{v.stopPropagation(),J.playUIClick(),E("full_reset_confirm")},className:"w-full bg-gradient-to-r from-red-900/50 to-red-800/50 text-red-300 py-3 px-6 rounded-xl font-orbitron font-bold uppercase tracking-widest text-xs border-2 border-red-500/30 active:scale-95 transition-all hover:border-red-500/60 flex items-center justify-center gap-2 group",children:[c.jsx(po,{className:"w-4 h-4 group-hover:scale-110 transition-transform"}),"RESET TOTALE"]}),c.jsxs("button",{onPointerDown:v=>{v.stopPropagation(),J.playUIClick(),E(null)},className:"w-full py-3 text-slate-500 font-bold uppercase text-xs tracking-widest hover:text-white transition-colors flex items-center justify-center gap-2 group",children:[c.jsx(vd,{className:"w-4 h-4 group-hover:scale-110 transition-transform"}),"TORNA ALLA HOME"]})]})]})}),j==="full_reset_confirm"&&c.jsx("div",{className:"fixed inset-0 z-[5001] flex items-center justify-center p-6 modal-overlay bg-black/95 backdrop-blur-lg",onPointerDown:()=>E("resume_confirm"),children:c.jsxs("div",{className:"bg-gradient-to-br from-red-950 via-red-900 to-red-950 border-[3px] border-red-500 w-full max-w-md p-8 rounded-[2rem] shadow-[0_0_80px_rgba(239,68,68,0.6)] flex flex-col relative overflow-hidden animate-pulse",onPointerDown:v=>v.stopPropagation(),children:[c.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')] opacity-10 pointer-events-none"}),c.jsx("div",{className:"absolute top-0 left-0 w-full h-1 bg-gradient-to-r from-transparent via-red-500 to-transparent animate-pulse"}),c.jsx("div",{className:"relative z-10 mb-6",children:c.jsx("div",{className:"w-24 h-24 mx-auto bg-gradient-to-br from-red-600 to-red-800 rounded-full flex items-center justify-center shadow-lg shadow-red-500/50 animate-pulse border-4 border-red-400",children:c.jsx(po,{className:"w-14 h-14 text-white",strokeWidth:3})})}),c.jsx("h2",{className:"text-3xl font-black font-orbitron text-white mb-3 uppercase tracking-wider relative z-10 text-center",children:" ATTENZIONE "}),c.jsxs("div",{className:"bg-black/40 border-2 border-red-500/50 rounded-xl p-5 mb-6 relative z-10",children:[c.jsxs("p",{className:"text-white font-bold text-center mb-4 leading-relaxed",children:["Stai per ",c.jsx("span",{className:"text-red-400 font-black",children:"CANCELLARE TUTTO"}),":"]}),c.jsxs("div",{className:"space-y-2 text-sm text-slate-300",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Fa,{className:"w-4 h-4 text-red-400"}),c.jsx("span",{children:"Tutti i livelli completati"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Fa,{className:"w-4 h-4 text-red-400"}),c.jsx("span",{children:"Tutti i badge e medaglie"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Fa,{className:"w-4 h-4 text-red-400"}),c.jsx("span",{children:"Boss sconfitti e bonus"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Fa,{className:"w-4 h-4 text-red-400"}),c.jsx("span",{children:"Statistiche duelli"})]}),c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsx(Fa,{className:"w-4 h-4 text-red-400"}),c.jsx("span",{children:"Punteggi e QI stimato"})]})]}),c.jsx("p",{className:"text-red-400 font-black text-center mt-4 text-xs uppercase tracking-wider",children:"Questa azione  IRREVERSIBILE!"})]}),c.jsxs("div",{className:"space-y-3 relative z-10",children:[c.jsxs("button",{onPointerDown:v=>{v.stopPropagation(),J.playUIClick(),oa()},className:"w-full bg-gradient-to-r from-red-600 to-red-700 text-white py-4 px-6 rounded-xl font-orbitron font-black uppercase tracking-widest text-sm shadow-lg shadow-red-500/50 active:scale-95 transition-all border-2 border-white/30 hover:shadow-red-500/70 flex items-center justify-center gap-3 group",children:[c.jsx(po,{className:"w-5 h-5 group-hover:scale-110 transition-transform"}),"S, CANCELLA TUTTO"]}),c.jsxs("button",{onPointerDown:v=>{v.stopPropagation(),J.playUIClick(),E("resume_confirm")},className:"w-full bg-gradient-to-r from-slate-700 to-slate-800 text-white py-3 px-6 rounded-xl font-orbitron font-bold uppercase tracking-widest text-xs border-2 border-white/20 active:scale-95 transition-all hover:from-slate-600 hover:to-slate-700 flex items-center justify-center gap-2",children:[c.jsx(Ka,{className:"w-4 h-4"}),"NO, TORNA INDIETRO"]})]})]})}),j==="logout_confirm"&&c.jsx("div",{className:"fixed inset-0 z-[5000] flex items-center justify-center p-6 modal-overlay bg-black/90 backdrop-blur-md",onPointerDown:()=>E(null),children:c.jsxs("div",{className:"bg-slate-900 border-[3px] border-red-500/50 w-full max-w-sm p-8 rounded-[2rem] shadow-[0_0_50px_rgba(220,38,38,0.4)] flex flex-col text-center relative overflow-hidden",onPointerDown:v=>v.stopPropagation(),children:[c.jsx("div",{className:"absolute inset-0 bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')] opacity-20 pointer-events-none"}),c.jsx(Ao,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),c.jsx("h2",{className:"text-2xl font-black font-orbitron text-white mb-2 uppercase tracking-wider relative z-10",children:"LOGOUT"}),c.jsx("p",{className:"text-slate-400 font-bold text-sm mb-8 relative z-10",children:"Vuoi davvero disconnetterti?"}),c.jsxs("div",{className:"space-y-3 relative z-10",children:[c.jsx("button",{onPointerDown:v=>{v.stopPropagation(),Rb(async()=>{const{authService:_}=await Promise.resolve().then(()=>bx);return{authService:_}},void 0).then(({authService:_})=>_.signOut()),Ya(null),os(null),Ae("Logout effettuato."),E(null)},className:"w-full bg-red-600 text-white py-4 rounded-xl font-orbitron font-black uppercase tracking-widest text-sm shadow-lg active:scale-95 transition-all border-2 border-white",children:"CONFERMA USCITA"}),c.jsx("button",{onPointerDown:v=>{v.stopPropagation(),E(null)},className:"w-full bg-slate-800 text-slate-400 py-3 rounded-xl font-orbitron font-black uppercase tracking-widest text-xs border border-slate-600 active:scale-95 transition-all hover:text-white",children:"ANNULLA"})]})]})}),j==="duel"&&K&&c.jsx(ew,{currentUser:K,userProfile:Le,mode:P,showToast:Ae,onlinePlayers:Gi,onClose:()=>E("duel_selection"),onMatchStart:(v,_,A,$)=>{E(null),B({id:_,opponentId:A,isDuel:!0,isP1:$}),J.playUIClick(),n(Q=>({...Q,score:0,totalScore:Q.totalScore,streak:0,level:1,timeLeft:P==="time_attack"?60:jn,targetResult:0,status:"playing",estimatedIQ:Q.estimatedIQ,lastLevelPerfect:!0,basePoints:Ei,levelTargets:[]})),Yt(1,v),D(0),$e.resetRoundStatus(_)}}),j==="leaderboard"&&c.jsx("div",{className:"fixed inset-0 z-[1000] flex items-center justify-center p-6 modal-overlay bg-black/80",onPointerDown:()=>{J.playUIClick(),E(null)},children:c.jsxs("div",{className:"glass-panel w-full max-w-md p-6 rounded-[2rem] modal-content flex flex-col h-[70vh]",onPointerDown:v=>v.stopPropagation(),children:[c.jsxs("h2",{className:"text-2xl font-black font-orbitron text-white mb-4 uppercase flex items-center gap-3",children:[c.jsx(dp,{className:"text-amber-400"})," CLASSIFICHE"]}),c.jsxs("div",{className:"flex bg-white/10 rounded-xl p-1 mb-4",children:[c.jsx("button",{onClick:()=>Me(0),onPointerDown:()=>Me(0),className:`flex-1 py-2 rounded-lg font-bold text-xs uppercase transition-all ${te===0?"bg-[#FF8800] text-black shadow-lg":"text-gray-400 hover:text-white"}`,children:"Punteggio"}),c.jsx("button",{onPointerDown:()=>Me(1),className:`flex-1 py-2 rounded-lg font-bold text-xs uppercase transition-all ${te===1?"bg-cyan-500 text-black shadow-lg":"text-gray-400 hover:text-white"}`,children:"Livello Max"})]}),!rn||!rn.byScore&&!Array.isArray(rn)?c.jsx("div",{className:"text-center py-10 text-slate-400 font-orbitron",children:"Caricamento..."}):c.jsxs("div",{className:"space-y-3 overflow-y-auto flex-1 pr-2 custom-scroll",children:[((te===0?rn.byScore:rn.byLevel)||[]).map((v,_)=>{var Q;const A=mp(v.max_level||1),$=A.icon;return c.jsxs("div",{className:"flex justify-between items-center p-4 bg-white/5 rounded-2xl border border-white/5 relative overflow-hidden group",children:[_<3&&c.jsx("div",{className:`absolute left-0 top-0 bottom-0 w-1 ${_===0?"bg-[#FFD700]":_===1?"bg-gray-300":"bg-[#CD7F32]"}`}),c.jsxs("div",{className:"flex items-center gap-3 pl-2",children:[c.jsx("div",{className:"w-9 h-9 min-w-[36px] min-h-[36px] rounded-full bg-slate-800 border-2 border-white/10 overflow-hidden flex items-center justify-center",children:v.avatar_url?c.jsx("img",{src:v.avatar_url,className:"w-full h-full object-cover",alt:v.username}):c.jsx("span",{className:"text-xs font-bold text-slate-500",children:((Q=v.username)==null?void 0:Q.charAt(0))||"?"})}),c.jsxs("div",{className:"flex flex-col",children:[c.jsxs("span",{className:`text-sm font-bold leading-tight ${_<3?"text-white":"text-gray-300"}`,children:[_+1,". ",v.username||"Giocatore"]}),c.jsxs("div",{className:"flex items-center gap-1 mt-0.5",children:[_===0&&c.jsx(Xr,{size:10,className:"text-yellow-400"}),c.jsx($,{size:10,className:A.color}),c.jsx("span",{className:`text-[8px] uppercase font-black tracking-widest ${A.color}`,children:A.title})]})]})]}),c.jsx("div",{className:"flex flex-col items-end",children:te===0?c.jsxs(c.Fragment,{children:[c.jsxs("span",{className:"font-orbitron font-black text-[#FF8800] text-sm",children:[v.total_score," pts"]}),c.jsxs("span",{className:"font-orbitron font-bold text-gray-500 text-[9px]",children:["Liv ",v.max_level]})]}):c.jsxs(c.Fragment,{children:[c.jsxs("span",{className:"font-orbitron font-black text-cyan-400 text-sm",children:["Liv ",v.max_level]}),c.jsxs("span",{className:"font-orbitron font-bold text-gray-500 text-[9px]",children:[v.total_score," pts"]})]})})]},_)}),((te===0?rn.byScore:rn.byLevel)||[]).length===0&&c.jsx("div",{className:"text-center py-8 text-gray-500 text-xs",children:"Nessun dato disponibile"})]}),c.jsx("button",{onPointerDown:()=>{J.playUIClick(),E(null)},className:"mt-4 w-full bg-slate-800 text-white py-4 rounded-xl font-orbitron font-black text-xs uppercase active:scale-95 transition-all",children:"CHIUDI"})]})}),j==="admin"&&c.jsx(W1,{onClose:()=>E(null)}),Ii&&c.jsx(Z1,{onClose:()=>zt(!1),onSuccess:zn}),j==="profile"&&c.jsx(sw,{currentUser:K,userProfile:Le,onClose:()=>E(null),onUpdate:v=>os(v)}),kn&&Fe&&!L&&!ae&&!la&&c.jsx(tw,{matchData:Fe,currentUser:K,isWinnerProp:Fe.winner_id?Fe.winner_id===(K==null?void 0:K.id):Fe.mode==="blitz"?(()=>{const v=Fe.player1_id===(K==null?void 0:K.id),_=v?Fe.p1_rounds:Fe.p2_rounds,A=v?Fe.p2_rounds:Fe.p1_rounds,$=s.score,Q=H;return _>A?!0:A>_?!1:$>Q})():s.score>H,myScore:s.score,opponentScore:H,isFinal:Fe.status==="finished",onReady:()=>{},onExit:Wr}),c.jsx("footer",{className:"mt-auto py-6 text-slate-600 text-slate-600 text-[8px] tracking-[0.4em] uppercase font-black z-10 pointer-events-none opacity-0",children:"AI Evaluation Engine v3.6 - LOCAL DEV"}),c.jsx(Hm,{isVisible:ve,steps:[{targetId:"audio-btn-home",title:"AUDIO IMMERSIVO",description:"Clicca qui per attivare o disattivare il suono. Per un'esperienza ottimale, ti consigliamo di tenerlo acceso!",position:"top"},{targetId:K?"user-profile-home":"login-btn-home",title:K?"PROFILO & STATS":"ACCEDI ORA",description:K?"Qui puoi vedere il tuo punteggio totale e gestire il tuo account.":"Registrati per salvare i progressi, scalare le classifiche e sfidare altri giocatori!",position:"top"},{targetId:"logo-home",title:"IL TUO HUB",description:"Clicca sul logo NUMBER per accedere al tuo Profilo Completo, vedere i Badge sbloccati e i Trofei!",position:"bottom"},{targetId:"tutorial-btn-home",title:"GUIDA AI COMANDI",description:"Se hai dubbi su come giocare, clicca qui per rivedere le regole base.",position:"bottom"},{targetId:"play-btn-home",title:"INIZIA L'AVVENTURA",description:"Pronto a mettere alla prova i tuoi neuroni? Clicca qui per avviare la modalit Classica.",position:"center"},{targetId:"duel-btn-home",title:"SFIDE 1VS1",description:"Entra nell'arena! Sfida altri utenti in tempo reale in duelli di velocit matematica.",position:"bottom"},{targetId:"ranking-btn-home",title:"CLASSIFICA GLOBALE",description:"Controlla la tua posizione nel mondo. Diventerai il numero 1?",position:"bottom"}],onComplete:v=>{re(!1),v&&localStorage.setItem("comic_home_tutorial_done","true")},onSkip:v=>{re(!1),v&&localStorage.setItem("comic_home_tutorial_done","true")}}),c.jsx(Hm,{isVisible:ht,steps:[{targetId:"targets-display-tutorial",title:"I TUOI OBIETTIVI",description:"Questi sono i numeri che devi ottenere. Trova le combinazioni nella griglia per raggiungerli tutti!",position:"top"},{targetId:"grid-container-game",title:"LA GRIGLIA",description:"Collega le celle: NUMERO -> OPERATORE -> NUMERO.  Esempio: 5 + 3.  Non puoi collegare due numeri vicini senza operatore!",position:"center"},{targetId:"score-display-game",title:"PUNTEGGIO",description:"Pi sei veloce e mantieni la streak (serie di risposte corrette), pi punti farai. Punta al record!",position:"right"},{targetId:"timer-display-game",title:"TEMPO & PAUSA",description:"Hai poco tempo! Se ti serve respirare, clicca qui per mettere in PAUSA il sistema.",position:"center"}],onComplete:v=>{Nt(!1),v&&localStorage.setItem("comic_game_tutorial_done","true")},onSkip:v=>{Nt(!1),v&&localStorage.setItem("comic_game_tutorial_done","true")}})]})]})};class lw extends M.Component{constructor(){super(...arguments),this.state={hasError:!1,error:null}}static getDerivedStateFromError(n){return{hasError:!0,error:n}}componentDidCatch(n,r){console.error("Uncaught error:",n,r)}render(){var n,r;return this.state.hasError?c.jsxs("div",{className:"fixed inset-0 z-[99999] bg-red-900 text-white p-10 font-mono overflow-auto",children:[c.jsx("h1",{className:"text-3xl font-bold mb-4",children:"REACT RENDER ERROR"}),c.jsx("pre",{className:"whitespace-pre-wrap",children:(n=this.state.error)==null?void 0:n.toString()}),c.jsx("pre",{className:"mt-4 text-sm opacity-70",children:(r=this.state.error)==null?void 0:r.stack}),c.jsx("button",{onClick:()=>window.location.reload(),className:"mt-8 px-6 py-3 bg-white text-red-900 font-bold rounded",children:"RELOAD"})]}):this.props.children}}const pp=document.getElementById("root");if(!pp)throw new Error("Could not find root element to mount to");const ow=kb.createRoot(pp);ow.render(c.jsx(Oo.StrictMode,{children:c.jsx(lw,{children:c.jsx(rw,{})})}));
